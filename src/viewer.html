<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <!-- <link rel="stylesheet" href="stylesheets/viewer-theme/Solarized (Dark).css"> -->
  <!-- <link rel="stylesheet" href="css/bootstrap.css"> -->
  <!-- <link rel="stylesheet" href="css/viewer/Github2.css"> -->
  <!-- <link rel="stylesheet" href="css/viewer/Solarized (Dark).css"> -->
  <!-- <link rel="stylesheet" href="css/viewer/Solarized (Light).css"> -->
  <!-- <link rel="stylesheet" href="css/code/solarized_dark.css"> -->
  <!-- <link rel="stylesheet" href="css/code/solarized_light.css"> -->
  <!-- <link rel="stylesheet" href="css/todc-bootstrap.css"> -->
  <!-- <link rel="stylesheet" href="css/font-awesome.min.css"> -->
  <!-- <link rel="stylesheet" href="css/viewer/reset.css"> -->
  <!-- <link rel="stylesheet" href="css/viewer/standard.css"> -->
  <!-- <link rel="stylesheet" href="css/viewer/markdown.css"> -->
  <link rel="stylesheet" href="css/viewer.css">
  <!-- <link rel="stylesheet" href="css/app.css"> -->
  <script src="js/vendors/jquery-1.9.1.min.js"></script>
  <script src="js/vendors/js-url.js"></script>
  <script>
    // Load native UI library.
    var gui = require('nw.gui');

    function loadCss(url) {
      var link = document.createElement("link");
      link.type = "text/css";
      link.rel = "stylesheet";
      link.href = url;
      document.getElementsByTagName("head")[0].appendChild(link);
    }

    window.onload = function() {
      loadCss('css/viewer/'+ url('?view') +'.css');
      loadCss('css/code/'+ url('?code') +'.css');
    }

    /**
     * update contents
     * @param  {[type]} contents [description]
     * @return {[type]}          [description]
     */
    function update(contents) {
      //unregister previous anchor click event handler
      $('a').off('click', '**');
      $(document.body).html(contents);
    }

    function allowLink() {
      $('a').on('click', function(e) {
        gui.Shell.openExternal($(e.target).attr('href'));
        e.preventDefault();
      });
    }

    function blockLink() {
      $('a').on('click', function(e) {
        e.preventDefault();
      });
    }

    /**
     * sync scroll position
     * @param  {[type]} per [description]
     * @return {[type]}     [description]
     */
    function scrollTop(per) {
      var h = $(window).height();
      var top = $(document.body).prop('clientHeight') - h;

      $(window).scrollTop(top / 100 * per);
    }
  </script>
</head>
<body class="markdown">
</body>
</html>
