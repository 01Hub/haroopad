window.Echo=function(e,t){"use strict";var r,n,i,o=[],a=function(n){var i=n.getBoundingClientRect();return(i.top>=0&&i.left>=0&&i.top)<=(e.innerHeight||t.documentElement.clientHeight)+parseInt(r)},s=function(){for(var e=o.length;e--;){var t=o[e];a(t)&&(t.src=t.getAttribute("data-echo"),t.removeAttribute("data-echo"),o.splice(e,1))}},l=function(){clearTimeout(i),i=setTimeout(s,n)},c=function(e){o.push(e)},u=function(i){var a=t.querySelectorAll("[data-echo]"),s=i||{};r=s.offset||0,n=s.throttle||250;for(var c=0;a.length>c;c++)o.push(a[c]);l(),t.addEventListener?e.addEventListener("scroll",l,!1):e.attachEvent("onscroll",l)};return{init:u,push:c,render:l}}(window,document);