window.CodeMirror=function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n||{};for(var i in xo)!n.hasOwnProperty(i)&&xo.hasOwnProperty(i)&&(n[i]=xo[i]);h(n);var o="string"==typeof n.value?0:n.value.first,a=this.display=t(r,o);a.wrapper.CodeMirror=this,u(this),n.autofocus&&!eo&&mt(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new ii},l(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var s=n.value;"string"==typeof s&&(s=new Do(n.value,n.mode)),st(this,wn)(this,s),zi&&setTimeout(hi(pt,this,!0),20),yt(this);var c;try{c=document.activeElement==a.input}catch(f){}c||n.autofocus&&!eo?setTimeout(hi(Ht,this),20):zt(this),st(this,function(){for(var e in ko)ko.propertyIsEnumerable(e)&&ko[e](this,n[e],Co);for(var t=0;So.length>t;++t)So[t](this)})()}function t(e,t){var r={},n=r.input=vi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");return Ki?n.style.width="1000px":n.setAttribute("wrap","off"),Qi&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),r.inputDiv=vi("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=vi("div",[vi("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=vi("div",[vi("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=vi("div",null,"CodeMirror-scrollbar-filler"),r.gutterFiller=vi("div",null,"CodeMirror-gutter-filler"),r.lineDiv=vi("div",null,"CodeMirror-code"),r.selectionDiv=vi("div",null,null,"position: relative; z-index: 1"),r.cursor=vi("div"," ","CodeMirror-cursor"),r.otherCursor=vi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=vi("div",null,"CodeMirror-measure"),r.lineSpace=vi("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=vi("div",[vi("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=vi("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=vi("div",null,null,"position: absolute; height: "+$o+"px; width: 1px;"),r.gutters=vi("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=vi("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=vi("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),Wi&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),e.appendChild?e.appendChild(r.wrapper):e(r.wrapper),Qi&&(n.style.width="0px"),Ki||(r.scroller.draggable=!0),Xi?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):Wi&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=t,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new ii,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,N(e,100),e.state.modeGen++,e.curOp&&ut(e)}function i(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),d(e)),a(e),ut(e),V(e),setTimeout(function(){p(e)},100)}function o(e){var t=nt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/it(e.display)-3);return function(i){return Jr(e.doc,i)?0:r?(Math.ceil(i.text.length/n)||1)*t:t}}function a(e){var t=e.doc,r=o(e);t.iter(function(e){var t=r(e);t!=e.height&&Ln(e,t)})}function s(e){var t=Ao[e.options.keyMap],r=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(r?" cm-keymap-"+r:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),V(e)}function c(e){u(e),ut(e),setTimeout(function(){g(e)},20)}function u(e){var t=e.display.gutters,r=e.options.gutters;yi(t);for(var n=0;r.length>n;++n){var i=r[n],o=t.appendChild(vi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none"}function f(e,t){if(0==t.height)return 0;for(var r,n=t.text.length,i=t;r=Vr(i);){var o=r.find();i=_n(e,o.from.line),n+=o.from.ch-o.to.ch}for(i=t;r=Gr(i);){var o=r.find();n-=i.text.length-o.from.ch,i=_n(e,o.to.line),n+=i.text.length-o.to.ch}return n}function d(e){var t=e.display,r=e.doc;t.maxLine=_n(r,r.first),t.maxLineLength=f(r,t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var n=f(r,e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function h(e){var t=ci(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,r=e.doc.height,n=r+z(t);t.sizer.style.minHeight=t.heightForcer.style.top=n+"px",t.gutters.style.height=Math.max(n,t.scroller.clientHeight-$o)+"px";var i=Math.max(n,t.scroller.scrollHeight),o=t.scroller.scrollWidth>t.scroller.clientWidth+1,a=i>t.scroller.clientHeight+1;a?(t.scrollbarV.style.display="block",t.scrollbarV.style.bottom=o?wi(t.measure)+"px":"0",t.scrollbarV.firstChild.style.height=Math.max(0,i-t.scroller.clientHeight+t.scrollbarV.clientHeight)+"px"):(t.scrollbarV.style.display="",t.scrollbarV.firstChild.style.height="0"),o?(t.scrollbarH.style.display="block",t.scrollbarH.style.right=a?wi(t.measure)+"px":"0",t.scrollbarH.firstChild.style.width=t.scroller.scrollWidth-t.scroller.clientWidth+t.scrollbarH.clientWidth+"px"):(t.scrollbarH.style.display="",t.scrollbarH.firstChild.style.width="0"),o&&a?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=t.scrollbarFiller.style.width=wi(t.measure)+"px"):t.scrollbarFiller.style.display="",o&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=wi(t.measure)+"px",t.gutterFiller.style.width=t.gutters.offsetWidth+"px"):t.gutterFiller.style.display="",Yi&&0===wi(t.measure)&&(t.scrollbarV.style.minWidth=t.scrollbarH.style.minHeight=Ji?"18px":"12px",t.scrollbarV.style.pointerEvents=t.scrollbarH.style.pointerEvents="none")}function m(e,t,r){var n=e.scroller.scrollTop,i=e.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,i=r.bottom-r.top),n=Math.floor(n-H(e));var o=Math.ceil(n+i);return{from:An(t,n),to:An(t,o)}}function g(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=b(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,i=r+"px",o=t.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var a=0,s=o.alignable;s.length>a;++a)s[a].style.left=i;e.options.fixedGutter&&(t.gutters.style.left=r+n+"px")}}function v(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=y(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(vi("div",[vi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a),n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function y(e,t){return e.lineNumberFormatter(t+e.firstLineNumber)+""}function b(e){return xi(e.scroller).left-xi(e.sizer).left}function k(e,t,r,n){for(var i,o=e.display.showingFrom,a=e.display.showingTo,s=m(e.display,e.doc,r),l=!0;;l=!1){var c=e.display.scroller.clientWidth;if(!x(e,t,s,n))break;if(i=!0,t=[],A(e),p(e),l&&e.options.lineWrapping&&c!=e.display.scroller.clientWidth)n=!0;else if(n=!1,r&&(r=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,"number"==typeof r?r:r.top)),s=m(e.display,e.doc,r),s.from>=e.display.showingFrom&&s.to<=e.display.showingTo)break}return i&&(Qn(e,"update",e),(e.display.showingFrom!=o||e.display.showingTo!=a)&&Qn(e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),i}function x(e,t,r,n){var i=e.display,o=e.doc;if(!i.wrapper.offsetWidth)return i.showingFrom=i.showingTo=o.first,i.viewOffset=0,void 0;if(!(!n&&0==t.length&&r.from>i.showingFrom&&r.to<i.showingTo)){v(e)&&(t=[{from:o.first,to:o.first+o.size}]);var a=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";i.scrollbarH.style.left=e.options.fixedGutter?a:"0";var s=1/0;if(e.options.lineNumbers)for(var l=0;t.length>l;++l)t[l].diff&&s>t[l].from&&(s=t[l].from);var c=o.first+o.size,u=Math.max(r.from-e.options.viewportMargin,o.first),f=Math.min(c,r.to+e.options.viewportMargin);if(u>i.showingFrom&&20>u-i.showingFrom&&(u=Math.max(o.first,i.showingFrom)),i.showingTo>f&&20>i.showingTo-f&&(f=Math.min(c,i.showingTo)),uo)for(u=Tn(Yr(o,_n(o,u)));c>f&&Jr(o,_n(o,f));)++f;var d=[{from:Math.max(i.showingFrom,o.first),to:Math.min(i.showingTo,c)}];if(d=d[0].from>=d[0].to?[]:_(d,t),uo)for(var l=0;d.length>l;++l)for(var h,p=d[l];h=Gr(_n(o,p.to-1));){var m=h.find().from.line;if(!(m>p.from)){d.splice(l--,1);break}p.to=m}for(var g=0,l=0;d.length>l;++l){var p=d[l];u>p.from&&(p.from=u),p.to>f&&(p.to=f),p.from>=p.to?d.splice(l--,1):g+=p.to-p.from}if(!n&&g==f-u&&u==i.showingFrom&&f==i.showingTo)return w(e),void 0;d.sort(function(e,t){return e.from-t.from});try{var y=document.activeElement}catch(b){}.7*(f-u)>g&&(i.lineDiv.style.display="none"),S(e,u,f,d,s),i.lineDiv.style.display="",y&&document.activeElement!=y&&y.offsetHeight&&y.focus();var k=u!=i.showingFrom||f!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;return k&&(i.lastSizeC=i.wrapper.clientHeight,N(e,400)),i.showingFrom=u,i.showingTo=f,i.gutters.style.height="",C(e),w(e),!0}}function C(e){for(var t,r=e.display,n=r.lineDiv.offsetTop,i=r.lineDiv.firstChild;i;i=i.nextSibling)if(i.lineObj){if(Wi){var o=i.offsetTop+i.offsetHeight;t=o-n,n=o}else{var a=xi(i);t=a.bottom-a.top}var s=i.lineObj.height-t;if(2>t&&(t=nt(r)),s>.001||-.001>s){Ln(i.lineObj,t);var l=i.lineObj.widgets;if(l)for(var c=0;l.length>c;++c)l[c].height=l[c].node.offsetHeight}}}function w(e){var t=e.display.viewOffset=En(e,_n(e.doc,e.display.showingFrom));e.display.mover.style.top=t+"px"}function _(e,t){for(var r=0,n=t.length||0;n>r;++r){for(var i=t[r],o=[],a=i.diff||0,s=0,l=e.length;l>s;++s){var c=e[s];i.to<=c.from&&i.diff?o.push({from:c.from+a,to:c.to+a}):i.to<=c.from||i.from>=c.to?o.push(c):(i.from>c.from&&o.push({from:c.from,to:i.from}),i.to<c.to&&o.push({from:i.to+a,to:c.to+a}))}e=o}return e}function M(e){for(var t=e.display,r={},n={},i=t.gutters.firstChild,o=0;i;i=i.nextSibling,++o)r[e.options.gutters[o]]=i.offsetLeft,n[e.options.gutters[o]]=i.offsetWidth;return{fixedPos:b(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function S(e,t,r,n,i){function o(t){var r=t.nextSibling;return Ki&&to&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),r}var a=M(e),s=e.display,l=e.options.lineNumbers;n.length||Ki&&e.display.currentWheelTarget||yi(s.lineDiv);var c=s.lineDiv,u=c.firstChild,f=n.shift(),d=t;for(e.doc.iter(t,r,function(t){if(f&&f.to==d&&(f=n.shift()),Jr(e.doc,t)){if(0!=t.height&&Ln(t,0),t.widgets&&u&&u.previousSibling)for(var r=0;t.widgets.length>r;++r){var s=t.widgets[r];if(s.showIfHidden){var h=u.previousSibling;if(/pre/i.test(h.nodeName)){var p=vi("div",null,null,"position: relative");h.parentNode.replaceChild(p,h),p.appendChild(h),h=p}var m=h.appendChild(vi("div",[s.node],"CodeMirror-linewidget"));s.handleMouseEvents||(m.ignoreEvents=!0),T(s,m,h,a)}}}else if(f&&d>=f.from&&f.to>d){for(;u.lineObj!=t;)u=o(u);l&&d>=i&&u.lineNumber&&ki(u.lineNumber,y(e.options,d)),u=u.nextSibling}else{if(t.widgets)for(var g,v=0,b=u;b&&20>v;++v,b=b.nextSibling)if(b.lineObj==t&&/div/i.test(b.nodeName)){g=b;break}var k=L(e,t,d,a,g);if(k!=g)c.insertBefore(k,u);else{for(;u!=g;)u=o(u);u=u.nextSibling}k.lineObj=t}++d});u;)u=o(u)}function L(e,t,r,n,i){var o,a=dn(e,t),s=a.pre,l=t.gutterMarkers,c=e.display,u=a.bgClass?a.bgClass+" "+(t.bgClass||""):t.bgClass;if(!(e.options.lineNumbers||l||u||t.wrapClass||t.widgets))return s;if(i){i.alignable=null;for(var f,d=!0,h=0,p=null,m=i.firstChild;m;m=f)if(f=m.nextSibling,/\bCodeMirror-linewidget\b/.test(m.className)){for(var g=0;t.widgets.length>g;++g){var v=t.widgets[g];if(v.node==m.firstChild){v.above||p||(p=m),T(v,m,i,n),++h;break}}if(g==t.widgets.length){d=!1;break}}else i.removeChild(m);i.insertBefore(s,p),d&&h==t.widgets.length&&(o=i,i.className=t.wrapClass||"")}if(o||(o=vi("div",null,t.wrapClass,"position: relative"),o.appendChild(s)),u&&o.insertBefore(vi("div",null,u+" CodeMirror-linebackground"),o.firstChild),e.options.lineNumbers||l){var b=o.insertBefore(vi("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),s);if(e.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(b),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(o.lineNumber=b.appendChild(vi("div",y(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.lineNumInnerWidth+"px"))),l)for(var k=0;e.options.gutters.length>k;++k){var x=e.options.gutters[k],C=l.hasOwnProperty(x)&&l[x];C&&b.appendChild(vi("div",[C],"CodeMirror-gutter-elt","left: "+n.gutterLeft[x]+"px; width: "+n.gutterWidth[x]+"px"))}}if(Wi&&(o.style.zIndex=2),t.widgets&&o!=i)for(var g=0,w=t.widgets;w.length>g;++g){var v=w[g],_=vi("div",[v.node],"CodeMirror-linewidget");v.handleMouseEvents||(_.ignoreEvents=!0),T(v,_,o,n),v.above?o.insertBefore(_,e.options.lineNumbers&&0!=t.height?b:s):o.appendChild(_),Qn(v,"redraw")}return o}function T(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function A(e){var t=e.display,r=Jt(e.doc.sel.from,e.doc.sel.to);if(r||e.options.showCursorWhenSelecting?E(e):t.cursor.style.display=t.otherCursor.style.display="none",r?t.selectionDiv.style.display="none":I(e),e.options.moveInputWithCursor){var n=Q(e,e.doc.sel.head,"div"),i=xi(t.wrapper),o=xi(t.lineDiv);t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+o.top-i.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+o.left-i.left))+"px"}}function E(e){var t=e.display,r=Q(e,e.doc.sel.head,"div");t.cursor.style.left=r.left+"px",t.cursor.style.top=r.top+"px",t.cursor.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",t.cursor.style.display="",r.other?(t.otherCursor.style.display="",t.otherCursor.style.left=r.other.left+"px",t.otherCursor.style.top=r.other.top+"px",t.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):t.otherCursor.style.display="none"}function I(e){function t(e,t,r,n){0>t&&(t=0),a.appendChild(vi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function r(r,n,o){function a(t,n){return Z(e,Yt(r,t),"div",f,n)}var s,u,f=_n(i,r),d=f.text.length;return Mi(In(f),n||0,null==o?d:o,function(e,r,i){var f,h,p,m=a(e,"left");if(e==r)f=m,h=p=m.left;else{if(f=a(r-1,"right"),"rtl"==i){var g=m;m=f,f=g}h=m.left,p=f.right}null==n&&0==e&&(h=l),f.top-m.top>3&&(t(h,m.top,null,m.bottom),h=l,m.bottom<f.top&&t(h,m.bottom,null,f.top)),null==o&&r==d&&(p=c),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!u||f.bottom>u.bottom||f.bottom==u.bottom&&f.right>u.right)&&(u=f),l+1>h&&(h=l),t(h,f.top,p-h,f.bottom)}),{start:s,end:u}}var n=e.display,i=e.doc,o=e.doc.sel,a=document.createDocumentFragment(),s=W(e.display),l=s.left,c=n.lineSpace.offsetWidth-s.right;if(o.from.line==o.to.line)r(o.from.line,o.from.ch,o.to.ch);else{var u=_n(i,o.from.line),f=_n(i,o.to.line),d=Yr(i,u)==Yr(i,f),h=r(o.from.line,o.from.ch,d?u.text.length:null).end,p=r(o.to.line,d?0:null,o.to.ch).start;d&&(h.top<p.top-2?(t(h.right,h.top,null,h.bottom),t(l,p.top,p.left,p.bottom)):t(h.right,h.top,p.left-h.right,h.bottom)),h.bottom<p.top&&t(l,h.bottom,null,p.top)}bi(n.selectionDiv,a),n.selectionDiv.style.display=""}function O(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",e.options.cursorBlinkRate>0&&(t.blinker=setInterval(function(){t.cursor.style.visibility=t.otherCursor.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate))}}function N(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.showingTo&&e.state.highlight.set(t,hi(R,e))}function R(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.showingTo)){var r,n=+new Date+e.options.workTime,i=wr(t.mode,D(e,t.frontier)),o=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.showingTo+500),function(a){if(t.frontier>=e.display.showingFrom){var s=a.styles;a.styles=ln(e,a,i,!0);for(var l=!s||s.length!=a.styles.length,c=0;!l&&s.length>c;++c)l=s[c]!=a.styles[c];l&&(r&&r.end==t.frontier?r.end++:o.push(r={start:t.frontier,end:t.frontier+1})),a.stateAfter=wr(t.mode,i)}else un(e,a.text,i),a.stateAfter=0==t.frontier%5?wr(t.mode,i):null;return++t.frontier,+new Date>n?(N(e,e.options.workDelay),!0):void 0}),o.length&&st(e,function(){for(var e=0;o.length>e;++e)ut(this,o[e].start,o[e].end)})()}}function P(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(o.first>=s)return o.first;var l=_n(o,s-1);if(l.stateAfter&&(!r||o.frontier>=s))return s;var c=oi(l.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function D(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=P(e,t,r),a=o>n.first&&_n(n,o-1).stateAfter;return a=a?wr(n.mode,a):_r(n.mode),n.iter(o,t,function(r){un(e,r.text,a);var s=o==t-1||0==o%5||o>=i.showingFrom&&i.showingTo>o;r.stateAfter=s?wr(n.mode,a):null,++o}),r&&(n.frontier=o),a}function H(e){return e.lineSpace.offsetTop}function z(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function W(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=bi(e.measure,vi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;return e.cachedPaddingH={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)}}function F(e,t,r,n,i){var o=-1;if(n=n||q(e,t),n.crude){var a=n.left+r*n.width;return{left:a,right:a+n.width,top:n.top,bottom:n.bottom}}for(var s=r;;s+=o){var l=n[s];if(l)break;0>o&&0==s&&(o=1)}return i=s>r?"left":r>s?"right":i,"left"==i&&l.leftSide?l=l.leftSide:"right"==i&&l.rightSide&&(l=l.rightSide),{left:r>s?l.right:l.left,right:s>r?l.left:l.right,top:l.top,bottom:l.bottom}}function $(e,t){for(var r=e.display.measureLineCache,n=0;r.length>n;++n){var i=r[n];if(i.text==t.text&&i.markedSpans==t.markedSpans&&e.display.scroller.clientWidth==i.width&&i.classes==t.textClass+"|"+t.wrapClass)return i}}function B(e,t){var r=$(e,t);r&&(r.text=r.measure=r.markedSpans=null)}function q(e,t){var r=$(e,t);if(r)return r.measure;var n=K(e,t),i=e.display.measureLineCache,o={text:t.text,width:e.display.scroller.clientWidth,markedSpans:t.markedSpans,measure:n,classes:t.textClass+"|"+t.wrapClass};return 16==i.length?i[++e.display.measureLineCachePos%16]=o:i.push(o),n}function K(e,t){function r(e){var t=e.top-p.top,r=e.bottom-p.top;r>v&&(r=v),0>t&&(t=0);for(var n=m.length-2;n>=0;n-=2){var i=m[n],o=m[n+1];if(!(i>r||t>o)&&(t>=i&&o>=r||i>=t&&r>=o||Math.min(r,o)-Math.max(t,i)>=r-t>>1)){m[n]=Math.min(t,i),m[n+1]=Math.max(r,o);break}}return 0>n&&(n=m.length,m.push(t,r)),{left:e.left-p.left,right:e.right-p.left,top:n,bottom:null}}function n(e){e.bottom=m[e.top+1],e.top=m[e.top]}if(!e.options.lineWrapping&&t.text.length>=e.options.crudeMeasuringFrom)return j(e,t);var i=e.display,o=di(t.text.length),a=dn(e,t,o,!0).pre;if(zi&&!Wi&&!e.options.lineWrapping&&a.childNodes.length>100){for(var s=document.createDocumentFragment(),l=10,c=a.childNodes.length,u=0,f=Math.ceil(c/l);f>u;++u){for(var d=vi("div",null,null,"display: inline-block"),h=0;l>h&&c;++h)d.appendChild(a.firstChild),--c;s.appendChild(d)}a.appendChild(s)}bi(i.measure,a);var p=xi(i.lineDiv),m=[],g=di(t.text.length),v=a.offsetHeight;Fi&&i.measure.first!=a&&bi(i.measure,a);for(var y,u=0;o.length>u;++u)if(y=o[u]){var b=y,k=null;if(/\bCodeMirror-widget\b/.test(y.className)&&y.getClientRects){1==y.firstChild.nodeType&&(b=y.firstChild);var x=b.getClientRects();x.length>1&&(k=g[u]=r(x[0]),k.rightSide=r(x[x.length-1]))}k||(k=g[u]=r(xi(b))),y.measureRight&&(k.right=xi(y.measureRight).left-p.left),y.leftSide&&(k.leftSide=r(xi(y.leftSide)))}yi(e.display.measure);for(var y,u=0;g.length>u;++u)(y=g[u])&&(n(y),y.leftSide&&n(y.leftSide),y.rightSide&&n(y.rightSide));return g}function j(e,t){var r=new Oo(t.text.slice(0,100),null);t.textClass&&(r.textClass=t.textClass);var n=K(e,r),i=F(e,r,0,n,"left"),o=F(e,r,99,n,"right");return{crude:!0,top:i.top,left:i.left,bottom:i.bottom,width:(o.right-i.left)/100}}function U(e,t){var r=!1;if(t.markedSpans)for(var n=0;t.markedSpans>n;++n){var i=t.markedSpans[n];!i.collapsed||null!=i.to&&i.to!=t.text.length||(r=!0)}var o=!r&&$(e,t);if(o||t.text.length>=e.options.crudeMeasuringFrom)return F(e,t,t.text.length,o&&o.measure,"right").right;var a=dn(e,t,null,!0).pre,s=a.appendChild(_i(e.display.measure));return bi(e.display.measure,a),xi(s).right-xi(e.display.lineDiv).left}function V(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function G(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function X(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Y(e,t,r,n){if(t.widgets)for(var i=0;t.widgets.length>i;++i)if(t.widgets[i].above){var o=rn(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=En(e,t);if("local"==n?a+=H(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=xi(e.display.lineSpace);a+=s.top+("window"==n?0:X());var l=s.left+("window"==n?0:G());r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function J(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=G(),i-=X();else if("local"==r||!r){var o=xi(e.display.sizer);n+=o.left,i+=o.top}var a=xi(e.display.lineSpace);return{left:n-a.left,top:i-a.top}}function Z(e,t,r,n,i){return n||(n=_n(e.doc,t.line)),Y(e,n,F(e,n,t.ch,null,i),r)}function Q(e,t,r,n,i){function o(t,o){var a=F(e,n,t,i,o?"right":"left");return o?a.left=a.right:a.right=a.left,Y(e,n,a,r)}function a(e,t){var r=s[t],n=r.level%2;return e==Si(r)&&t&&r.level<s[t-1].level?(r=s[--t],e=Li(r)-(r.level%2?0:1),n=!0):e==Li(r)&&s.length-1>t&&r.level<s[t+1].level&&(r=s[++t],e=Si(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?o(e-1):o(e,n)}n=n||_n(e.doc,t.line),i||(i=q(e,n));var s=In(n),l=t.ch;if(!s)return o(l);var c=Ni(s,l),u=a(l,c);return null!=Qo&&(u.other=a(l,Qo)),u}function et(e,t,r,n){var i=new Yt(e,t);return i.xRel=n,r&&(i.outside=!0),i}function tt(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,0>r)return et(n.first,0,!0,-1);var i=An(n,r),o=n.first+n.size-1;if(i>o)return et(n.first+n.size-1,_n(n,o).text.length,!0,1);for(0>t&&(t=0);;){var a=_n(n,i),s=rt(e,a,i,t,r),l=Gr(a),c=l&&l.find();if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=c.to.line}}function rt(e,t,r,n,i){function o(n){var i=Q(e,Yt(r,n),"line",t,c);return s=!0,a>i.bottom?i.left-l:i.top>a?i.left+l:(s=!1,i.left)}var a=i-En(e,t),s=!1,l=2*e.display.wrapper.clientWidth,c=q(e,t),u=In(t),f=t.text.length,d=Ti(t),h=Ai(t),p=o(d),m=s,g=o(h),v=s;if(n>g)return et(r,h,v,1);for(;;){if(u?h==d||h==Pi(t,d,1):1>=h-d){for(var y=p>n||g-n>=n-p?d:h,b=n-(y==d?p:g);gi(t.text.charAt(y));)++y;var k=et(r,y,y==d?m:v,0>b?-1:b?1:0);return k}var x=Math.ceil(f/2),C=d+x;if(u){C=d;for(var w=0;x>w;++w)C=Pi(t,C,1)}var _=o(C);_>n?(h=C,g=_,(v=s)&&(g+=1e3),f=x):(d=C,p=_,m=s,f-=x)}}function nt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==io){io=vi("pre");for(var t=0;49>t;++t)io.appendChild(document.createTextNode("x")),io.appendChild(vi("br"));io.appendChild(document.createTextNode("x"))}bi(e.measure,io);var r=io.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),yi(e.measure),r||1}function it(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=vi("span","x"),r=vi("pre",[t]);bi(e.measure,r);var n=t.offsetWidth;return n>2&&(e.cachedCharWidth=n),n||10}function ot(e){e.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++fo},Fo++||(Wo=[])}function at(e){var t=e.curOp,r=e.doc,n=e.display;if(e.curOp=null,t.updateMaxLine&&d(e),n.maxLineChanged&&!e.options.lineWrapping&&n.maxLine){var i=U(e,n.maxLine);n.sizer.style.minWidth=Math.max(0,i+3)+"px",n.maxLineChanged=!1;var o=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);r.scrollLeft>o&&!t.updateScrollPos&&Tt(e,Math.min(n.scroller.scrollLeft,o),!0)}var a,s;if(t.updateScrollPos)a=t.updateScrollPos;else if(t.selectionChanged&&n.scroller.clientHeight){var l=Q(e,r.sel.head);a=hr(e,l.left,l.top,l.left,l.bottom)}if((t.changes.length||t.forceUpdate||a&&null!=a.scrollTop)&&(s=k(e,t.changes,a&&a.scrollTop,t.forceUpdate),e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop)),!s&&t.selectionChanged&&A(e),t.updateScrollPos){var c=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,a.scrollTop)),u=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,a.scrollLeft));n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=c,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=u,g(e),t.scrollToPos&&fr(e,rr(e.doc,t.scrollToPos.from),rr(e.doc,t.scrollToPos.to),t.scrollToPos.margin)}else a&&ur(e);t.selectionChanged&&O(e),e.state.focused&&t.updateInput&&pt(e,t.userSelChange);var f=t.maybeHiddenMarkers,h=t.maybeUnhiddenMarkers;if(f)for(var p=0;f.length>p;++p)f[p].lines.length||Zn(f[p],"hide");if(h)for(var p=0;h.length>p;++p)h[p].lines.length&&Zn(h[p],"unhide");var m;if(--Fo||(m=Wo,Wo=null),t.textChanged&&Zn(e,"change",e,t.textChanged),t.cursorActivity&&Zn(e,"cursorActivity",e),m)for(var p=0;m.length>p;++p)m[p]()}function st(e,t){return function(){var r=e||this,n=!r.curOp;n&&ot(r);try{var i=t.apply(r,arguments)}finally{n&&at(r)}return i}}function lt(e){return function(){var t,r=this.cm&&!this.cm.curOp;r&&ot(this.cm);try{t=e.apply(this,arguments)}finally{r&&at(this.cm)}return t}}function ct(e,t){var r,n=!e.curOp;n&&ot(e);try{r=t()}finally{n&&at(e)}return r}function ut(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),e.curOp.changes.push({from:t,to:r,diff:n})}function ft(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){ht(e),e.state.focused&&ft(e)})}function dt(e){function t(){var n=ht(e);n||r?(e.display.pollingFast=!1,ft(e)):(r=!0,e.display.poll.set(60,t))}var r=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function ht(e){var t=e.display.input,r=e.display.prevInput,n=e.doc,i=n.sel;if(!e.state.focused||Yo(t)||vt(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var o=t.value;if(o==r&&Jt(i.from,i.to))return!1;if(qi&&!Fi&&e.display.inputHasSelection===o)return pt(e,!0),!1;var a=!e.curOp;a&&ot(e),i.shift=!1;for(var s=0,l=Math.min(r.length,o.length);l>s&&r.charCodeAt(s)==o.charCodeAt(s);)++s;var c=i.from,u=i.to,f=o.slice(s);r.length>s?c=Yt(c.line,c.ch-(r.length-s)):e.state.overwrite&&Jt(c,u)&&!e.state.pasteIncoming&&(u=Yt(u.line,Math.min(_n(n,u.line).text.length,u.ch+f.length)));var d=e.curOp.updateInput,h={from:c,to:u,text:Xo(f),origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(qt(e.doc,h,"end"),e.curOp.updateInput=d,Qn(e,"inputRead",e,h),f&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&100>i.head.ch){var p=e.getModeAt(i.head).electricChars;if(p)for(var m=0;p.length>m;m++)if(f.indexOf(p.charAt(m))>-1){gr(e,i.head.line,"smart");break}}return o.length>1e3||o.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=o,a&&at(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function pt(e,t){var r,n,i=e.doc;if(Jt(i.sel.from,i.sel.to))t&&(e.display.prevInput=e.display.input.value="",qi&&!Fi&&(e.display.inputHasSelection=null));else{e.display.prevInput="",r=Jo&&(i.sel.to.line-i.sel.from.line>100||(n=e.getSelection()).length>1e3);var o=r?"-":n||e.getSelection();e.display.input.value=o,e.state.focused&&li(e.display.input),qi&&!Fi&&(e.display.inputHasSelection=o)}e.display.inaccurateSelection=r}function mt(e){"nocursor"==e.options.readOnly||eo&&document.activeElement==e.display.input||e.display.input.focus()}function gt(e){e.state.focused||(mt(e),Ht(e))}function vt(e){return e.options.readOnly||e.doc.cantEdit}function yt(e){function t(){e.state.focused&&setTimeout(hi(mt,e),0)}function r(){null==s&&(s=setTimeout(function(){s=null,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=Vo=null,V(e),ct(e,hi(ut,e))},100))}function n(){for(var e=a.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(n,5e3):Jn(window,"resize",r)}function i(t){ei(e,t)||e.options.onDragEvent&&e.options.onDragEvent(e,qn(t))||Vn(t)}function o(t){a.inaccurateSelection&&(a.prevInput="",a.inaccurateSelection=!1,a.input.value=e.getSelection(),li(a.input)),"cut"==t.type&&(e.state.cutIncoming=!0)}var a=e.display;Yn(a.scroller,"mousedown",st(e,xt)),zi?Yn(a.scroller,"dblclick",st(e,function(t){if(!ei(e,t)){var r=kt(e,t);if(r&&!_t(e,t)&&!bt(e.display,t)){Kn(t);var n=kr(_n(e.doc,r.line).text,r);or(e.doc,n.from,n.to)}}})):Yn(a.scroller,"dblclick",function(t){ei(e,t)||Kn(t)}),Yn(a.lineSpace,"selectstart",function(e){bt(a,e)||Kn(e)}),lo||Yn(a.scroller,"contextmenu",function(t){Wt(e,t)}),Yn(a.scroller,"scroll",function(){a.scroller.clientHeight&&(Lt(e,a.scroller.scrollTop),Tt(e,a.scroller.scrollLeft,!0),Zn(e,"scroll",e))}),Yn(a.scrollbarV,"scroll",function(){a.scroller.clientHeight&&Lt(e,a.scrollbarV.scrollTop)}),Yn(a.scrollbarH,"scroll",function(){a.scroller.clientHeight&&Tt(e,a.scrollbarH.scrollLeft)}),Yn(a.scroller,"mousewheel",function(t){At(e,t)}),Yn(a.scroller,"DOMMouseScroll",function(t){At(e,t)}),Yn(a.scrollbarH,"mousedown",t),Yn(a.scrollbarV,"mousedown",t),Yn(a.wrapper,"scroll",function(){a.wrapper.scrollTop=a.wrapper.scrollLeft=0});var s;Yn(window,"resize",r),setTimeout(n,5e3),Yn(a.input,"keyup",st(e,Rt)),Yn(a.input,"input",function(){qi&&!Fi&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),dt(e)}),Yn(a.input,"keydown",st(e,Pt)),Yn(a.input,"keypress",st(e,Dt)),Yn(a.input,"focus",hi(Ht,e)),Yn(a.input,"blur",hi(zt,e)),e.options.dragDrop&&(Yn(a.scroller,"dragstart",function(t){St(e,t)}),Yn(a.scroller,"dragenter",i),Yn(a.scroller,"dragover",i),Yn(a.scroller,"drop",st(e,Mt))),Yn(a.scroller,"paste",function(t){bt(a,t)||(mt(e),dt(e))}),Yn(a.input,"paste",function(){if(Ki&&!e.state.fakedLastChar&&!(200>new Date-e.state.lastMiddleDown)){var t=a.input.selectionStart,r=a.input.selectionEnd;a.input.value+="$",a.input.selectionStart=t,a.input.selectionEnd=r,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,dt(e)}),Yn(a.input,"cut",o),Yn(a.input,"copy",o),Xi&&Yn(a.sizer,"mouseup",function(){document.activeElement==a.input&&a.input.blur(),mt(e)
})}function bt(e,t){for(var r=Gn(t);r!=e.wrapper;r=r.parentNode)if(!r||r.ignoreEvents||r.parentNode==e.sizer&&r!=e.mover)return!0}function kt(e,t,r){var n=e.display;if(!r){var i=Gn(t);if(i==n.scrollbarH||i==n.scrollbarH.firstChild||i==n.scrollbarV||i==n.scrollbarV.firstChild||i==n.scrollbarFiller||i==n.gutterFiller)return null}var o,a,s=xi(n.lineSpace);try{o=t.clientX,a=t.clientY}catch(t){return null}return tt(e,o-s.left,a-s.top)}function xt(e){function t(e){if(!Jt(v,e)){if(v=e,"single"==u)return or(i.doc,rr(a,l),e),void 0;if(p=rr(a,p),g=rr(a,g),"double"==u){var t=kr(_n(a,e.line).text,e);Zt(e,p)?or(i.doc,t.from,g):or(i.doc,p,t.to)}else"triple"==u&&(Zt(e,p)?or(i.doc,g,rr(a,Yt(e.line,0))):or(i.doc,p,rr(a,Yt(e.line+1,0))))}}function r(e){var n=++b,s=kt(i,e,!0);if(s)if(Jt(s,d)){var l=e.clientY<y.top?-20:e.clientY>y.bottom?20:0;l&&setTimeout(st(i,function(){b==n&&(o.scroller.scrollTop+=l,r(e))}),50)}else{gt(i),d=s,t(s);var c=m(o,a);(s.line>=c.to||s.line<c.from)&&setTimeout(st(i,function(){b==n&&r(e)}),150)}}function n(e){b=1/0,Kn(e),mt(i),Jn(document,"mousemove",k),Jn(document,"mouseup",x)}if(!ei(this,e)){var i=this,o=i.display,a=i.doc,s=a.sel;if(s.shift=e.shiftKey,bt(o,e))return Ki||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)),void 0;if(!_t(i,e)){var l=kt(i,e);switch(window.focus(),Xn(e)){case 3:return lo&&Wt.call(i,i,e),void 0;case 2:return Ki&&(i.state.lastMiddleDown=+new Date),l&&or(i.doc,l),setTimeout(hi(mt,i),20),Kn(e),void 0}if(!l)return Gn(e)==o.scroller&&Kn(e),void 0;setTimeout(hi(gt,i),0);var c=+new Date,u="single";if(ao&&ao.time>c-400&&Jt(ao.pos,l))u="triple",Kn(e),setTimeout(hi(mt,i),20),xr(i,l.line);else if(oo&&oo.time>c-400&&Jt(oo.pos,l)){u="double",ao={time:c,pos:l},Kn(e);var f=kr(_n(a,l.line).text,l);or(i.doc,f.from,f.to)}else oo={time:c,pos:l};var d=l;if(i.options.dragDrop&&Uo&&!vt(i)&&!Jt(s.from,s.to)&&!Zt(l,s.from)&&!Zt(s.to,l)&&"single"==u){var h=st(i,function(t){Ki&&(o.scroller.draggable=!1),i.state.draggingText=!1,Jn(document,"mouseup",h),Jn(o.scroller,"drop",h),10>Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)&&(Kn(t),or(i.doc,l),mt(i),zi&&!Fi&&setTimeout(function(){document.body.focus(),mt(i)},20))});return Ki&&(o.scroller.draggable=!0),i.state.draggingText=h,o.scroller.dragDrop&&o.scroller.dragDrop(),Yn(document,"mouseup",h),Yn(o.scroller,"drop",h),void 0}Kn(e),"single"==u&&or(i.doc,rr(a,l));var p=s.from,g=s.to,v=l,y=xi(o.wrapper),b=0,k=st(i,function(e){(qi&&!$i?e.buttons:Xn(e))?r(e):n(e)}),x=st(i,n);Yn(document,"mousemove",k),Yn(document,"mouseup",x)}}}function Ct(e,t,r,n,i){try{var o=t.clientX,a=t.clientY}catch(t){return!1}if(o>=Math.floor(xi(e.display.gutters).right))return!1;n&&Kn(t);var s=e.display,l=xi(s.lineDiv);if(a>l.bottom||!ri(e,r))return Un(t);a-=l.top-s.viewOffset;for(var c=0;e.options.gutters.length>c;++c){var u=s.gutters.childNodes[c];if(u&&xi(u).right>=o){var f=An(e.doc,a),d=e.options.gutters[c];return i(e,r,e,f,d,t),Un(t)}}}function wt(e,t){return ri(e,"gutterContextMenu")?Ct(e,t,"gutterContextMenu",!1,Zn):!1}function _t(e,t){return Ct(e,t,"gutterClick",!0,Qn)}function Mt(e){var t=this;if(!(ei(t,e)||bt(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,qn(e)))){Kn(e),qi&&(ho=+new Date);var r=kt(t,e,!0),n=e.dataTransfer.files;if(r&&!vt(t))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,s=function(e,n){var s=new FileReader;s.onload=function(){o[n]=s.result,++a==i&&(r=rr(t.doc,r),qt(t.doc,{from:r,to:r,text:Xo(o.join("\n")),origin:"paste"},"around"))},s.readAsText(e)},l=0;i>l;++l)s(n[l],l);else{if(t.state.draggingText&&!Zt(r,t.doc.sel.from)&&!Zt(t.doc.sel.to,r))return t.state.draggingText(e),setTimeout(hi(mt,t),20),void 0;try{var o=e.dataTransfer.getData("Text");if(o){var c=t.doc.sel.from,u=t.doc.sel.to;sr(t.doc,r,r),t.state.draggingText&&Xt(t.doc,"",c,u,"paste"),t.replaceSelection(o,null,"paste"),mt(t)}}catch(e){}}}}function St(e,t){if(qi&&(!e.state.draggingText||100>+new Date-ho))return Vn(t),void 0;if(!ei(e,t)&&!bt(e.display,t)){var r=e.getSelection();if(t.dataTransfer.setData("Text",r),t.dataTransfer.setDragImage&&!Gi){var n=vi("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Vi&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Vi&&n.parentNode.removeChild(n)}}}function Lt(e,t){2>Math.abs(e.doc.scrollTop-t)||(e.doc.scrollTop=t,Hi||k(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Hi&&k(e,[]),N(e,100))}function Tt(e,t,r){(r?t==e.doc.scrollLeft:2>Math.abs(e.doc.scrollLeft-t))||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,g(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function At(e,t){var r=t.wheelDeltaX,n=t.wheelDeltaY;null==r&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(r=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta);var i=e.display,o=i.scroller;if(r&&o.scrollWidth>o.clientWidth||n&&o.scrollHeight>o.clientHeight){if(n&&to&&Ki)for(var a=t.target;a!=o;a=a.parentNode)if(a.lineObj){e.display.currentWheelTarget=a;break}if(r&&!Hi&&!Vi&&null!=mo)return n&&Lt(e,Math.max(0,Math.min(o.scrollTop+n*mo,o.scrollHeight-o.clientHeight))),Tt(e,Math.max(0,Math.min(o.scrollLeft+r*mo,o.scrollWidth-o.clientWidth))),Kn(t),i.wheelStartX=null,void 0;if(n&&null!=mo){var s=n*mo,l=e.doc.scrollTop,c=l+i.wrapper.clientHeight;0>s?l=Math.max(0,l+s-50):c=Math.min(e.doc.height,c+s+50),k(e,[],{top:l,bottom:c})}20>po&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=r,i.wheelDY=n,setTimeout(function(){if(null!=i.wheelStartX){var e=o.scrollLeft-i.wheelStartX,t=o.scrollTop-i.wheelStartY,r=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,r&&(mo=(mo*po+r)/(po+1),++po)}},200)):(i.wheelDX+=r,i.wheelDY+=n))}}function Et(e,t,r){if("string"==typeof t&&(t=To[t],!t))return!1;e.display.pollingFast&&ht(e)&&(e.display.pollingFast=!1);var n=e.doc,i=n.sel.shift,o=!1;try{vt(e)&&(e.state.suppressEdits=!0),r&&(n.sel.shift=!1),o=t(e)!=Bo}finally{n.sel.shift=i,e.state.suppressEdits=!1}return o}function It(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function Ot(e,t){var r=Mr(e.options.keyMap),n=r.auto;clearTimeout(go),n&&!Lr(t)&&(go=setTimeout(function(){Mr(e.options.keyMap)==r&&(e.options.keyMap=n.call?n.call(null,e):n,s(e))},50));var i=Tr(t,!0),o=!1;if(!i)return!1;var a=It(e);return o=t.shiftKey?Sr("Shift-"+i,a,function(t){return Et(e,t,!0)})||Sr(i,a,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Et(e,t):void 0}):Sr(i,a,function(t){return Et(e,t)}),o&&(Kn(t),O(e),Fi&&(t.oldKeyCode=t.keyCode,t.keyCode=0),Qn(e,"keyHandled",e,i,t)),o}function Nt(e,t,r){var n=Sr("'"+r+"'",It(e),function(t){return Et(e,t,!0)});return n&&(Kn(t),O(e),Qn(e,"keyHandled",e,"'"+r+"'",t)),n}function Rt(e){var t=this;ei(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,qn(e))||16==e.keyCode&&(t.doc.sel.shift=!1)}function Pt(e){var t=this;if(gt(t),!(ei(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,qn(e)))){zi&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.doc.sel.shift=16==r||e.shiftKey;var n=Ot(t,e);Vi&&(yo=n?r:null,!n&&88==r&&!Jo&&(to?e.metaKey:e.ctrlKey)&&t.replaceSelection(""))}}function Dt(e){var t=this;if(!(ei(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,qn(e)))){var r=e.keyCode,n=e.charCode;if(Vi&&r==yo)return yo=null,Kn(e),void 0;if(!(Vi&&(!e.which||10>e.which)||Xi)||!Ot(t,e)){var i=String.fromCharCode(null==n?r:n);Nt(t,e,i)||(qi&&!Fi&&(t.display.inputHasSelection=null),dt(t))}}}function Ht(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(Zn(e,"focus",e),e.state.focused=!0,-1==e.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(e.display.wrapper.className+=" CodeMirror-focused"),e.curOp||(pt(e,!0),Ki&&setTimeout(hi(pt,e,!0),0))),ft(e),O(e))}function zt(e){e.state.focused&&(Zn(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.doc.sel.shift=!1)},150)}function Wt(e,t){function r(){if(null!=i.input.selectionStart){var e=i.input.value="​"+(Jt(o.from,o.to)?"":i.input.value);i.prevInput="​",i.input.selectionStart=1,i.input.selectionEnd=e.length}}function n(){if(i.inputDiv.style.position="relative",i.input.style.cssText=c,Fi&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=s),ft(e),null!=i.input.selectionStart){(!qi||Fi)&&r(),clearTimeout(vo);var t=0,n=function(){"​"==i.prevInput&&0==i.input.selectionStart?st(e,To.selectAll)(e):10>t++?vo=setTimeout(n,500):pt(e)};vo=setTimeout(n,200)}}if(!ei(e,t,"contextmenu")){var i=e.display,o=e.doc.sel;if(!bt(i,t)&&!wt(e,t)){var a=kt(e,t),s=i.scroller.scrollTop;if(a&&!Vi){var l=e.options.resetSelectionOnContextMenu;l&&(Jt(o.from,o.to)||Zt(a,o.from)||!Zt(a,o.to))&&st(e,sr)(e.doc,a,a);var c=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: transparent; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",mt(e),pt(e,!0),Jt(o.from,o.to)&&(i.input.value=i.prevInput=" "),qi&&!Fi&&r(),lo){Vn(t);var u=function(){Jn(window,"mouseup",u),setTimeout(n,20)};Yn(window,"mouseup",u)}else setTimeout(n,50)}}}}function Ft(e,t,r){if(!Zt(t.from,r))return rr(e,r);var n=t.text.length-1-(t.to.line-t.from.line);if(r.line>t.to.line+n){var i=r.line-n,o=e.first+e.size-1;return i>o?Yt(o,_n(e,o).text.length):nr(r,_n(e,i).text.length)}if(r.line==t.to.line+n)return nr(r,si(t.text).length+(1==t.text.length?t.from.ch:0)+_n(e,t.to.line).text.length-t.to.ch);var a=r.line-t.from.line;return nr(r,t.text[a].length+(a?0:t.from.ch))}function $t(e,t,r){if(r&&"object"==typeof r)return{anchor:Ft(e,t,r.anchor),head:Ft(e,t,r.head)};if("start"==r)return{anchor:t.from,head:t.from};var n=bo(t);if("around"==r)return{anchor:t.from,head:n};if("end"==r)return{anchor:n,head:n};var i=function(e){if(Zt(e,t.from))return e;if(!Zt(t.to,e))return n;var r=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=n.ch-t.to.ch),Yt(r,i)};return{anchor:i(e.sel.anchor),head:i(e.sel.head)}}function Bt(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=rr(e,t)),r&&(this.to=rr(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Zn(e,"beforeChange",e,n),e.cm&&Zn(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function qt(e,t,r,n){if(e.cm){if(!e.cm.curOp)return st(e.cm,qt)(e,t,r,n);if(e.cm.state.suppressEdits)return}if(!(ri(e,"beforeChange")||e.cm&&ri(e.cm,"beforeChange"))||(t=Bt(e,t,!0))){var i=co&&!n&&Br(e,t.from,t.to);if(i){for(var o=i.length-1;o>=1;--o)Kt(e,{from:i[o].from,to:i[o].to,text:[""]});i.length&&Kt(e,{from:i[0].from,to:i[0].to,text:t.text},r)}else Kt(e,t,r)}}function Kt(e,t,r){if(1!=t.text.length||""!=t.text[0]||!Jt(t.from,t.to)){var n=$t(e,t,r);Pn(e,t,n,e.cm?e.cm.curOp.id:0/0),Vt(e,t,n,Wr(e,t));var i=[];Cn(e,function(e,r){r||-1!=ci(i,e.history)||($n(e.history,t),i.push(e.history)),Vt(e,t,null,Wr(e,t))})}}function jt(e,t){if(!e.cm||!e.cm.state.suppressEdits){var r=e.history,n=("undo"==t?r.done:r.undone).pop();if(n){var i={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore,generation:r.generation};("undo"==t?r.undone:r.done).push(i),r.generation=n.generation||++r.maxGeneration;for(var o=ri(e,"beforeChange")||e.cm&&ri(e.cm,"beforeChange"),a=n.changes.length-1;a>=0;--a){var s=n.changes[a];if(s.origin=t,o&&!Bt(e,s,!1))return("undo"==t?r.done:r.undone).length=0,void 0;i.changes.push(Rn(e,s));var l=a?$t(e,s,null):{anchor:n.anchorBefore,head:n.headBefore};Vt(e,s,l,$r(e,s));var c=[];Cn(e,function(e,t){t||-1!=ci(c,e.history)||($n(e.history,s),c.push(e.history)),Vt(e,s,null,$r(e,s))})}}}}function Ut(e,t){function r(e){return Yt(e.line+t,e.ch)}e.first+=t,e.cm&&ut(e.cm,e.first,e.first,t),e.sel.head=r(e.sel.head),e.sel.anchor=r(e.sel.anchor),e.sel.from=r(e.sel.from),e.sel.to=r(e.sel.to)}function Vt(e,t,r,n){if(e.cm&&!e.cm.curOp)return st(e.cm,Vt)(e,t,r,n);if(t.to.line<e.first)return Ut(e,t.text.length-1-(t.to.line-t.from.line)),void 0;if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ut(e,i),t={from:Yt(e.first,0),to:Yt(t.to.line+i,t.to.ch),text:[si(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Yt(o,_n(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Mn(e,t.from,t.to),r||(r=$t(e,t,null)),e.cm?Gt(e.cm,t,n,r):bn(e,t,n,r)}}function Gt(e,t,r,n){var i=e.doc,a=e.display,s=t.from,l=t.to,c=!1,u=s.line;e.options.lineWrapping||(u=Tn(Yr(i,_n(i,s.line))),i.iter(u,l.line+1,function(e){return e==a.maxLine?(c=!0,!0):void 0})),Zt(i.sel.head,t.from)||Zt(t.to,i.sel.head)||(e.curOp.cursorActivity=!0),bn(i,t,r,n,o(e)),e.options.lineWrapping||(i.iter(u,s.line+t.text.length,function(e){var t=f(i,e);t>a.maxLineLength&&(a.maxLine=e,a.maxLineLength=t,a.maxLineChanged=!0,c=!1)}),c&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),N(e,400);var d=t.text.length-(l.line-s.line)-1;if(ut(e,s.line,l.line+1,d),ri(e,"change")){var h={from:s,to:l,text:t.text,removed:t.removed,origin:t.origin};if(e.curOp.textChanged){for(var p=e.curOp.textChanged;p.next;p=p.next);p.next=h}else e.curOp.textChanged=h}}function Xt(e,t,r,n,i){if(n||(n=r),Zt(n,r)){var o=n;n=r,r=o}"string"==typeof t&&(t=Xo(t)),qt(e,{from:r,to:n,text:t,origin:i},null)}function Yt(e,t){return this instanceof Yt?(this.line=e,this.ch=t,void 0):new Yt(e,t)}function Jt(e,t){return e.line==t.line&&e.ch==t.ch}function Zt(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Qt(e,t){return e.line-t.line||e.ch-t.ch}function er(e){return Yt(e.line,e.ch)}function tr(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function rr(e,t){if(t.line<e.first)return Yt(e.first,0);var r=e.first+e.size-1;return t.line>r?Yt(r,_n(e,r).text.length):nr(t,_n(e,t.line).text.length)}function nr(e,t){var r=e.ch;return null==r||r>t?Yt(e.line,t):0>r?Yt(e.line,0):e}function ir(e,t){return t>=e.first&&e.first+e.size>t}function or(e,t,r,n){if(e.sel.shift||e.sel.extend){var i=e.sel.anchor;if(r){var o=Zt(t,i);o!=Zt(r,i)?(i=t,t=r):o!=Zt(t,r)&&(t=r)}sr(e,i,t,n)}else sr(e,t,r||t,n);e.cm&&(e.cm.curOp.userSelChange=!0)}function ar(e,t,r){var n={anchor:t,head:r};return Zn(e,"beforeSelectionChange",e,n),e.cm&&Zn(e.cm,"beforeSelectionChange",e.cm,n),n.anchor=rr(e,n.anchor),n.head=rr(e,n.head),n}function sr(e,t,r,n,i){if(!i&&ri(e,"beforeSelectionChange")||e.cm&&ri(e.cm,"beforeSelectionChange")){var o=ar(e,t,r);r=o.head,t=o.anchor}var a=e.sel;if(a.goalColumn=null,null==n&&(n=Zt(r,a.head)?-1:1),(i||!Jt(t,a.anchor))&&(t=cr(e,t,n,"push"!=i)),(i||!Jt(r,a.head))&&(r=cr(e,r,n,"push"!=i)),!Jt(a.anchor,t)||!Jt(a.head,r)){a.anchor=t,a.head=r;var s=Zt(r,t);a.from=s?r:t,a.to=s?t:r,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=e.cm.curOp.cursorActivity=!0),Qn(e,"cursorActivity",e)}}function lr(e){sr(e.doc,e.doc.sel.from,e.doc.sel.to,null,"push")}function cr(e,t,r,n){var i=!1,o=t,a=r||1;e.cantEdit=!1;e:for(;;){var s=_n(e,o.line);if(s.markedSpans)for(var l=0;s.markedSpans.length>l;++l){var c=s.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&(Zn(u,"beforeCursorEnter"),u.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!u.atomic)continue;var f=u.find()[0>a?"from":"to"];if(Jt(f,o)&&(f.ch+=a,0>f.ch?f=f.line>e.first?rr(e,Yt(f.line-1)):null:f.ch>s.text.length&&(f=f.line<e.first+e.size-1?Yt(f.line+1,0):null),!f)){if(i)return n?(e.cantEdit=!0,Yt(e.first,0)):cr(e,t,r,!0);i=!0,f=t,a=-a}o=f;continue e}}return o}}function ur(e){var t=fr(e,e.doc.sel.head,null,e.options.cursorScrollMargin);if(e.state.focused){var r=e.display,n=xi(r.sizer),i=null;if(0>t.top+n.top?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Zi){var o=vi("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset)+"px; height: "+(t.bottom-t.top+$o)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function fr(e,t,r,n){for(null==n&&(n=0);;){var i=!1,o=Q(e,t),a=r&&r!=t?Q(e,r):o,s=hr(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-n,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+n),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=s.scrollTop&&(Lt(e,s.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(i=!0)),null!=s.scrollLeft&&(Tt(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(i=!0)),!i)return o}}function dr(e,t,r,n,i){var o=hr(e,t,r,n,i);null!=o.scrollTop&&Lt(e,o.scrollTop),null!=o.scrollLeft&&Tt(e,o.scrollLeft)}function hr(e,t,r,n,i){var o=e.display,a=nt(e.display);0>r&&(r=0);var s=o.scroller.clientHeight-$o,l=o.scroller.scrollTop,c={},u=e.doc.height+z(o),f=a>r,d=i>u-a;if(l>r)c.scrollTop=f?0:r;else if(i>l+s){var h=Math.min(r,(d?u:i)-s);h!=l&&(c.scrollTop=h)}var p=o.scroller.clientWidth-$o,m=o.scroller.scrollLeft;t+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>t;return m+g>t||v?(v&&(t=0),c.scrollLeft=Math.max(0,t-10-g)):n>p+m-3&&(c.scrollLeft=n+10-p),c}function pr(e,t,r){e.curOp.updateScrollPos={scrollLeft:null==t?e.doc.scrollLeft:t,scrollTop:null==r?e.doc.scrollTop:r}}function mr(e,t,r){var n=e.curOp.updateScrollPos||(e.curOp.updateScrollPos={scrollLeft:e.doc.scrollLeft,scrollTop:e.doc.scrollTop}),i=e.display.scroller;n.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,n.scrollTop+r)),n.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,n.scrollLeft+t))}function gr(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(e.doc.mode.indent?i=D(e,t):r="prev");var a=e.options.tabSize,s=_n(o,t),l=oi(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(c=e.doc.mode.indent(i,s.text.slice(u.length),s.text),c==Bo)){if(!n)return;r="prev"}}else c=0,r="not";"prev"==r?c=t>o.first?oi(_n(o,t-1).text,null,a):0:"add"==r?c=l+e.options.indentUnit:"subtract"==r?c=l-e.options.indentUnit:"number"==typeof r&&(c=l+r),c=Math.max(0,c);var f="",d=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)d+=a,f+="	";c>d&&(f+=ai(c-d)),f!=u?Xt(e.doc,f,Yt(t,0),Yt(t,u.length),"+input"):o.sel.head.line==t&&o.sel.head.ch<u.length&&sr(o,Yt(t,u.length),Yt(t,u.length),1),s.stateAfter=null}function vr(e,t,r){var n=t,i=t,o=e.doc;return"number"==typeof t?i=_n(o,tr(o,t)):n=Tn(t),null==n?null:r(i,n)?(ut(e,n,n+1),i):null}function yr(e,t,r,n,i){function o(){var t=s+r;return e.first>t||t>=e.first+e.size?f=!1:(s=t,u=_n(e,t))}function a(e){var t=(i?Pi:Di)(u,l,r,!0);if(null==t){if(e||!o())return f=!1;l=i?(0>r?Ai:Ti)(u):0>r?u.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=r,u=_n(e,s),f=!0;if("char"==n)a();else if("column"==n)a(!0);else if("word"==n||"group"==n)for(var d=null,h="group"==n,p=!0;!(0>r)||a(!p);p=!1){var m=u.text.charAt(l)||"\n",g=pi(m)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||p||g||(g="s"),d&&d!=g){0>r&&(r=1,a());break}if(g&&(d=g),r>0&&!a(!p))break}var v=cr(e,Yt(s,l),c,!0);return f||(v.hitSide=!0),v}function br(e,t,r,n){var i,o=e.doc,a=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(s-(0>r?1.5:.5)*nt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var l=tt(e,a,i);if(!l.outside)break;if(0>r?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*r}return l}function kr(e,t){var r=t.ch,n=t.ch;if(e){(0>t.xRel||n==e.length)&&r?--r:++n;for(var i=e.charAt(r),o=pi(i)?pi:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!pi(e)};r>0&&o(e.charAt(r-1));)--r;for(;e.length>n&&o(e.charAt(n));)++n}return{from:Yt(t.line,r),to:Yt(t.line,n)}}function xr(e,t){or(e.doc,Yt(t,0),rr(e.doc,Yt(t+1,0)))}function Cr(t,r,n,i){e.defaults[t]=r,n&&(ko[t]=i?function(e,t,r){r!=Co&&n(e,t,r)}:n)}function wr(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function _r(e,t,r){return e.startState?e.startState(t,r):!0}function Mr(e){return"string"==typeof e?Ao[e]:e}function Sr(e,t,r){function n(t){t=Mr(t);var i=t[e];if(i===!1)return"stop";if(null!=i&&r(i))return!0;if(t.nofallthrough)return"stop";var o=t.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return n(o);for(var a=0,s=o.length;s>a;++a){var l=n(o[a]);if(l)return l}return!1}for(var i=0;t.length>i;++i){var o=n(t[i]);if(o)return"stop"!=o}}function Lr(e){var t=Zo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Tr(e,t){if(Vi&&34==e.keyCode&&e["char"])return!1;var r=Zo[e.keyCode];return null==r||e.altGraphKey?!1:(e.altKey&&(r="Alt-"+r),(so?e.metaKey:e.ctrlKey)&&(r="Ctrl-"+r),(so?e.ctrlKey:e.metaKey)&&(r="Cmd-"+r),!t&&e.shiftKey&&(r="Shift-"+r),r)}function Ar(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}function Er(e,t){this.lines=[],this.type=t,this.doc=e}function Ir(e,t,r,n,i){if(n&&n.shared)return Nr(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return st(e.cm,Ir)(e,t,r,n,i);var o=new Er(e,i);if(n&&fi(n,o),Zt(r,t)||Jt(t,r)&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.replacedWith=vi("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||(o.replacedWith.ignoreEvents=!0)),o.collapsed){if(Xr(e,t.line,t,r,o)||t.line!=r.line&&Xr(e,r.line,t,r,o))throw Error("Inserting collapsed marker partially overlapping an existing one");uo=!0}o.addToHistory&&Pn(e,{from:t,to:r,origin:"markText"},{head:e.sel.head,anchor:e.sel.anchor},0/0);var a,s=t.line,l=e.cm;return e.iter(s,r.line+1,function(n){l&&o.collapsed&&!l.options.lineWrapping&&Yr(e,n)==l.display.maxLine&&(a=!0);var i={from:null,to:null,marker:o};s==t.line&&(i.from=t.ch),s==r.line&&(i.to=r.ch),o.collapsed&&s!=t.line&&Ln(n,0),Dr(n,i),++s}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Jr(e,t)&&Ln(t,0)}),o.clearOnEnter&&Yn(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(co=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Eo,o.atomic=!0),l&&(a&&(l.curOp.updateMaxLine=!0),(o.className||o.title||o.startStyle||o.endStyle||o.collapsed)&&ut(l,t.line,r.line+1),o.atomic&&lr(l)),o}function Or(e,t){this.markers=e,this.primary=t;for(var r=0,n=this;e.length>r;++r)e[r].parent=this,Yn(e[r],"clear",function(){n.clear()})}function Nr(e,t,r,n,i){n=fi(n),n.shared=!1;var o=[Ir(e,t,r,n,i)],a=o[0],s=n.replacedWith;return Cn(e,function(e){s&&(n.replacedWith=s.cloneNode(!0)),o.push(Ir(e,rr(e,t),rr(e,r),n,i));for(var l=0;e.linked.length>l;++l)if(e.linked[l].isParent)return;a=si(o)}),new Or(o,a)}function Rr(e,t){if(e)for(var r=0;e.length>r;++r){var n=e[r];if(n.marker==t)return n}}function Pr(e,t){for(var r,n=0;e.length>n;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Dr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Hr(e,t,r){if(e)for(var n,i=0;e.length>i;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?t>=o.from:t>o.from);if(s||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push({from:o.from,to:l?null:o.to,marker:a})}}return n}function zr(e,t,r){if(e)for(var n,i=0;e.length>i;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?t>=o.from:t>o.from);(n||(n=[])).push({from:l?null:o.from-t,to:null==o.to?null:o.to-t,marker:a})}}return n}function Wr(e,t){var r=ir(e,t.from.line)&&_n(e,t.from.line).markedSpans,n=ir(e,t.to.line)&&_n(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=Jt(t.from,t.to),s=Hr(r,i,a),l=zr(n,o,a),c=1==t.text.length,u=si(t.text).length+(c?i:0);if(s)for(var f=0;s.length>f;++f){var d=s[f];if(null==d.to){var h=Rr(l,d.marker);h?c&&(d.to=null==h.to?null:h.to+u):d.to=i}}if(l)for(var f=0;l.length>f;++f){var d=l[f];if(null!=d.to&&(d.to+=u),null==d.from){var h=Rr(s,d.marker);h||(d.from=u,c&&(s||(s=[])).push(d))}else d.from+=u,c&&(s||(s=[])).push(d)}s&&(s=Fr(s)),l&&l!=s&&(l=Fr(l));var p=[s];if(!c){var m,g=t.text.length-2;if(g>0&&s)for(var f=0;s.length>f;++f)null==s[f].to&&(m||(m=[])).push({from:null,to:null,marker:s[f].marker});for(var f=0;g>f;++f)p.push(m);p.push(l)}return p}function Fr(e){for(var t=0;e.length>t;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function $r(e,t){var r=Hn(e,t),n=Wr(e,t);if(!r)return n;if(!n)return r;for(var i=0;r.length>i;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;a.length>s;++s){for(var l=a[s],c=0;o.length>c;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(r[i]=a)}return r}function Br(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;e.markedSpans.length>t;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=ci(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;n.length>o;++o)for(var a=n[o],s=a.find(),l=0;i.length>l;++l){var c=i[l];if(!Zt(c.to,s.from)&&!Zt(s.to,c.from)){var u=[l,1];(Zt(c.from,s.from)||!a.inclusiveLeft&&Jt(c.from,s.from))&&u.push({from:c.from,to:s.from}),(Zt(s.to,c.to)||!a.inclusiveRight&&Jt(c.to,s.to))&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function qr(e){return e.inclusiveLeft?-1:0}function Kr(e){return e.inclusiveRight?1:0}function jr(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Qt(n.from,i.from)||qr(e)-qr(t);if(o)return-o;var a=Qt(n.to,i.to)||Kr(e)-Kr(t);return a?a:t.id-e.id}function Ur(e,t){var r,n=uo&&e.markedSpans;if(n)for(var i,o=0;n.length>o;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||0>jr(r,i.marker))&&(r=i.marker);return r}function Vr(e){return Ur(e,!0)}function Gr(e){return Ur(e,!1)}function Xr(e,t,r,n,i){var o=_n(e,t),a=uo&&o.markedSpans;if(a)for(var s=0;a.length>s;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(!0),u=Qt(c.from,r)||qr(l.marker)-qr(i),f=Qt(c.to,n)||Kr(l.marker)-Kr(i);if(!(u>=0&&0>=f||0>=u&&f>=0)&&(0>=u&&(Qt(c.to,r)||Kr(l.marker)-qr(i))>0||u>=0&&0>(Qt(c.from,n)||qr(l.marker)-Kr(i))))return!0}}}function Yr(e,t){for(var r;r=Vr(t);)t=_n(e,r.find().from.line);return t}function Jr(e,t){var r=uo&&t.markedSpans;if(r)for(var n,i=0;r.length>i;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.replacedWith&&0==n.from&&n.marker.inclusiveLeft&&Zr(e,t,n))return!0}}function Zr(e,t,r){if(null==r.to){var n=r.marker.find().to,i=_n(e,n.line);return Zr(e,i,Rr(i.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var o,a=0;t.markedSpans.length>a;++a)if(o=t.markedSpans[a],o.marker.collapsed&&!o.marker.replacedWith&&o.from==r.to&&(null==o.to||o.to!=r.from)&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&Zr(e,t,o))return!0}function Qr(e){var t=e.markedSpans;if(t){for(var r=0;t.length>r;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function en(e,t){if(t){for(var r=0;t.length>r;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function tn(e){return function(){var t=!this.cm.curOp;t&&ot(this.cm);try{var r=e.apply(this,arguments)}finally{t&&at(this.cm)}return r}}function rn(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||bi(e.cm.display.measure,vi("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function nn(e,t,r,n){var i=new Io(e,r,n);return i.noHScroll&&(e.display.alignWidgets=!0),vr(e,t,function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,!Jr(e.doc,t)||i.showIfHidden){var n=En(e,t)<e.doc.scrollTop;Ln(t,t.height+rn(i)),n&&mr(e,0,i.height),e.curOp.forceUpdate=!0}return!0}),i}function on(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Qr(e),en(e,r);var i=n?n(e):1;i!=e.height&&Ln(e,i)}function an(e){e.parent=null,Qr(e)}function sn(t,r,n,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,c=0,u=null,f=new Ar(r,t.options.tabSize);for(""==r&&n.blankLine&&n.blankLine(i);!f.eol();){if(f.pos>t.options.maxHighlightLength?(s=!1,a&&un(t,r,i,f.pos),f.pos=r.length,l=null):l=n.token(f,i),t.options.addModeClass){var d=e.innerMode(n,i).mode.name;d&&(l="m-"+(l?d+" "+l:d))}s&&u==l||(f.start>c&&o(f.start,u),c=f.start,u=l),f.start=f.pos}for(;f.pos>c;){var h=Math.min(f.pos,c+5e4);o(h,u),c=h}}function ln(e,t,r,n){var i=[e.state.modeGen];sn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},n);for(var o=0;e.state.overlays.length>o;++o){var a=e.state.overlays[o],s=1,l=0;sn(e,t.text,a.mode,!0,function(e,t){for(var r=s;e>l;){var n=i[s];n>e&&i.splice(s,1,e,i[s+1],n),s+=2,l=Math.min(e,n)}if(t)if(a.opaque)i.splice(r,s-r,e,t),s=r+2;else for(;s>r;r+=2){var o=i[r+1];i[r+1]=o?o+" "+t:t}})}return i}function cn(e,t){return t.styles&&t.styles[0]==e.state.modeGen||(t.styles=ln(e,t,t.stateAfter=D(e,Tn(t)))),t.styles}function un(e,t,r,n){var i=e.doc.mode,o=new Ar(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&i.blankLine&&i.blankLine(r);!o.eol()&&o.pos<=e.options.maxHighlightLength;)i.token(o,r),o.start=o.pos}function fn(e,t){if(!e)return null;for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}if(/^\s*$/.test(e))return null;var i=t.cm.options.addModeClass?Ro:No;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function dn(e,t,r,n){for(var i,o=t,a=!0;i=Vr(o);)o=_n(e.doc,i.find().from.line);var s={pre:vi("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:e,copyWidgets:n};do{o.text&&(a=!1),s.measure=o==t&&r,s.pos=0,s.addToken=s.measure?mn:pn,(qi||Ki)&&e.getOption("lineWrapping")&&(s.addToken=gn(s.addToken));var l=yn(o,s,cn(e,o));r&&o==t&&!s.measuredSomething&&(r[0]=s.pre.appendChild(_i(e.display.measure)),s.measuredSomething=!0),l&&(o=_n(e.doc,l.to.line))}while(l);!r||s.measuredSomething||r[0]||(r[0]=s.pre.appendChild(a?vi("span"," "):_i(e.display.measure))),s.pre.firstChild||Jr(e.doc,t)||s.pre.appendChild(document.createTextNode(" "));var c;if(r&&qi&&(c=In(o))){var u=c.length-1;c[u].from==c[u].to&&--u;var f=c[u],d=c[u-1];if(f.from+1==f.to&&d&&f.level<d.level){var h=r[s.pos-1];h&&h.parentNode.insertBefore(h.measureRight=_i(e.display.measure),h.nextSibling)}}var p=s.textClass?s.textClass+" "+(t.textClass||""):t.textClass;return p&&(s.pre.className=p),Zn(e,"renderLine",e,t,s.pre),s}function hn(e){var t=vi("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function pn(e,t,r,n,i,o){if(t){var a=e.cm.options.specialChars;if(a.test(t))for(var s=document.createDocumentFragment(),l=0;;){a.lastIndex=l;var c=a.exec(t),u=c?c.index-l:t.length-l;if(u&&(s.appendChild(document.createTextNode(t.slice(l,l+u))),e.col+=u),!c)break;if(l+=u+1,"	"==c[0]){var f=e.cm.options.tabSize,d=f-e.col%f;s.appendChild(vi("span",ai(d),"cm-tab")),e.col+=d}else{var h=e.cm.options.specialCharPlaceholder(c[0]);s.appendChild(h),e.col+=1}}else{e.col+=t.length;var s=document.createTextNode(t)}if(r||n||i||e.measure){var p=r||"";n&&(p+=n),i&&(p+=i);var h=vi("span",[s],p);return o&&(h.title=o),e.pre.appendChild(h)}e.pre.appendChild(s)
}}function mn(e,t,r,n,i){for(var o=e.cm.options.lineWrapping,a=0;t.length>a;++a){for(var s=0==a,l=a+1;t.length>l&&gi(t.charAt(l));)++l;var c=t.slice(a,l);a=l-1,a&&o&&Ci(t,a)&&e.pre.appendChild(vi("wbr"));var u=e.measure[e.pos],f=e.measure[e.pos]=pn(e,c,r,s&&n,a==t.length-1&&i);u&&(f.leftSide=u.leftSide||u),zi&&o&&" "==c&&a&&!/\s/.test(t.charAt(a-1))&&t.length-1>a&&!/\s/.test(t.charAt(a+1))&&(f.style.whiteSpace="normal"),e.pos+=c.length}t.length&&(e.measuredSomething=!0)}function gn(e){function t(e){for(var t=" ",r=0;e.length-2>r;++r)t+=r%2?" ":" ";return t+=" "}return function(r,n,i,o,a,s){return e(r,n.replace(/ {3,}/g,t),i,o,a,s)}}function vn(e,t,r,n){var i=!n&&r.replacedWith;if(i&&(e.copyWidgets&&(i=i.cloneNode(!0)),e.pre.appendChild(i),e.measure)){if(t)e.measure[e.pos]=i;else{var o=_i(e.cm.display.measure);if("bookmark"!=r.type||r.insertLeft){if(e.measure[e.pos])return;e.measure[e.pos]=e.pre.insertBefore(o,i)}else e.measure[e.pos]=e.pre.appendChild(o)}e.measuredSomething=!0}e.pos+=t}function yn(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,l,c,u,f,d=i.length,h=0,p=1,m="",g=0;;){if(g==h){s=l=c=u="",f=null,g=1/0;for(var v=[],y=0;n.length>y;++y){var b=n[y],k=b.marker;h>=b.from&&(null==b.to||b.to>h)?(null!=b.to&&g>b.to&&(g=b.to,l=""),k.className&&(s+=" "+k.className),k.startStyle&&b.from==h&&(c+=" "+k.startStyle),k.endStyle&&b.to==g&&(l+=" "+k.endStyle),k.title&&!u&&(u=k.title),k.collapsed&&(!f||0>jr(f.marker,k))&&(f=b)):b.from>h&&g>b.from&&(g=b.from),"bookmark"==k.type&&b.from==h&&k.replacedWith&&v.push(k)}if(f&&(f.from||0)==h&&(vn(t,(null==f.to?d:f.to)-h,f.marker,null==f.from),null==f.to))return f.marker.find();if(!f&&v.length)for(var y=0;v.length>y;++y)vn(t,0,v[y])}if(h>=d)break;for(var x=Math.min(d,g);;){if(m){var C=h+m.length;if(!f){var w=C>x?m.slice(0,x-h):m;t.addToken(t,w,a?a+s:s,c,h+w.length==g?l:"",u)}if(C>=x){m=m.slice(x-h),h=x;break}h=C,c=""}m=i.slice(o,o=r[p++]),a=fn(r[p++],t)}}else for(var p=1;r.length>p;p+=2)t.addToken(t,i.slice(o,o=r[p]),fn(r[p+1],t))}function bn(e,t,r,n,i){function o(e){return r?r[e]:null}function a(e,r,n){on(e,r,n,i),Qn(e,"change",e,t)}var s=t.from,l=t.to,c=t.text,u=_n(e,s.line),f=_n(e,l.line),d=si(c),h=o(c.length-1),p=l.line-s.line;if(0!=s.ch||0!=l.ch||""!=d||e.cm&&!e.cm.options.wholeLineUpdateBefore)if(u==f)if(1==c.length)a(u,u.text.slice(0,s.ch)+d+u.text.slice(l.ch),h);else{for(var m=[],g=1,v=c.length-1;v>g;++g)m.push(new Oo(c[g],o(g),i));m.push(new Oo(d+u.text.slice(l.ch),h,i)),a(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,m)}else if(1==c.length)a(u,u.text.slice(0,s.ch)+c[0]+f.text.slice(l.ch),o(0)),e.remove(s.line+1,p);else{a(u,u.text.slice(0,s.ch)+c[0],o(0)),a(f,d+f.text.slice(l.ch),h);for(var g=1,v=c.length-1,m=[];v>g;++g)m.push(new Oo(c[g],o(g),i));p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m)}else{for(var g=0,v=c.length-1,m=[];v>g;++g)m.push(new Oo(c[g],o(g),i));a(f,f.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}Qn(e,"change",e,t),sr(e,n.anchor,n.head,null,!0)}function kn(e){this.lines=e,this.parent=null;for(var t=0,r=e.length,n=0;r>t;++t)e[t].parent=this,n+=e[t].height;this.height=n}function xn(e){this.children=e;for(var t=0,r=0,n=0,i=e.length;i>n;++n){var o=e[n];t+=o.chunkSize(),r+=o.height,o.parent=this}this.size=t,this.height=r,this.parent=null}function Cn(e,t,r){function n(e,i,o){if(e.linked)for(var a=0;e.linked.length>a;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;(!r||l)&&(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function wn(e,t){if(t.cm)throw Error("This document is already in use.");e.doc=t,t.cm=e,a(e),r(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,ut(e)}function _n(e,t){for(t-=e.first;!e.lines;)for(var r=0;;++r){var n=e.children[r],i=n.chunkSize();if(i>t){e=n;break}t-=i}return e.lines[t]}function Mn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function Sn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function Ln(e,t){for(var r=t-e.height,n=e;n;n=n.parent)n.height+=r}function Tn(e){if(null==e.parent)return null;for(var t=e.parent,r=ci(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function An(e,t){var r=e.first;e:do{for(var n=0,i=e.children.length;i>n;++n){var o=e.children[n],a=o.height;if(a>t){e=o;continue e}t-=a,r+=o.chunkSize()}return r}while(!e.lines);for(var n=0,i=e.lines.length;i>n;++n){var s=e.lines[n],l=s.height;if(l>t)break;t-=l}return r+n}function En(e,t){t=Yr(e.doc,t);for(var r=0,n=t.parent,i=0;n.lines.length>i;++i){var o=n.lines[i];if(o==t)break;r+=o.height}for(var a=n.parent;a;n=a,a=n.parent)for(var i=0;a.children.length>i;++i){var s=a.children[i];if(s==n)break;r+=s.height}return r}function In(e){var t=e.order;return null==t&&(t=e.order=ea(e.text)),t}function On(e){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:e||1,maxGeneration:e||1}}function Nn(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function Rn(e,t){var r={line:t.from.line,ch:t.from.ch},n={from:r,to:bo(t),text:Mn(e,t.from,t.to)};return Nn(e,n,t.from.line,t.to.line+1),Cn(e,function(e){Nn(e,n,t.from.line,t.to.line+1)},!0),n}function Pn(e,t,r,n){var i=e.history;i.undone.length=0;var o=+new Date,a=si(i.done);if(a&&(i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))){var s=si(a.changes);Jt(t.from,t.to)&&Jt(t.from,s.to)?s.to=bo(t):a.changes.push(Rn(e,t)),a.anchorAfter=r.anchor,a.headAfter=r.head}else for(a={changes:[Rn(e,t)],generation:i.generation,anchorBefore:e.sel.anchor,headBefore:e.sel.head,anchorAfter:r.anchor,headAfter:r.head},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift();i.generation=++i.maxGeneration,i.lastTime=o,i.lastOp=n,i.lastOrigin=t.origin,s||Zn(e,"historyAdded")}function Dn(e){if(!e)return null;for(var t,r=0;e.length>r;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Hn(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];t.text.length>n;++n)i.push(Dn(r[n]));return i}function zn(e,t){for(var r=0,n=[];e.length>r;++r){var i=e[r],o=i.changes,a=[];n.push({changes:a,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var s=0;o.length>s;++s){var l,c=o[s];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var u in c)(l=u.match(/^spans_(\d+)$/))&&ci(t,Number(l[1]))>-1&&(si(a)[u]=c[u],delete c[u])}}return n}function Wn(e,t,r,n){e.line>r?e.line+=n:e.line>t&&(e.line=t,e.ch=0)}function Fn(e,t,r,n){for(var i=0;e.length>i;++i){for(var o=e[i],a=!0,s=0;o.changes.length>s;++s){var l=o.changes[s];if(o.copied||(l.from=er(l.from),l.to=er(l.to)),l.from.line>r)l.from.line+=n,l.to.line+=n;else if(l.to.line>=t){a=!1;break}}o.copied||(o.anchorBefore=er(o.anchorBefore),o.headBefore=er(o.headBefore),o.anchorAfter=er(o.anchorAfter),o.readAfter=er(o.headAfter),o.copied=!0),a?(Wn(o.anchorBefore),Wn(o.headBefore),Wn(o.anchorAfter),Wn(o.headAfter)):(e.splice(0,i+1),i=0)}}function $n(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Fn(e.done,r,n,i),Fn(e.undone,r,n,i)}function Bn(){Vn(this)}function qn(e){return e.stop||(e.stop=Bn),e}function Kn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function jn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Un(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Vn(e){Kn(e),jn(e)}function Gn(e){return e.target||e.srcElement}function Xn(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),to&&e.ctrlKey&&1==t&&(t=3),t}function Yn(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}}function Jn(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var i=0;n.length>i;++i)if(n[i]==r){n.splice(i,1);break}}}function Zn(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;r.length>i;++i)r[i].apply(null,n)}function Qn(e,t){function r(e){return function(){e.apply(null,i)}}var n=e._handlers&&e._handlers[t];if(n){var i=Array.prototype.slice.call(arguments,2);Wo||(++Fo,Wo=[],setTimeout(ti,0));for(var o=0;n.length>o;++o)Wo.push(r(n[o]))}}function ei(e,t,r){return Zn(e,r||t.type,e,t),Un(t)||t.codemirrorIgnore}function ti(){--Fo;var e=Wo;Wo=null;for(var t=0;e.length>t;++t)e[t]()}function ri(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function ni(e){e.prototype.on=function(e,t){Yn(this,e,t)},e.prototype.off=function(e,t){Jn(this,e,t)}}function ii(){this.id=null}function oi(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=n||0,a=i||0;t>o;++o)"	"==e.charAt(o)?a+=r-a%r:++a;return a}function ai(e){for(;e>=qo.length;)qo.push(si(qo)+" ");return qo[e]}function si(e){return e[e.length-1]}function li(e){if(Qi)e.selectionStart=0,e.selectionEnd=e.value.length;else try{e.select()}catch(t){}}function ci(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;n>r;++r)if(e[r]==t)return r;return-1}function ui(e,t){function r(){}r.prototype=e;var n=new r;return t&&fi(t,n),n}function fi(e,t){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function di(e){for(var t=[],r=0;e>r;++r)t.push(void 0);return t}function hi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function pi(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ko.test(e))}function mi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function gi(e){return e.charCodeAt(0)>=768&&jo.test(e)}function vi(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)ki(i,t);else if(t)for(var o=0;t.length>o;++o)i.appendChild(t[o]);return i}function yi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function bi(e,t){return yi(e).appendChild(t)}function ki(e,t){Fi?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function xi(e){return e.getBoundingClientRect()}function Ci(){return!1}function wi(e){if(null!=Vo)return Vo;var t=vi("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return bi(e,t),t.offsetWidth&&(Vo=t.offsetHeight-t.clientHeight),Vo||0}function _i(e){if(null==Go){var t=vi("span","​");bi(e,vi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Go=1>=t.offsetWidth&&t.offsetHeight>2&&!Wi)}return Go?vi("span","​"):vi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Mi(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;e.length>o;++o){var a=e[o];(r>a.from&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function Si(e){return e.level%2?e.to:e.from}function Li(e){return e.level%2?e.from:e.to}function Ti(e){var t=In(e);return t?Si(t[0]):0}function Ai(e){var t=In(e);return t?Li(si(t)):e.text.length}function Ei(e,t){var r=_n(e.doc,t),n=Yr(e.doc,r);n!=r&&(t=Tn(n));var i=In(n),o=i?i[0].level%2?Ai(n):Ti(n):0;return Yt(t,o)}function Ii(e,t){for(var r,n;r=Gr(n=_n(e.doc,t));)t=r.find().to.line;var i=In(n),o=i?i[0].level%2?Ti(n):Ai(n):n.text.length;return Yt(t,o)}function Oi(e,t,r){var n=e[0].level;return t==n?!0:r==n?!1:r>t}function Ni(e,t){Qo=null;for(var r,n=0;e.length>n;++n){var i=e[n];if(t>i.from&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return Oi(e,i.level,e[r].level)?(i.from!=i.to&&(Qo=r),n):(i.from!=i.to&&(Qo=n),r);r=n}}return r}function Ri(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&gi(e.text.charAt(t)));return t}function Pi(e,t,r,n){var i=In(e);if(!i)return Di(e,t,r,n);for(var o=Ni(i,t),a=i[o],s=Ri(e,t,a.level%2?-r:r,n);;){if(s>a.from&&a.to>s)return s;if(s==a.from||s==a.to)return Ni(i,s)==o?s:(a=i[o+=r],r>0==a.level%2?a.to:a.from);if(a=i[o+=r],!a)return null;s=r>0==a.level%2?Ri(e,a.to,-1,n):Ri(e,a.from,1,n)}}function Di(e,t,r,n){var i=t+r;if(n)for(;i>0&&gi(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var Hi=/gecko\/\d/i.test(navigator.userAgent),zi=/MSIE \d/.test(navigator.userAgent),Wi=zi&&(null==document.documentMode||8>document.documentMode),Fi=zi&&(null==document.documentMode||9>document.documentMode),$i=zi&&(null==document.documentMode||10>document.documentMode),Bi=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),qi=zi||Bi,Ki=/WebKit\//.test(navigator.userAgent),ji=Ki&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Ui=/Chrome\//.test(navigator.userAgent),Vi=/Opera\//.test(navigator.userAgent),Gi=/Apple Computer/.test(navigator.vendor),Xi=/KHTML\//.test(navigator.userAgent),Yi=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Ji=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Zi=/PhantomJS/.test(navigator.userAgent),Qi=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),eo=Qi||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),to=Qi||/Mac/.test(navigator.platform),ro=/win/i.test(navigator.platform),no=Vi&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);no&&(no=Number(no[1])),no&&no>=15&&(Vi=!1,Ki=!0);var io,oo,ao,so=to&&(ji||Vi&&(null==no||12.11>no)),lo=Hi||qi&&!Fi,co=!1,uo=!1,fo=0,ho=0,po=0,mo=null;qi?mo=-.53:Hi?mo=15:Ui?mo=-.7:Gi&&(mo=-1/3);var go,vo,yo=null,bo=e.changeEnd=function(e){return e.text?Yt(e.from.line+e.text.length-1,si(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.Pos=Yt,e.prototype={constructor:e,focus:function(){window.focus(),mt(this),dt(this)},setOption:function(e,t){var r=this.options,n=r[e];(r[e]!=t||"mode"==e)&&(r[e]=t,ko.hasOwnProperty(e)&&st(this,ko[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;t.length>r;++r)if(t[r]==e||"string"!=typeof t[r]&&t[r].name==e)return t.splice(r,1),!0},addOverlay:st(null,function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,ut(this)}),removeOverlay:st(null,function(e){for(var t=this.state.overlays,r=0;t.length>r;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,ut(this),void 0}}),indentLine:st(null,function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ir(this.doc,e)&&gr(this,e,t,r)}),indentSelection:st(null,function(e){var t=this.doc.sel;if(Jt(t.from,t.to))return gr(this,t.from.line,e,!0);for(var r=t.to.line-(t.to.ch?0:1),n=t.from.line;r>=n;++n)gr(this,n,e)}),getTokenAt:function(e,t){var r=this.doc;e=rr(r,e);for(var n=D(this,e.line,t),i=this.doc.mode,o=_n(r,e.line),a=new Ar(o.text,this.options.tabSize);a.pos<e.ch&&!a.eol();){a.start=a.pos;var s=i.token(a,n)}return{start:a.start,end:a.pos,string:a.current(),className:s||null,type:s||null,state:n}},getTokenTypeAt:function(e){e=rr(this.doc,e);var t=cn(this,_n(this.doc,e.line)),r=0,n=(t.length-1)/2,i=e.ch;if(0==i)return t[2];for(;;){var o=r+n>>1;if((o?t[2*o-1]:0)>=i)n=o;else{if(!(i>t[2*o+1]))return t[2*o+2];r=o+1}}},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!Lo.hasOwnProperty(t))return Lo;var n=Lo[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;i[t].length>o;o++){var a=n[i[t][o]];a&&r.push(a)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;n._global.length>o;o++){var s=n._global[o];s.pred(i,this)&&-1==ci(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=tr(r,null==e?r.first+r.size-1:e),D(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel;return r=null==e?n.head:"object"==typeof e?rr(this.doc,e):e?n.from:n.to,Q(this,r,t||"page")},charCoords:function(e,t){return Z(this,rr(this.doc,e),t||"page")},coordsChar:function(e,t){return e=J(this,e,t||"page"),tt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=J(this,{top:e,left:0},t||"page").top,An(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r=!1,n=this.doc.first+this.doc.size-1;this.doc.first>e?e=this.doc.first:e>n&&(e=n,r=!0);var i=_n(this.doc,e);return Y(this,_n(this.doc,e),{top:0,left:0},t||"page").top+(r?i.height:0)},defaultTextHeight:function(){return nt(this.display)},defaultCharWidth:function(){return it(this.display)},setGutterMarker:st(null,function(e,t,r){return vr(this,e,function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&mi(n)&&(e.gutterMarkers=null),!0})}),clearGutter:st(null,function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,ut(t,n,n+1),mi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),addLineClass:st(null,function(e,t,r){return vr(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[n]){if(RegExp("(?:^|\\s)"+r+"(?:$|\\s)").test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:st(null,function(e,t,r){return vr(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(RegExp("(?:^|\\s+)"+r+"(?:$|\\s+)"));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:st(null,function(e,t,r){return nn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!ir(this.doc,e))return null;var t=e;if(e=_n(this.doc,e),!e)return null}else{var t=Tn(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=Q(this,rr(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:l>=e.bottom+t.offsetHeight&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&dr(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:st(null,Pt),triggerOnKeyPress:st(null,Dt),triggerOnKeyUp:st(null,Rt),execCommand:function(e){return To.hasOwnProperty(e)?To[e](this):void 0},findPosH:function(e,t,r,n){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=rr(this.doc,e);t>o&&(a=yr(this.doc,a,i,r,n),!a.hitSide);++o);return a},moveH:st(null,function(e,t){var r,n=this.doc.sel;r=n.shift||n.extend||Jt(n.from,n.to)?yr(this.doc,n.head,e,t,this.options.rtlMoveVisually):0>e?n.from:n.to,or(this.doc,r,r,e)}),deleteH:st(null,function(e,t){var r=this.doc.sel;Jt(r.from,r.to)?Xt(this.doc,"",r.from,yr(this.doc,r.head,e,t,!1),"+delete"):Xt(this.doc,"",r.from,r.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(e,t,r,n){var i=1,o=n;0>t&&(i=-1,t=-t);for(var a=0,s=rr(this.doc,e);t>a;++a){var l=Q(this,s,"div");if(null==o?o=l.left:l.left=o,s=br(this,l,i,r),s.hitSide)break}return s},moveV:st(null,function(e,t){var r,n,i=this.doc.sel;if(i.shift||i.extend||Jt(i.from,i.to)){var o=Q(this,i.head,"div");null!=i.goalColumn&&(o.left=i.goalColumn),r=br(this,o,e,t),"page"==t&&mr(this,0,Z(this,r,"div").top-o.top),n=o.left}else r=0>e?i.from:i.to;or(this.doc,r,r,e),null!=n&&(i.goalColumn=n)}),toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""),Zn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return document.activeElement==this.display.input},scrollTo:st(null,function(e,t){pr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller,t=$o;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:st(null,function(e,t){null==e?e={from:this.doc.sel.head,to:null}:"number"==typeof e?e={from:Yt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),t||(t=0);var r=e;null!=e.from.line&&(this.curOp.scrollToPos={from:e.from,to:e.to,margin:t},r={from:Q(this,e.from),to:Q(this,e.to)});var n=hr(this,Math.min(r.from.left,r.to.left),Math.min(r.from.top,r.to.top)-t,Math.max(r.from.right,r.to.right),Math.max(r.from.bottom,r.to.bottom)+t);pr(this,n.scrollLeft,n.scrollTop)}),setSize:st(null,function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(e+"")?e+"px":e}null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0,Zn(this,"refresh",this)}),operation:function(e){return ct(this,e)},refresh:st(null,function(){var e=this.display.cachedTextHeight;V(this),pr(this,this.doc.scrollLeft,this.doc.scrollTop),ut(this),(null==e||Math.abs(e-nt(this.display))>.5)&&a(this),Zn(this,"refresh",this)}),swapDoc:st(null,function(e){var t=this.doc;return t.cm=null,wn(this,e),V(this),pt(this,!0),pr(this,e.scrollLeft,e.scrollTop),Qn(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ni(e);var ko=e.optionHandlers={},xo=e.defaults={},Co=e.Init={toString:function(){return"CodeMirror.Init"}};Cr("value","",function(e,t){e.setValue(t)},!0),Cr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),Cr("indentUnit",2,r,!0),Cr("indentWithTabs",!1),Cr("smartIndent",!0),Cr("tabSize",4,function(e){n(e),V(e),ut(e)},!0),Cr("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),Cr("specialCharPlaceholder",hn,function(e){e.refresh()},!0),Cr("electricChars",!0),Cr("rtlMoveVisually",!ro),Cr("wholeLineUpdateBefore",!0),Cr("theme","default",function(e){l(e),c(e)},!0),Cr("keyMap","default",s),Cr("extraKeys",null),Cr("onKeyEvent",null),Cr("onDragEvent",null),Cr("lineWrapping",!1,i,!0),Cr("gutters",[],function(e){h(e.options),c(e)},!0),Cr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?b(e.display)+"px":"0",e.refresh()},!0),Cr("coverGutterNextToScrollbar",!1,p,!0),Cr("lineNumbers",!1,function(e){h(e.options),c(e)},!0),Cr("firstLineNumber",1,c,!0),Cr("lineNumberFormatter",function(e){return e},c,!0),Cr("showCursorWhenSelecting",!1,A,!0),Cr("resetSelectionOnContextMenu",!0),Cr("readOnly",!1,function(e,t){"nocursor"==t?(zt(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||pt(e,!0))}),Cr("disableInput",!1,function(e,t){t||pt(e,!0)},!0),Cr("dragDrop",!0),Cr("cursorBlinkRate",530),Cr("cursorScrollMargin",0),Cr("cursorHeight",1),Cr("workTime",100),Cr("workDelay",100),Cr("flattenSpans",!0,n,!0),Cr("addModeClass",!1,n,!0),Cr("pollInterval",100),Cr("undoDepth",40,function(e,t){e.doc.history.undoDepth=t}),Cr("historyEventDelay",500),Cr("viewportMargin",10,function(e){e.refresh()},!0),Cr("maxHighlightLength",1e4,n,!0),Cr("crudeMeasuringFrom",1e4),Cr("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),Cr("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Cr("autofocus",null);var wo=e.modes={},_o=e.mimeModes={};e.defineMode=function(t,r){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){r.dependencies=[];for(var n=2;arguments.length>n;++n)r.dependencies.push(arguments[n])}wo[t]=r},e.defineMIME=function(e,t){_o[e]=t},e.resolveMode=function(t){if("string"==typeof t&&_o.hasOwnProperty(t))t=_o[t];else if(t&&"string"==typeof t.name&&_o.hasOwnProperty(t.name)){var r=_o[t.name];"string"==typeof r&&(r={name:r}),t=ui(r,t),t.name=r.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=wo[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(Mo.hasOwnProperty(r.name)){var o=Mo[r.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var a in r.modeProps)i[a]=r.modeProps[a];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Mo=e.modeExtensions={};e.extendMode=function(e,t){var r=Mo.hasOwnProperty(e)?Mo[e]:Mo[e]={};fi(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){Do.prototype[e]=t},e.defineOption=Cr;var So=[];e.defineInitHook=function(e){So.push(e)};var Lo=e.helpers={};e.registerHelper=function(t,r,n){Lo.hasOwnProperty(t)||(Lo[t]=e[t]={_global:[]}),Lo[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),Lo[t]._global.push({pred:n,val:i})},e.isWordChar=pi,e.copyState=wr,e.startState=_r,e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var To=e.commands={selectAll:function(e){e.setSelection(Yt(e.firstLine(),0),Yt(e.lastLine()))},killLine:function(e){var t=e.getCursor(!0),r=e.getCursor(!1),n=!Jt(t,r);n||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,n?r:Yt(t.line),"+delete"):e.replaceRange("",t,Yt(t.line+1,0),"+delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",Yt(t,0),Yt(t+1,0),"+delete")},delLineLeft:function(e){var t=e.getCursor();e.replaceRange("",Yt(t.line,0),t,"+delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection(Yt(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Yt(e.lastLine()))},goLineStart:function(e){e.extendSelection(Ei(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),r=Ei(e,t.line),n=e.getLineHandle(r.line),i=In(n);if(i&&0!=i[0].level)e.extendSelection(r);else{var o=Math.max(0,n.text.search(/\S/)),a=t.line==r.line&&o>=t.ch&&t.ch;e.extendSelection(Yt(r.line,a?0:o))}},goLineEnd:function(e){e.extendSelection(Ii(e,e.getCursor().line))},goLineRight:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div"))},goLineLeft:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:0,top:t},"div"))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","+input")},transposeChars:function(e){var t=e.getCursor(),r=e.getLine(t.line);t.ch>0&&t.ch<r.length-1&&e.replaceRange(r.charAt(t.ch)+r.charAt(t.ch-1),Yt(t.line,t.ch-1),Yt(t.line,t.ch+1))},newlineAndIndent:function(e){st(e,function(){e.replaceSelection("\n","end","+input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},Ao=e.keyMap={};Ao.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},Ao.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},Ao.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},Ao["default"]=to?Ao.macDefault:Ao.pcDefault,Ao.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.lookupKey=Sr,e.isModifierKey=Lr,e.keyName=Tr,e.fromTextArea=function(t,r){function n(){t.value=c.getValue()}if(r||(r={}),r.value=t.value,!r.tabindex&&t.tabindex&&(r.tabindex=t.tabindex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Yn(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var a=t.form,s=a.submit;try{var l=a.submit=function(){n(),a.submit=s,a.submit(),a.submit=l}}catch(o){}}t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return c.save=n,c.getTextArea=function(){return t},c.toTextArea=function(){n(),t.parentNode.removeChild(c.getWrapperElement()),t.style.display="",t.form&&(Jn(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=s))},c},Ar.prototype={eol:function(){return this.pos>=this.string.length
},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=oi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?oi(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return oi(this.string,null,this.tabSize)-(this.lineStart?oi(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},e.StringStream=Ar,e.TextMarker=Er,ni(Er),Er.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ot(e),ri(this,"clear")){var r=this.find();r&&Qn(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;this.lines.length>o;++o){var a=this.lines[o],s=Rr(a.markedSpans,this);null!=s.to&&(i=Tn(a)),a.markedSpans=Pr(a.markedSpans,s),null!=s.from?n=Tn(a):this.collapsed&&!Jr(this.doc,a)&&e&&Ln(a,nt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;this.lines.length>o;++o){var l=Yr(e.doc,this.lines[o]),c=f(e.doc,l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&ut(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&lr(e)),t&&at(e)}},Er.prototype.find=function(e){for(var t,r,n=0;this.lines.length>n;++n){var i=this.lines[n],o=Rr(i.markedSpans,this);if(null!=o.from||null!=o.to){var a=Tn(i);null!=o.from&&(t=Yt(a,o.from)),null!=o.to&&(r=Yt(a,o.to))}}return"bookmark"!=this.type||e?t&&{from:t,to:r}:t},Er.prototype.changed=function(){var e=this.find(),t=this.doc.cm;if(e&&t){"bookmark"!=this.type&&(e=e.from);var r=_n(this.doc,e.line);if(B(t,r),e.line>=t.display.showingFrom&&e.line<t.display.showingTo){for(var n=t.display.lineDiv.firstChild;n;n=n.nextSibling)if(n.lineObj==r){n.offsetHeight!=r.height&&Ln(r,n.offsetHeight);break}ct(t,function(){t.curOp.selectionChanged=t.curOp.forceUpdate=t.curOp.updateMaxLine=!0})}}},Er.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=ci(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Er.prototype.detachLine=function(e){if(this.lines.splice(ci(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Eo=0;e.SharedTextMarker=Or,ni(Or),Or.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;this.markers.length>e;++e)this.markers[e].clear();Qn(this,"clear")}},Or.prototype.find=function(){return this.primary.find()};var Io=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.cm=e,this.node=t};ni(Io),Io.prototype.clear=tn(function(){var e=this.line.widgets,t=Tn(this.line);if(null!=t&&e){for(var r=0;e.length>r;++r)e[r]==this&&e.splice(r--,1);e.length||(this.line.widgets=null);var n=En(this.cm,this.line)<this.cm.doc.scrollTop;Ln(this.line,Math.max(0,this.line.height-rn(this))),n&&mr(this.cm,0,-this.height),ut(this.cm,t,t+1)}}),Io.prototype.changed=tn(function(){var e=this.height;this.height=null;var t=rn(this)-e;if(t){Ln(this.line,this.line.height+t);var r=Tn(this.line);ut(this.cm,r,r+1)}});var Oo=e.Line=function(e,t,r){this.text=e,en(this,t),this.height=r?r(this):1};ni(Oo),Oo.prototype.lineNo=function(){return Tn(this)};var No={},Ro={};kn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;n>r;++r){var i=this.lines[r];this.height-=i.height,an(i),Qn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0,i=t.length;i>n;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},xn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;this.children.length>r;++r){var n=this.children[r],i=n.chunkSize();if(i>e){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(25>this.size-t){var s=[];this.collapse(s),this.children=[new kn(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0,r=this.children.length;r>t;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],a=o.chunkSize();if(a>=e){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var s=o.lines.splice(o.lines.length-25,25),l=new kn(s);o.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(10>=this.children.length)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new xn(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=ci(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new xn(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],a=o.chunkSize();if(a>e){var s=Math.min(t,a-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Po=0,Do=e.Doc=function(e,t,r){if(!(this instanceof Do))return new Do(e,t,r);null==r&&(r=0),xn.call(this,[new kn([new Oo("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=On(),this.cleanGeneration=1,this.frontier=r;var n=Yt(r,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++Po,this.modeOption=t,"string"==typeof e&&(e=Xo(e)),bn(this,{from:n,to:n,text:e},null,{head:n,anchor:n})};Do.prototype=ui(xn.prototype,{constructor:Do,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0,i=t.length;i>n;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Sn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:function(e){var t=Yt(this.first,0),r=this.first+this.size-1;qt(this,{from:t,to:Yt(r,_n(this,r).text.length),text:Xo(e),origin:"setValue"},{head:t,anchor:t},!0)},replaceRange:function(e,t,r,n){t=rr(this,t),r=r?rr(this,r):t,Xt(this,e,t,r,n)},getRange:function(e,t,r){var n=Mn(this,rr(this,e),rr(this,t));return r===!1?n:n.join(r||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},setLine:function(e,t){ir(this,e)&&Xt(this,t,Yt(e,0),rr(this,Yt(e)))},removeLine:function(e){e?Xt(this,"",rr(this,Yt(e-1)),rr(this,Yt(e))):Xt(this,"",Yt(0,0),rr(this,Yt(1,0)))},getLineHandle:function(e){return ir(this,e)?_n(this,e):void 0},getLineNumber:function(e){return Tn(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=_n(this,e)),Yr(this,e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return rr(this,e)},getCursor:function(e){var t,r=this.sel;return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||e===!1?r.to:r.from,er(t)},somethingSelected:function(){return!Jt(this.sel.head,this.sel.anchor)},setCursor:lt(function(e,t,r){var n=rr(this,"number"==typeof e?Yt(e,t||0):e);r?or(this,n):sr(this,n,n)}),setSelection:lt(function(e,t,r){sr(this,rr(this,e),rr(this,t||e),r)}),extendSelection:lt(function(e,t,r){or(this,rr(this,e),t&&rr(this,t),r)}),getSelection:function(e){return this.getRange(this.sel.from,this.sel.to,e)},replaceSelection:function(e,t,r){qt(this,{from:this.sel.from,to:this.sel.to,text:Xo(e),origin:r},t||"around")},undo:lt(function(){jt(this,"undo")}),redo:lt(function(){jt(this,"redo")}),setExtending:function(e){this.sel.extend=e},historySize:function(){var e=this.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.history=On(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:zn(this.history.done),undone:zn(this.history.undone)}},setHistory:function(e){var t=this.history=On(this.history.maxGeneration);t.done=e.done.slice(0),t.undone=e.undone.slice(0)},markText:function(e,t,r){return Ir(this,rr(this,e),rr(this,t),r,"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1};return e=rr(this,e),Ir(this,e,e,r,"bookmark")},findMarksAt:function(e){e=rr(this,e);var t=[],r=_n(this,e.line).markedSpans;if(r)for(var n=0;r.length>n;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t){e=rr(this,e),t=rr(this,t);var r=[],n=e.line;return this.iter(e.line,t.line+1,function(i){var o=i.markedSpans;if(o)for(var a=0;o.length>a;a++){var s=o[a];n==e.line&&e.ch>s.to||null==s.from&&n!=e.line||n==t.line&&s.from>t.ch||r.push(s.marker.parent||s.marker)}++n}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;r.length>n;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,++r,void 0)}),rr(this,Yt(r,t))},indexFromPos:function(e){e=rr(this,e);var t=e.ch;return e.line<this.first||0>e.ch?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new Do(Sn(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&r>e.to&&(r=e.to);var n=new Do(Sn(this,t,r),e.mode||this.modeOption,t);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;this.linked.length>r;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this);break}}if(t.history==this.history){var i=[t.id];Cn(t,function(e){i.push(e.id)},!0),t.history=On(),t.history.done=zn(this.history.done,i),t.history.undone=zn(this.history.undone,i)}},iterLinkedDocs:function(e){Cn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Do.prototype.eachLine=Do.prototype.iter;var Ho="iter insert remove copy getEditor".split(" ");for(var zo in Do.prototype)Do.prototype.hasOwnProperty(zo)&&0>ci(Ho,zo)&&(e.prototype[zo]=function(e){return function(){return e.apply(this.doc,arguments)}}(Do.prototype[zo]));ni(Do),e.e_stop=Vn,e.e_preventDefault=Kn,e.e_stopPropagation=jn;var Wo,Fo=0;e.on=Yn,e.off=Jn,e.signal=Zn;var $o=30,Bo=e.Pass={toString:function(){return"CodeMirror.Pass"}};ii.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=oi;var qo=[""],Ko=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,jo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;e.replaceGetRect=function(e){xi=e};var Uo=function(){if(Fi)return!1;var e=vi("div");return"draggable"in e||"dragDrop"in e}();Hi?Ci=function(e,t){return 36==e.charCodeAt(t-1)&&39==e.charCodeAt(t)}:Gi&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?Ci=function(e,t){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(e.slice(t-1,t+1))}:Ki&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)?Ci=function(e,t){var r=e.charCodeAt(t-1);return r>=8208&&8212>=r}:Ki&&(Ci=function(e,t){if(t>1&&45==e.charCodeAt(t-1)){if(/\w/.test(e.charAt(t-2))&&/[^\-?\.]/.test(e.charAt(t)))return!0;if(t>2&&/[\d\.,]/.test(e.charAt(t-2))&&/[\d\.,]/.test(e.charAt(t)))return!1}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(e.slice(t-1,t+1))});var Vo,Go,Xo=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Xo;var Yo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Jo=function(){var e=vi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Zo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Zo,function(){for(var e=0;10>e;e++)Zo[e+48]=Zo[e+96]=e+"";for(var e=65;90>=e;e++)Zo[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Zo[e+111]=Zo[e+63235]="F"+e}();var Qo,ea=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?r.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/,l="L";return function(t){if(!n.test(t))return!1;for(var r,c=t.length,u=[],f=0;c>f;++f)u.push(r=e(t.charCodeAt(f)));for(var f=0,d=l;c>f;++f){var r=u[f];"m"==r?u[f]=d:d=r}for(var f=0,h=l;c>f;++f){var r=u[f];"1"==r&&"r"==h?u[f]="n":o.test(r)&&(h=r,"r"==r&&(u[f]="R"))}for(var f=1,d=u[0];c-1>f;++f){var r=u[f];"+"==r&&"1"==d&&"1"==u[f+1]?u[f]="1":","!=r||d!=u[f+1]||"1"!=d&&"n"!=d||(u[f]=d),d=r}for(var f=0;c>f;++f){var r=u[f];if(","==r)u[f]="N";else if("%"==r){for(var p=f+1;c>p&&"%"==u[p];++p);for(var m=f&&"!"==u[f-1]||c>p&&"1"==u[p]?"1":"N",g=f;p>g;++g)u[g]=m;f=p-1}}for(var f=0,h=l;c>f;++f){var r=u[f];"L"==h&&"1"==r?u[f]="L":o.test(r)&&(h=r)}for(var f=0;c>f;++f)if(i.test(u[f])){for(var p=f+1;c>p&&i.test(u[p]);++p);for(var v="L"==(f?u[f-1]:l),y="L"==(c>p?u[p]:l),m=v||y?"L":"R",g=f;p>g;++g)u[g]=m;f=p-1}for(var b,k=[],f=0;c>f;)if(a.test(u[f])){var x=f;for(++f;c>f&&a.test(u[f]);++f);k.push({from:x,to:f,level:0})}else{var C=f,w=k.length;for(++f;c>f&&"L"!=u[f];++f);for(var g=C;f>g;)if(s.test(u[g])){g>C&&k.splice(w,0,{from:C,to:g,level:1});var _=g;for(++g;f>g&&s.test(u[g]);++g);k.splice(w,0,{from:_,to:g,level:2}),C=g}else++g;f>C&&k.splice(w,0,{from:C,to:f,level:1})}return 1==k[0].level&&(b=t.match(/^\s+/))&&(k[0].from=b[0].length,k.unshift({from:0,to:b[0].length,level:0})),1==si(k).level&&(b=t.match(/\s+$/))&&(si(k).to-=b[0].length,k.push({from:c-b[0].length,to:c,level:0})),k[0].level!=si(k).level&&k.push({from:c,to:c,level:k[0].level}),k}}();return e.version="3.22.0",e}(),function(){"use strict";function e(e,t,r){this.cm=e,this.getHints=t,this.options=r,this.widget=this.onClose=null}function t(e){return"string"==typeof e?e:e.text}function r(e,t){function r(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.customKeys?{}:n;if(e.customKeys)for(var o in e.customKeys)e.customKeys.hasOwnProperty(o)&&r(o,e.customKeys[o]);if(e.extraKeys)for(var o in e.extraKeys)e.extraKeys.hasOwnProperty(o)&&r(o,e.extraKeys[o]);return i}function n(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function i(e,i){this.completion=e,this.data=i;var s=this,l=e.cm,c=e.options,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=c.getDefaultSelection?c.getDefaultSelection(l,c,i):0;for(var f=i.list,d=0;f.length>d;++d){var h=u.appendChild(document.createElement("li")),p=f[d],m=o+(d!=this.selectedHint?"":" "+a);null!=p.className&&(m=p.className+" "+m),h.className=m,p.render?p.render(h,i,p):h.appendChild(document.createTextNode(p.displayText||t(p))),h.hintId=d}var g=l.cursorCoords(c.alignWithWord!==!1?i.from:null),v=g.left,y=g.bottom,b=!0;u.style.left=v+"px",u.style.top=y+"px";var k=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(c.container||document.body).appendChild(u);var C=u.getBoundingClientRect(),w=C.bottom-x;if(w>0){var _=C.bottom-C.top,M=C.top-(g.bottom-g.top);if(M-_>0)u.style.top=(y=M-_)+"px",b=!1;else if(_>x){u.style.height=x-5+"px",u.style.top=(y=g.bottom-C.top)+"px";var S=l.getCursor();i.from.ch!=S.ch&&(g=l.cursorCoords(S),u.style.left=(v=g.left)+"px",C=u.getBoundingClientRect())}}var L=C.left-k;if(L>0&&(C.right-C.left>k&&(u.style.width=k-5+"px",L-=C.right-C.left-k),u.style.left=(v=g.left-L)+"px"),l.addKeyMap(this.keyMap=r(c,{moveFocus:function(e,t){s.changeActive(s.selectedHint+e,t)},setFocus:function(e){s.changeActive(e)},menuSize:function(){return s.screenAmount()},length:f.length,close:function(){e.close()},pick:function(){s.pick()},data:i})),c.closeOnUnfocus!==!1){var T;l.on("blur",this.onBlur=function(){T=setTimeout(function(){e.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(T)})}var A=l.getScrollInfo();return l.on("scroll",this.onScroll=function(){var t=l.getScrollInfo(),r=l.getWrapperElement().getBoundingClientRect(),n=y+A.top-t.top,i=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(i+=u.offsetHeight),r.top>=i||i>=r.bottom?e.close():(u.style.top=n+"px",u.style.left=v+A.left-t.left+"px",void 0)}),CodeMirror.on(u,"dblclick",function(e){var t=n(u,e.target||e.srcElement);t&&null!=t.hintId&&(s.changeActive(t.hintId),s.pick())}),CodeMirror.on(u,"click",function(e){var t=n(u,e.target||e.srcElement);t&&null!=t.hintId&&(s.changeActive(t.hintId),c.completeOnSingleClick&&s.pick())}),CodeMirror.on(u,"mousedown",function(){setTimeout(function(){l.focus()},20)}),CodeMirror.signal(i,"select",f[0],u.firstChild),!0}var o="CodeMirror-hint",a="CodeMirror-hint-active";CodeMirror.showHint=function(t,r,n){if(!t.somethingSelected()){if(null==r){if(n&&n.async)return;r=CodeMirror.hint.auto}t.state.completionActive&&t.state.completionActive.close();var i=t.state.completionActive=new e(t,r,n||{});return CodeMirror.signal(t,"startCompletion",t),i.options.async?(r(t,function(e){i.showHints(e)},i.options),void 0):i.showHints(r(t,i.options))}},e.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),CodeMirror.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,r){var n=e.list[r];n.hint?n.hint(this.cm,e,n):this.cm.replaceRange(t(n),n.from||e.from,n.to||e.to),CodeMirror.signal(e,"pick",n),this.close()},showHints:function(e){return e&&e.list.length&&this.active()?(0!=this.options.completeSingle&&1==e.list.length?this.pick(e,0):this.showWidget(e),void 0):this.close()},showWidget:function(e){function t(){s||(s=!0,c.close(),c.cm.off("cursorActivity",a),e&&CodeMirror.signal(e,"close"))}function r(){s||(CodeMirror.signal(e,"update"),c.options.async?c.getHints(c.cm,n,c.options):n(c.getHints(c.cm,c.options)))}function n(r){return e=r,s?void 0:e&&e.list.length?(c.widget=new i(c,e),void 0):t()}function o(){l&&(p(l),l=0)}function a(){o();var e=c.cm.getCursor(),t=c.cm.getLine(e.line);e.line!=f.line||t.length-e.ch!=d-f.ch||e.ch<f.ch||c.cm.somethingSelected()||e.ch&&u.test(t.charAt(e.ch-1))?c.close():(l=h(r),c.widget&&c.widget.close())}this.widget=new i(this,e),CodeMirror.signal(e,"shown");var s,l=0,c=this,u=this.options.closeCharacters||/[\s()\[\]{};:>,]/,f=this.cm.getCursor(),d=this.cm.getLine(f.line).length,h=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",a),this.onClose=t}},i.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus!==!1&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,t){if(e>=this.data.list.length?e=t?this.data.list.length-1:0:0>e&&(e=t?0:this.data.list.length-1),this.selectedHint!=e){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+a,""),r=this.hints.childNodes[this.selectedHint=e],r.className+=" "+a,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},CodeMirror.registerHelper("hint","auto",function(e,t){var r,n=e.getHelpers(e.getCursor(),"hint");if(n.length)for(var i=0;n.length>i;i++){var o=n[i](e,t);if(o&&o.list.length)return o}else if(r=e.getHelper(e.getCursor(),"hintWords")){if(r)return CodeMirror.hint.fromList(e,{words:r})}else if(CodeMirror.hint.anyword)return CodeMirror.hint.anyword(e,t)}),CodeMirror.registerHelper("hint","fromList",function(e,t){for(var r=e.getCursor(),n=e.getTokenAt(r),i=[],o=0;t.words.length>o;o++){var a=t.words[o];a.slice(0,n.string.length)==n.string&&i.push(a)}return i.length?{list:i,from:CodeMirror.Pos(r.line,n.start),to:CodeMirror.Pos(r.line,n.end)}:void 0}),CodeMirror.commands.autocomplete=CodeMirror.showHint}(),function(){"use strict";function e(e,r){var n=r&&r.schemaInfo;if(n){var i=e.getCursor(),o=e.getTokenAt(i),a=CodeMirror.innerMode(e.getMode(),o.state);if("markdown"==a.mode.name){var s=!0,l=o.string.charAt(0),c=n[l]||[],u={list:c,from:s?t(i.line,o.start):i,to:s?t(i.line,o.end):i};return u}}}var t=CodeMirror.Pos;CodeMirror.registerHelper("hint","markdown",e)}(),function(){"use strict";function e(e){"activeLine"in e.state&&(e.removeLineClass(e.state.activeLine,"wrap",n),e.removeLineClass(e.state.activeLine,"background",i))}function t(t,r){var o=t.getLineHandleVisualStart(r);t.state.activeLine!=o&&t.operation(function(){e(t),t.addLineClass(o,"wrap",n),t.addLineClass(o,"background",i),t.state.activeLine=o})}function r(e,r){t(e,r.head.line)}var n="CodeMirror-activeline",i="CodeMirror-activeline-background";CodeMirror.defineOption("styleActiveLine",!1,function(n,i,o){var a=o&&o!=CodeMirror.Init;i&&!a?(t(n,n.getCursor().line),n.on("beforeSelectionChange",r)):!i&&a&&(n.off("beforeSelectionChange",r),e(n),delete n.state.activeLine)})}(),function(){"use strict";var e=/^(\s*)([*+-]|(\d+)\.)(\s*)/,t="*+-";CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return CodeMirror.Pass;var n,i=r.getCursor(),o=r.getStateAfter(i.line).list!==!1;if(!o||!(n=r.getLine(i.line).match(e)))return r.execCommand("newlineAndIndent"),void 0;if(!n.input.replace(n[0],"").trim())return r.removeLine(i.line),r.replaceSelection("\n","end"),void 0;var a=n[1],s=n[4],l=t.indexOf(n[2])>=0?n[2]:parseInt(n[3],10)+1+".";r.replaceSelection("\n"+a+l+s,"end")}}(),function(){function e(e,t){var r=e.getRange(CodeMirror.Pos(t.line,t.ch-1),CodeMirror.Pos(t.line,t.ch+1));return 2==r.length?r:null}function t(t){for(var r={name:"autoCloseBrackets",Backspace:function(r){if(r.somethingSelected()||r.getOption("disableInput"))return CodeMirror.Pass;var n=r.getCursor(),i=e(r,n);return i&&0==t.indexOf(i)%2?(r.replaceRange("",CodeMirror.Pos(n.line,n.ch-1),CodeMirror.Pos(n.line,n.ch+1)),void 0):CodeMirror.Pass}},n="",i=0;t.length>i;i+=2)(function(e,t){function i(r){var n=r.getSelection();r.replaceSelection(e+n+t)}function a(e){var r=e.getCursor(),n=e.getRange(r,CodeMirror.Pos(r.line,r.ch+1));return n!=t||e.somethingSelected()?CodeMirror.Pass:(e.execCommand("goCharRight"),void 0)}e!=t&&(n+=t),r["'"+e+"'"]=function(r){if("'"==e&&"comment"==r.getTokenAt(r.getCursor()).type||r.getOption("disableInput"))return CodeMirror.Pass;if(r.somethingSelected())return i(r);if(e!=t||a(r)==CodeMirror.Pass){var s=r.getCursor(),l=CodeMirror.Pos(s.line,s.ch+1),c=r.getLine(s.line),u=c.charAt(s.ch),f=s.ch>0?c.charAt(s.ch-1):"";return e==t&&CodeMirror.isWordChar(f)?CodeMirror.Pass:c.length==s.ch||n.indexOf(u)>=0||o.test(u)?(r.replaceSelection(e+t,{head:l,anchor:l}),void 0):CodeMirror.Pass}},e!=t&&(r["'"+t+"'"]=a)})(t.charAt(i),t.charAt(i+1));return r}function r(t){return function(r){var n=r.getCursor(),i=e(r,n);return!i||0!=t.indexOf(i)%2||r.getOption("disableInput")?CodeMirror.Pass:(r.operation(function(){var e=CodeMirror.Pos(n.line+1,0);r.replaceSelection("\n\n",{anchor:e,head:e},"+input"),r.indentLine(n.line+1,null,!0),r.indentLine(n.line+2,null,!0)}),void 0)}}var n="()[]{}''\"\"",i="[]{}",o=/\s/;CodeMirror.defineOption("autoCloseBrackets",!1,function(e,o,a){if(a!=CodeMirror.Init&&a&&e.removeKeyMap("autoCloseBrackets"),o){var s=n,l=i;"string"==typeof o?s=o:"object"==typeof o&&(null!=o.pairs&&(s=o.pairs),null!=o.explode&&(l=o.explode));var c=t(s);l&&(c.Enter=r(l)),e.addKeyMap(c)}})}(),CodeMirror.defineOption("showTrailingSpace",!1,function(e,t,r){r==CodeMirror.Init&&(r=!1),r&&!t?e.removeOverlay("trailingspace"):!r&&t&&e.addOverlay({token:function(e){for(var t=e.string.length,r=t;r&&/\s/.test(e.string.charAt(r-1));--r);return r>e.pos?(e.pos=r,null):(e.pos=t,"trailingspace")},name:"trailingspace"})}),function(){function e(e,t,r){var n,i=document.body;return n=i.appendChild(document.createElement("div")),n.className=r?"CodeMirror-dialog CodeMirror-dialog-top":"CodeMirror-dialog CodeMirror-dialog-bottom",n.innerHTML=t,n}CodeMirror.defineExtension("openDialog",function(t,r,n){function i(){s||(s=!0,a.parentNode.removeChild(a))}var o,a=e(this,t,n&&n.bottom),s=!1,l=this,c=a.getElementsByTagName("input")[0];return c?(CodeMirror.on(c,"keydown",function(e){n&&n.onKeyDown&&n.onKeyDown(e,c.value,i)||(13==e.keyCode||27==e.keyCode)&&(CodeMirror.e_stop(e),i(),l.focus(),13==e.keyCode&&r(c.value))}),n&&n.onKeyUp&&CodeMirror.on(c,"keyup",function(e){n.onKeyUp(e,c.value,i)}),n&&n.value&&(c.value=n.value),c.focus(),CodeMirror.on(c,"blur",i)):(o=a.getElementsByTagName("button")[0])&&(CodeMirror.on(o,"click",function(){i(),l.focus()}),o.focus(),CodeMirror.on(o,"blur",i)),i}),CodeMirror.defineExtension("openConfirm",function(t,r,n){function i(){s||(s=!0,o.parentNode.removeChild(o),l.focus())}var o=e(this,t,n&&n.bottom),a=o.getElementsByTagName("button"),s=!1,l=this,c=1;a[0].focus();for(var u=0;a.length>u;++u){var f=a[u];(function(e){CodeMirror.on(f,"click",function(t){CodeMirror.e_preventDefault(t),i(),e&&e(l)})})(r[u]),CodeMirror.on(f,"blur",function(){--c,setTimeout(function(){0>=c&&i()},200)}),CodeMirror.on(f,"focus",function(){++c})}})}(),function(){function e(e,n,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof n&&(o=!1),i=i?e.clipPos(i):r(0,0),this.pos={from:i,to:i},"string"!=typeof n)n.global||(n=RegExp(n.source,n.ignoreCase?"ig":"g")),this.matches=function(t,i){if(t){n.lastIndex=0;for(var o,a,s=e.getLine(i.line).slice(0,i.ch),l=0;;){n.lastIndex=l;var c=n.exec(s);if(!c)break;if(o=c,a=o.index,l=o.index+(o[0].length||1),l==s.length)break}var u=o&&o[0].length||0;u||(0==a&&0==s.length?o=void 0:a!=e.getLine(i.line).length&&u++)
}else{n.lastIndex=i.ch;var s=e.getLine(i.line),o=n.exec(s),u=o&&o[0].length||0,a=o&&o.index;a+u==s.length||u||(u=1)}return o&&u?{from:r(i.line,a),to:r(i.line,a+u),match:o}:void 0};else{var a=n;o&&(n=n.toLowerCase());var s=o?function(e){return e.toLowerCase()}:function(e){return e},l=n.split("\n");if(1==l.length)this.matches=n.length?function(i,o){if(i){var l=e.getLine(o.line).slice(0,o.ch),c=s(l),u=c.lastIndexOf(n);if(u>-1)return u=t(l,c,u),{from:r(o.line,u),to:r(o.line,u+a.length)}}else{var l=e.getLine(o.line).slice(o.ch),c=s(l),u=c.indexOf(n);if(u>-1)return u=t(l,c,u)+o.ch,{from:r(o.line,u),to:r(o.line,u+a.length)}}}:function(){};else{var c=a.split("\n");this.matches=function(t,n){var i=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(s(e.getLine(n.line).slice(0,c[i].length))!=l[l.length-1])return;for(var o=r(n.line,c[i].length),a=n.line-1,u=i-1;u>=1;--u,--a)if(l[u]!=s(e.getLine(a)))return;var f=e.getLine(a),d=f.length-c[0].length;if(s(f.slice(d))!=l[0])return;return{from:r(a,d),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var f=e.getLine(n.line),d=f.length-c[0].length;if(s(f.slice(d))==l[0]){for(var h=r(n.line,d),a=n.line+1,u=1;i>u;++u,++a)if(l[u]!=s(e.getLine(a)))return;if(e.getLine(a).slice(0,c[i].length)==l[i])return{from:h,to:r(a,c[i].length)}}}}}}}function t(e,t,r){if(e.length==t.length)return r;for(var n=Math.min(r,e.length);;){var i=e.slice(0,n).toLowerCase().length;if(r>i)++n;else{if(!(i>r))return n;--n}}}var r=CodeMirror.Pos;e.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=r(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,i=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,i))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!i.line)return t(0);i=r(i.line-1,this.doc.getLine(i.line-1).length)}else{var o=this.doc.lineCount();if(i.line==o-1)return t(o);i=r(i.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(e){if(this.atOccurrence){var t=CodeMirror.splitLines(e);this.doc.replaceRange(t,this.pos.from,this.pos.to),this.pos.to=r(this.pos.from.line+t.length-1,t[t.length-1].length+(1==t.length?this.pos.from.ch:0))}}},CodeMirror.defineExtension("getSearchCursor",function(t,r,n){return new e(this.doc,t,r,n)}),CodeMirror.defineDocExtension("getSearchCursor",function(t,r,n){return new e(this,t,r,n)})}(),function(){function e(e){return"string"==typeof e?{token:function(t){return t.match(e)?"searching":(t.next(),t.skipTo(e.charAt(0))||t.skipToEnd(),void 0)}}:{token:function(t){if(t.match(e))return"searching";for(;!t.eol()&&(t.next(),!t.match(e,!1)););}}}function t(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new t)}function n(e,t,r){return e.getSearchCursor(t,r,"string"==typeof t&&t==t.toLowerCase())}function i(e,t,r,n){e.openDialog?e.openDialog(t,n):n(prompt(r,""))}function o(e,t,r,n){e.openConfirm?e.openConfirm(t,n):confirm(r)&&n[0]()}function a(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);return t?RegExp(t[1],-1==t[2].indexOf("i")?"":"i"):e}function s(t,n){var o=r(t);return o.query?l(t,n):(i(t,f,"Search for:",function(r){t.operation(function(){r&&!o.query&&(o.query=a(r),t.removeOverlay(o.overlay),o.overlay=e(o.query),t.addOverlay(o.overlay),o.posFrom=o.posTo=t.getCursor(),l(t,n))})}),void 0)}function l(e,t){e.operation(function(){var i=r(e),o=n(e,i.query,t?i.posFrom:i.posTo);(o.find(t)||(o=n(e,i.query,t?CodeMirror.Pos(e.lastLine()):CodeMirror.Pos(e.firstLine(),0)),o.find(t)))&&(e.setSelection(o.from(),o.to()),i.posFrom=o.from(),i.posTo=o.to())})}function c(e){e.operation(function(){var t=r(e);t.query&&(t.query=null,e.removeOverlay(t.overlay))})}function u(e,t){i(e,d,"Replace:",function(r){r&&(r=a(r),i(e,h,"Replace with:",function(i){if(t)e.operation(function(){for(var t=n(e,r);t.findNext();)if("string"!=typeof r){var o=e.getRange(t.from(),t.to()).match(r);t.replace(i.replace(/\$(\d)/,function(e,t){return o[t]}))}else t.replace(i)});else{c(e);var a=n(e,r,e.getCursor()),s=function(){var t,i=a.from();!(t=a.findNext())&&(a=n(e,r),!(t=a.findNext())||i&&a.from().line==i.line&&a.from().ch==i.ch)||(e.setSelection(a.from(),a.to()),o(e,p,"Replace?",[function(){l(t)},s]))},l=function(e){a.replace("string"==typeof r?i:i.replace(/\$(\d)/,function(t,r){return e[r]})),s()};s()}}))})}var f='Search: <input type="text"/> <span>(Use /re/ syntax for regexp search)</span>',d='Replace: <input type="text"/> <span>(Use /re/ syntax for regexp search)</span>',h='With: <input type="text" style="width: 10em"/>',p='Replace? <button class="btn btn-small" type="button">Yes</button> <button class="btn btn-small" type="button">No</button> <button class="btn btn-small" type="button">Stop</button>';CodeMirror.commands.find=function(e){c(e),s(e)},CodeMirror.commands.findNext=s,CodeMirror.commands.findPrev=function(e){s(e,!0)},CodeMirror.commands.clearSearch=c,CodeMirror.commands.replace=u,CodeMirror.commands.replaceAll=function(e){u(e,!0)}}(),CodeMirror.overlayMode=CodeMirror.overlayParser=function(e,t,r){return{startState:function(){return{base:CodeMirror.startState(e),overlay:CodeMirror.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(r){return{base:CodeMirror.copyState(e,r.base),overlay:CodeMirror.copyState(t,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(n,i){return n.start==i.basePos&&(i.baseCur=e.token(n,i.base),i.basePos=n.pos),n.start==i.overlayPos&&(n.pos=n.start,i.overlayCur=t.token(n,i.overlay),i.overlayPos=n.pos),n.pos=Math.min(i.basePos,i.overlayPos),n.eol()&&(i.basePos=i.overlayPos=0),null==i.overlayCur?i.baseCur:null!=i.baseCur&&r?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:e.indent&&function(t,r){return e.indent(t.base,r)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(r){e.blankLine&&e.blankLine(r.base),t.blankLine&&t.blankLine(r.overlay)}}},CodeMirror.defineMode("xml",function(e,t){function r(e,t){function r(r){return t.tokenize=r,r(e,t)}var i=e.next();if("<"==i){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?r(o("atom","]]>")):null:e.match("--")?r(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(a(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta";var s=e.eat("/");k="";for(var l;l=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)k+=l;return k?(x=s?"closeTag":"openTag",t.tokenize=n,"tag"):"tag error"}if("&"==i){var c;return c=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),c?"atom":"error"}return e.eatWhile(/[^&<]/),null}function n(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,x=">"==n?"endTag":"selfcloseTag","tag";if("="==n)return x="equals",null;if("<"==n){t.tokenize=r,t.state=u,t.tagName=t.tagStart=null;var o=t.tokenize(e,t);return o?o+" error":"error"}return/[\'\"]/.test(n)?(t.tokenize=i(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(e){var t=function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=n;break}return"string"};return t.isInAttribute=!0,t}function o(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function a(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function s(e,t,r){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=r,(w.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function l(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName.toLowerCase(),!w.contextGrabbers.hasOwnProperty(r)||!w.contextGrabbers[r].hasOwnProperty(t))return;l(e)}}function u(e,t,r){if("openTag"==e)return r.tagName=k,r.tagStart=t.column(),h;if("closeTag"==e){var n=!1;return r.context?r.context.tagName!=k&&(w.implicitlyClosed.hasOwnProperty(r.context.tagName.toLowerCase())&&l(r),n=!r.context||r.context.tagName!=k):n=!0,n&&(C="error"),n?d:f}return u}function f(e,t,r){return"endTag"!=e?(C="error",f):(l(r),u)}function d(e,t,r){return C="error",f(e,t,r)}function h(e,t,r){if("word"==e)return C="attribute",p;if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,i=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==e||w.autoSelfClosers.hasOwnProperty(n.toLowerCase())?c(r,n.toLowerCase()):(c(r,n.toLowerCase()),r.context=new s(r,n,i==r.indented)),u}return C="error",h}function p(e,t,r){return"equals"==e?m:(w.allowMissing||(C="error"),h(e,t,r))}function m(e,t,r){return"string"==e?g:"word"==e&&w.allowUnquoted?(C="string",h):(C="error",h(e,t,r))}function g(e,t,r){return"string"==e?g:h(e,t,r)}var v=e.indentUnit,y=t.multilineTagIndentFactor||1,b=t.multilineTagIndentPastTag;null==b&&(b=!0);var k,x,C,w=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},_=t.alignCDATA;return{startState:function(){return{tokenize:r,state:u,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;k=x=null;var r=t.tokenize(e,t);return(r||x)&&"comment"!=r&&(C=null,t.state=t.state(x||r,e,t),C&&(r="error"==C?r+" error":C)),r},indent:function(e,t,i){var o=e.context;if(e.tokenize.isInAttribute)return e.stringStartCol+1;if(o&&o.noIndent)return CodeMirror.Pass;if(e.tokenize!=n&&e.tokenize!=r)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return b?e.tagStart+e.tagName.length+2:e.tagStart+v*y;if(_&&/<!\[CDATA\[/.test(t))return 0;for(o&&/^<\//.test(t)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+v:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("markdown",function(e,t){function r(e,t,r){return t.f=t.inline=r,r(e,t)}function n(e,t,r){return t.f=t.block=r,r(e,t)}function i(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.quote=0,y||e.f!=a||(e.f=u,e.block=o),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function o(e,i){var o=e.sol(),a=i.list!==!1;i.list!==!1&&i.indentationDiff>=0?(4>i.indentationDiff&&(i.indentation-=i.indentationDiff),i.list=null):i.list!==!1&&i.indentation>0?(i.list=null,i.listDepth=Math.floor(i.indentation/4)):i.list!==!1&&(i.list=!1,i.listDepth=0);var c=null;if(i.indentationDiff>=4)return i.indentation-=4,e.skipToEnd(),_;if(e.eatSpace())return null;if(c=e.match(B))return i.header=6>=c[0].length?c[0].length:6,t.highlightFormatting&&(i.formatting="header"),i.f=i.inline,l(i);if(i.prevLineHasContent&&(c=e.match(q)))return i.header="="==c[0].charAt(0)?1:2,t.highlightFormatting&&(i.formatting="header"),i.f=i.inline,l(i);if(e.eat(">"))return i.indentation++,i.quote=o?1:i.quote+1,t.highlightFormatting&&(i.formatting="quote"),e.eatSpace(),l(i);if("["===e.peek())return r(e,i,p);if(e.match(z,!0))return A;if((!i.prevLineHasContent||a)&&(e.match(W,!1)||e.match(F,!1))){var u=null;return e.match(W,!0)?u="ul":(e.match(F,!0),u="ol"),i.indentation+=4,i.list=!0,i.listDepth++,t.taskLists&&e.match($,!1)&&(i.taskList=!0),i.f=i.inline,t.highlightFormatting&&(i.formatting=["list","list-"+u]),l(i)}return t.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0)?(i.localMode=x(RegExp.$1),i.localMode&&(i.localState=i.localMode.startState()),n(e,i,s),t.highlightFormatting&&(i.formatting="code-block"),i.code=!0,l(i)):r(e,i,i.inline)}function a(e,t){var r=b.token(e,t.htmlState);return(y&&!t.htmlState.tagName&&!t.htmlState.context||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=u,t.block=o,t.htmlState=null),r}function s(e,r){if(e.sol()&&e.match(/^```/,!0)){r.localMode=r.localState=null,r.f=u,r.block=o,t.highlightFormatting&&(r.formatting="code-block"),r.code=!0;var n=l(r);return r.code=!1,n}return r.localMode?r.localMode.token(e,r.localState):(e.skipToEnd(),_)}function l(e){var r=[];if(e.formatting){r.push(I),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;e.formatting.length>n;n++)r.push(I+"-"+e.formatting[n]),"header"===e.formatting[n]&&r.push(I+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?r.push(I+"-"+e.formatting[n]+"-"+e.quote):r.push("error"))}if(e.taskOpen)return r.push("meta"),r.length?r.join(" "):null;if(e.taskClosed)return r.push("property"),r.length?r.join(" "):null;if(e.linkHref)return r.push(P),r.length?r.join(" "):null;if(e.strong&&r.push(H),e.em&&r.push(D),e.linkText&&r.push(R),e.code&&r.push(_),e.header&&(r.push(w),r.push(w+"-"+e.header)),e.quote&&(r.push(M),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?r.push(M+"-"+e.quote):r.push(M+"-"+t.maxBlockquoteDepth)),e.list!==!1){var i=(e.listDepth-1)%3;i?1===i?r.push(L):r.push(T):r.push(S)}return e.trailingSpaceNewLine?r.push("trailing-space-new-line"):e.trailingSpace&&r.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),r.length?r.join(" "):null}function c(e,t){return e.match(K,!0)?l(t):void 0}function u(e,r){var i=r.text(e,r);if(i!==void 0)return i;if(r.list)return r.list=null,l(r);if(r.taskList){var o="x"!==e.match($,!0)[1];return o?r.taskOpen=!0:r.taskClosed=!0,t.highlightFormatting&&(r.formatting="task"),r.taskList=!1,l(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&e.match(/^#+$/,!0))return t.highlightFormatting&&(r.formatting="header"),l(r);var s=e.sol(),c=e.next();if(r.escape)return r.escape=!1,l(r);if("\\"===c)return t.highlightFormatting&&(r.formatting="escape"),r.escape=!0,l(r);if(r.linkTitle){r.linkTitle=!1;var u=c;"("===c&&(u=")"),u=(u+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var h="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(e.match(RegExp(h),!0))return P}if("`"===c){var p=r.formatting;t.highlightFormatting&&(r.formatting="code");var m=l(r),g=e.pos;e.eatWhile("`");var v=1+e.pos-g;return r.code?v===C?(r.code=!1,m):(r.formatting=p,l(r)):(C=v,r.code=!0,l(r))}if(r.code)return l(r);if("!"===c&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),r.inline=r.f=d,E;if("["===c&&e.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,t.highlightFormatting&&(r.formatting="link"),l(r);if("]"===c&&r.linkText){t.highlightFormatting&&(r.formatting="link");var y=l(r);return r.linkText=!1,r.inline=r.f=d,y}if("<"===c&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=f,t.highlightFormatting&&(r.formatting="link");var y=l(r);return y?y+=" ":y="",y+O}if("<"===c&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=f,t.highlightFormatting&&(r.formatting="link");var y=l(r);return y?y+=" ":y="",y+N}if("<"===c&&e.match(/^\w/,!1)){if(-1!=e.string.indexOf(">")){var k=e.string.substring(1,e.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k)&&(r.md_inside=!0)}return e.backUp(1),r.htmlState=CodeMirror.startState(b),n(e,r,a)}if("<"===c&&e.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var x=!1;if(!t.underscoresBreakWords&&"_"===c&&"_"!==e.peek()&&e.match(/(\w)/,!1)){var w=e.pos-2;if(w>=0){var _=e.string.charAt(w);"_"!==_&&_.match(/(\w)/,!1)&&(x=!0)}}if("*"===c||"_"===c&&!x)if(s&&" "===e.peek());else{if(r.strong===c&&e.eat(c)){t.highlightFormatting&&(r.formatting="strong");var m=l(r);return r.strong=!1,m}if(!r.strong&&e.eat(c))return r.strong=c,t.highlightFormatting&&(r.formatting="strong"),l(r);if(r.em===c){t.highlightFormatting&&(r.formatting="em");var m=l(r);return r.em=!1,m}if(!r.em)return r.em=c,t.highlightFormatting&&(r.formatting="em"),l(r)}else if(" "===c&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return l(r);e.backUp(1)}return" "===c&&(e.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),l(r)}function f(e,r){var n=e.next();if(">"===n){r.f=r.inline=u,t.highlightFormatting&&(r.formatting="link");var i=l(r);return i?i+=" ":i="",i+O}return e.match(/^[^>]+/,!0),O}function d(e,r){if(e.eatSpace())return null;var n=e.next();return"("===n||"["===n?(r.f=r.inline=h("("===n?")":"]"),t.highlightFormatting&&(r.formatting="link-string"),r.linkHref=!0,l(r)):"error"}function h(e){return function(r,n){var i=r.next();if(i===e){n.f=n.inline=u,t.highlightFormatting&&(n.formatting="link-string");var o=l(n);return n.linkHref=!1,o}return r.match(v(e),!0)&&r.backUp(1),n.linkHref=!0,l(n)}}function p(e,n){return e.match(/^[^\]]*\]:/,!1)?(n.f=m,e.next(),t.highlightFormatting&&(n.formatting="link"),n.linkText=!0,l(n)):r(e,n,u)}function m(e,r){if(e.match(/^\]:/,!0)){r.f=r.inline=g,t.highlightFormatting&&(r.formatting="link");var n=l(r);return r.linkText=!1,n}return e.match(/^[^\]]+/,!0),R}function g(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=u,P)}function v(e){return j[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),j[e]=RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),j[e]}var y=CodeMirror.modes.hasOwnProperty("xml"),b=CodeMirror.getMode(e,y?{name:"xml",htmlMode:!0}:"text/plain"),k={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},x=function(){var t,r,n={},i={},o=[];for(var a in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(a)&&o.push(a);for(t=0;o.length>t;t++)n[o[t]]=o[t];var s=[];for(var a in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(a)&&s.push({mime:a,mode:CodeMirror.mimeModes[a]});for(t=0;s.length>t;t++)r=s[t].mime,i[r]=s[t].mime;for(var l in k)(k[l]in n||k[l]in i)&&(n[l]=k[l]);return function(t){return n[t]?CodeMirror.getMode(e,n[t]):null}}();void 0===t.highlightFormatting&&(t.highlightFormatting=!1),void 0===t.maxBlockquoteDepth&&(t.maxBlockquoteDepth=0),void 0===t.underscoresBreakWords&&(t.underscoresBreakWords=!0),void 0===t.fencedCodeBlocks&&(t.fencedCodeBlocks=!1),void 0===t.taskLists&&(t.taskLists=!1);var C=0,w="header",_="comment",M="quote",S="variable-2",L="variable-3",T="keyword",A="hr",E="tag",I="formatting",O="link",N="link",R="link",P="string",D="em",H="strong",z=/^([*\-=_])(?:\s*\1){2,}\s*$/,W=/^[*\-+]\s+/,F=/^[0-9]+\.\s+/,$=/^\[(x| )\](?=\s)/,B=/^#+/,q=/^(?:\={1,}|-{1,})$/,K=/^[^#!\[\]*_\\<>` "'(]+/,j=[],U={startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:null,indentation:0,inline:u,text:c,escape:!1,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(e){return{f:e.f,prevLineHasContent:e.prevLineHasContent,thisLineHasContent:e.thisLineHasContent,block:e.block,htmlState:e.htmlState&&CodeMirror.copyState(b,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?CodeMirror.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,escape:!1,formatting:!1,linkTitle:e.linkTitle,em:e.em,strong:e.strong,header:e.header,taskList:e.taskList,list:e.list,listDepth:e.listDepth,quote:e.quote,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside}},token:function(e,t){if(t.formatting=!1,e.sol()){var r=e.match(/^\s*$/,!0)||t.header;if(t.header=0,r)return t.prevLineHasContent=!1,i(t);t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.escape=!1,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,o=4*Math.floor((n-t.indentation)/4);o>4&&(o=4);var a=t.indentation+o;if(t.indentationDiff=a-t.indentation,t.indentation=a,n>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==a?{state:e.htmlState,mode:b}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:U}},blankLine:i,getType:l,fold:"markdown"};return U},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.defineMode("gfm",function(e,t){function r(e){return e.code=!1,null}var n=0,i={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(t.codeBlock)return e.match(/^```/)?(t.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```/))return e.skipToEnd(),t.codeBlock=!0,null;if("`"===e.peek()){e.next();var r=e.pos;e.eatWhile("`");var i=1+e.pos-r;return t.code?i===n&&(t.code=!1):(n=i,t.code=!0),null}if(t.code)return e.next(),null;if(e.eatSpace())return t.ateSpace=!0,null;if(e.sol()||t.ateSpace){if(t.ateSpace=!1,e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return"link"}return e.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i)&&"]("!=e.string.slice(e.start-2,e.start)?"link":(e.next(),null)},blankLine:r},o={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0};for(var a in t)o[a]=t[a];return o.name="markdown",CodeMirror.defineMIME("gfmBase",o),CodeMirror.overlayMode(CodeMirror.getMode(e,"gfmBase"),i)},"markdown"),CodeMirror.defineMode("ruby",function(e){function t(e){for(var t={},r=0,n=e.length;n>r;++r)t[e[r]]=!0;return t}function r(e,t,r){return r.tokenize.push(e),e(t,r)}function n(e,t){if(c=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(l),"comment";if(e.eatSpace())return null;var n,i=e.next();if("`"==i||"'"==i||'"'==i)return r(a(i,"string",'"'==i||"`"==i),e,t);if("/"!=i||e.eol()||" "==e.peek()){if("%"==i){var o="string",u=!0;e.eat("s")?o="atom":e.eat(/[WQ]/)?o="string":e.eat(/[r]/)?o="string-2":e.eat(/[wxq]/)&&(o="string",u=!1);var f=e.eat(/[^\w\s]/);return f?(h.propertyIsEnumerable(f)&&(f=h[f]),r(a(f,o,u,!0),e,t)):"operator"}if("#"==i)return e.skipToEnd(),"comment";if("<"==i&&(n=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return r(s(n[1]),e,t);if("0"==i)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(i))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==i){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"==i?e.eat("'")?r(a("'","atom",!1),e,t):e.eat('"')?r(a('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_]/)?(e.eatWhile(/[\w]/),e.eat(/[\?\!\=]/),"atom"):"operator":"@"==i&&e.match(/^@?[a-zA-Z_]/)?(e.eat("@"),e.eatWhile(/[\w]/),"variable-2"):"$"==i?(e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3"):/[a-zA-Z_]/.test(i)?(e.eatWhile(/[\w]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident"):"|"!=i||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok?/[\(\)\[\]{}\\;]/.test(i)?(c=i,null):"-"==i&&e.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(i)?(e.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(c="|",null)}return e.eat("=")?"operator":r(a(i,"string-2",!0),e,t)}function i(){var e=1;return function(t,r){if("}"==t.peek()){if(e--,0==e)return r.tokenize.pop(),r.tokenize[r.tokenize.length-1](t,r)}else"{"==t.peek()&&e++;return n(t,r)}}function o(){var e=!1;return function(t,r){return e?(r.tokenize.pop(),r.tokenize[r.tokenize.length-1](t,r)):(e=!0,n(t,r))}}function a(e,t,r,n){return function(a,s){var l,c=!1;for("read-quoted-paused"===s.context.type&&(s.context=s.context.prev,a.eat("}"));null!=(l=a.next());){if(l==e&&(n||!c)){s.tokenize.pop();break}if(r&&"#"==l&&!c){if(a.eat("{")){"}"==e&&(s.context={prev:s.context,type:"read-quoted-paused"}),s.tokenize.push(i());break}if(/[@\$]/.test(a.peek())){s.tokenize.push(o());break}}c=!c&&"\\"==l}return t}}function s(e){return function(t,r){return t.match(e)?r.tokenize.pop():t.skipToEnd(),"string"}}function l(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var c,u=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),f=t(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),d=t(["end","until"]),h={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[n],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var r,n=t.tokenize[t.tokenize.length-1](e,t);if("ident"==n){var i=e.current();n=u.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(i)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable",f.propertyIsEnumerable(i)?r="indent":d.propertyIsEnumerable(i)?r="dedent":"if"!=i&&"unless"!=i||e.column()!=e.indentation()?"do"==i&&t.context.indented<t.indented&&(r="indent"):r="indent"}return(c||n&&"comment"!=n)&&(t.lastTok=i||c||n),"|"==c&&(t.varList=!t.varList),"indent"==r||/[\(\[\{]/.test(c)?t.context={prev:t.context,type:c||n,indented:t.indented}:("dedent"==r||/[\)\]\}]/.test(c))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==c||"operator"==n),n},indent:function(t,r){if(t.tokenize[t.tokenize.length-1]!=n)return 0;var i=r&&r.charAt(0),o=t.context,a=o.type==h[i]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(r);return o.indented+(a?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),CodeMirror.defineMIME("text/x-ruby","ruby"),CodeMirror.defineMode("python",function(e,t){function r(e){return RegExp("^(("+e.join(")|(")+"))\\b")}function n(e,t){if(e.sol()){var r=t.scopes[0].offset;if(e.eatSpace()){var n=e.indentation();return n>r?_="indent":r>n&&(_="dedent"),null}r>0&&a(e,t)}if(e.eatSpace())return null;var o=e.peek();if("#"===o)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var s=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(s=!0),e.match(/^\d+\.\d*/)&&(s=!0),e.match(/^\.\d+/)&&(s=!0),s)return e.eat(/J/i),"number";var m=!1;if(e.match(/^0x[0-9a-f]+/i)&&(m=!0),e.match(/^0b[01]+/i)&&(m=!0),e.match(/^0o[0-7]+/i)&&(m=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),m=!0),e.match(/^0(?![\dx])/i)&&(m=!0),m)return e.eat(/L/i),"number"}return e.match(x)?(t.tokenize=i(e.current()),t.tokenize(e,t)):e.match(h)||e.match(d)?null:e.match(f)||e.match(c)||e.match(g)?"operator":e.match(u)?null:e.match(C)?"keyword":e.match(w)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(p)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),l)}function i(e){function r(r,a){for(;!r.eol();)if(r.eatWhile(/[^'"\\]/),r.eat("\\")){if(r.next(),i&&r.eol())return o}else{if(r.match(e))return a.tokenize=n,o;r.eat(/['"]/)}if(i){if(t.singleLineStringErrors)return l;a.tokenize=n}return o}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var i=1==e.length,o="string";return r.isString=!0,r}function o(t,r,n){n=n||"py";var i=0;if("py"===n){if("py"!==r.scopes[0].type)return r.scopes[0].offset=t.indentation(),void 0;for(var o=0;r.scopes.length>o;++o)if("py"===r.scopes[o].type){i=r.scopes[o].offset+e.indentUnit;break}}else i=t.match(/\s*($|#)/,!1)?t.indentation()+m:t.column()+t.current().length;r.scopes.unshift({offset:i,type:n})}function a(e,t,r){if(r=r||"py",1!=t.scopes.length){if("py"===t.scopes[0].type){for(var n=e.indentation(),i=-1,o=0;t.scopes.length>o;++o)if(n===t.scopes[o].offset){i=o;break}if(-1===i)return!0;for(;t.scopes[0].offset!==n;)t.scopes.shift();return!1}return"py"===r?(t.scopes[0].offset=e.indentation(),!1):t.scopes[0].type!=r?!0:(t.scopes.shift(),!1)}}function s(e,t){_=null;var r=t.tokenize(e,t),n=e.current();if("."===n)return r=e.match(p,!1)?null:l,null===r&&"meta"===t.lastStyle&&(r="meta"),r;if("@"===n)return e.match(p,!1)?"meta":l;"variable"!==r&&"builtin"!==r||"meta"!==t.lastStyle||(r="meta"),("pass"===n||"return"===n)&&(t.dedent+=1),"lambda"===n&&(t.lambda=!0),(":"===n&&!t.lambda&&"py"==t.scopes[0].type||"indent"===_)&&o(e,t);var i="[({".indexOf(n);return-1!==i&&o(e,t,"])}".slice(i,i+1)),"dedent"===_&&a(e,t)?l:(i="])}".indexOf(n),-1!==i&&a(e,t,n)?l:(t.dedent>0&&e.eol()&&"py"==t.scopes[0].type&&(t.scopes.length>1&&t.scopes.shift(),t.dedent-=1),r))}var l="error",c=t.singleOperators||RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),u=t.singleDelimiters||RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),f=t.doubleOperators||RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),d=t.doubleDelimiters||RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),h=t.tripleDelimiters||RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),p=t.identifiers||RegExp("^[_A-Za-z][_A-Za-z0-9]*"),m=t.hangingIndent||t.indentUnit,g=r(["and","or","not","is","in"]),v=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],y=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],b={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},k={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};if(void 0!=t.extra_keywords&&(v=v.concat(t.extra_keywords)),void 0!=t.extra_builtins&&(y=y.concat(t.extra_builtins)),t.version&&3===parseInt(t.version,10)){v=v.concat(k.keywords),y=y.concat(k.builtins);var x=RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{v=v.concat(b.keywords),y=y.concat(b.builtins);var x=RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var C=r(v),w=r(y),_=null,M={startState:function(e){return{tokenize:n,scopes:[{offset:e||0,type:"py"}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var r=s(e,t);t.lastStyle=r;var n=e.current();return n&&r&&(t.lastToken=n),e.eol()&&t.lambda&&(t.lambda=!1),r},indent:function(e){return e.tokenize!=n?e.tokenize.isString?CodeMirror.Pass:0:e.scopes[0].offset},lineComment:"#",fold:"indent"};
return M}),CodeMirror.defineMIME("text/x-python","python"),function(){"use strict";var e=function(e){return e.split(" ")};CodeMirror.defineMIME("text/x-cython",{name:"python",extra_keywords:e("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}(),CodeMirror.defineMode("javascript",function(e,t){function r(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function n(e,t,r){return dt=e,ht=r,t}function i(e,t){var i=e.next();if('"'==i||"'"==i)return t.tokenize=o(i),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return n("number","number");if("."==i&&e.match(".."))return n("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return n(i);if("="==i&&e.eat(">"))return n("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),n("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),n("number","number");if("/"==i)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),n("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.eatWhile(/[gimy]/),n("regexp","string-2")):(e.eatWhile(kt),n("operator","operator",e.current()));if("`"==i)return t.tokenize=s,s(e,t);if("#"==i)return e.skipToEnd(),n("error","error");if(kt.test(i))return e.eatWhile(kt),n("operator","operator",e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),c=bt.propertyIsEnumerable(l)&&bt[l];return c&&"."!=t.lastType?n(c.type,c.style,l):n("variable","variable",l)}function o(e){return function(t,r){var o,a=!1;if(gt&&"@"==t.peek()&&t.match(xt))return r.tokenize=i,n("jsonld-keyword","meta");for(;null!=(o=t.next())&&(o!=e||a);)a=!a&&"\\"==o;return a||(r.tokenize=i),n("string","string")}}function a(e,t){for(var r,o=!1;r=e.next();){if("/"==r&&o){t.tokenize=i;break}o="*"==r}return n("comment","comment")}function s(e,t){for(var r,o=!1;null!=(r=e.next());){if(!o&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=i;break}o=!o&&"\\"==r}return n("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,o=r-1;o>=0;--o){var a=e.string.charAt(o),s=Ct.indexOf(a);if(s>=0&&3>s){if(!n){++o;break}if(0==--n)break}else if(s>=3&&6>s)++n;else if(/[$\w]/.test(a))i=!0;else if(i&&!n){++o;break}}i&&!n&&(t.fatArrowAt=o)}}function c(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function u(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function f(e,t,r,n,i){var o=e.cc;for(_t.state=e,_t.stream=i,_t.marked=null,_t.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():vt?x:k;if(a(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return _t.marked?_t.marked:"variable"==r&&u(e,n)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)_t.cc.push(arguments[e])}function h(){return d.apply(null,arguments),!0}function p(e){function r(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=_t.state;if(n.context){if(_t.marked="def",r(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(r(n.globalVars))return;t.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function m(){_t.state.context={prev:_t.state.context,vars:_t.state.localVars},_t.state.localVars=Mt}function g(){_t.state.localVars=_t.state.context.vars,_t.state.context=_t.state.context.prev}function v(e,t){var r=function(){var r=_t.state,n=r.indented;"stat"==r.lexical.type&&(n=r.lexical.indented),r.lexical=new c(n,_t.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function y(){var e=_t.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){return function(t){return t==e?h():";"==e?d():h(arguments.callee)}}function k(e,t){return"var"==e?h(v("vardef",t.length),B,b(";"),y):"keyword a"==e?h(v("form"),x,k,y):"keyword b"==e?h(v("form"),k,y):"{"==e?h(v("}"),W,y):";"==e?h():"if"==e?h(v("form"),x,k,y,V):"function"==e?h(Q):"for"==e?h(v("form"),G,k,y):"variable"==e?h(v("stat"),O):"switch"==e?h(v("form"),x,v("}","switch"),b("{"),W,y,y):"case"==e?h(x,b(":")):"default"==e?h(b(":")):"catch"==e?h(v("form"),m,b("("),et,b(")"),k,y,g):"module"==e?h(v("form"),m,it,g,y):"class"==e?h(v("form"),tt,nt,y):"export"==e?h(v("form"),ot,y):"import"==e?h(v("form"),at,y):d(v("stat"),x,b(";"),y)}function x(e){return w(e,!1)}function C(e){return w(e,!0)}function w(e,t){if(_t.state.fatArrowAt==_t.stream.start){var r=t?I:E;if("("==e)return h(m,v(")"),H(q,")"),y,b("=>"),r,g);if("variable"==e)return d(m,q,b("=>"),r,g)}var n=t?L:S;return wt.hasOwnProperty(e)?h(n):"function"==e?h(Q):"keyword c"==e?h(t?M:_):"("==e?h(v(")"),_,ft,b(")"),y,n):"operator"==e||"spread"==e?h(t?C:x):"["==e?h(v("]"),ct,y,n):"{"==e?z(R,"}",null,n):h()}function _(e){return e.match(/[;\}\)\],]/)?d():d(x)}function M(e){return e.match(/[;\}\)\],]/)?d():d(C)}function S(e,t){return","==e?h(x):L(e,t,!1)}function L(e,t,r){var n=0==r?S:L,i=0==r?x:C;return"=>"==t?h(m,r?I:E,g):"operator"==e?/\+\+|--/.test(t)?h(n):"?"==t?h(x,b(":"),i):h(i):"quasi"==e?(_t.cc.push(n),T(t)):";"!=e?"("==e?z(C,")","call",n):"."==e?h(N,n):"["==e?h(v("]"),_,b("]"),y,n):void 0:void 0}function T(e){return"${"!=e.slice(e.length-2)?h():h(x,A)}function A(e){return"}"==e?(_t.marked="string-2",_t.state.tokenize=s,h()):void 0}function E(e){return l(_t.stream,_t.state),"{"==e?d(k):d(x)}function I(e){return l(_t.stream,_t.state),"{"==e?d(k):d(C)}function O(e){return":"==e?h(y,k):d(S,b(";"),y)}function N(e){return"variable"==e?(_t.marked="property",h()):void 0}function R(e,t){if("variable"==e){if(_t.marked="property","get"==t||"set"==t)return h(P)}else if("number"==e||"string"==e)_t.marked=gt?"property":e+" property";else if("["==e)return h(x,b("]"),D);return wt.hasOwnProperty(e)?h(D):void 0}function P(e){return"variable"!=e?d(D):(_t.marked="property",h(Q))}function D(e){return":"==e?h(C):"("==e?d(Q):void 0}function H(e,t){function r(n){if(","==n){var i=_t.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),h(e,r)}return n==t?h():h(b(t))}return function(n){return n==t?h():d(e,r)}}function z(e,t,r){for(var n=3;arguments.length>n;n++)_t.cc.push(arguments[n]);return h(v(t,r),H(e,t),y)}function W(e){return"}"==e?h():d(k,W)}function F(e){return yt&&":"==e?h($):void 0}function $(e){return"variable"==e?(_t.marked="variable-3",h()):void 0}function B(){return d(q,F,j,U)}function q(e,t){return"variable"==e?(p(t),h()):"["==e?z(q,"]"):"{"==e?z(K,"}"):void 0}function K(e,t){return"variable"!=e||_t.stream.match(/^\s*:/,!1)?("variable"==e&&(_t.marked="property"),h(b(":"),q,j)):(p(t),h(j))}function j(e,t){return"="==t?h(C):void 0}function U(e){return","==e?h(B):void 0}function V(e,t){return"keyword b"==e&&"else"==t?h(v("form"),k,y):void 0}function G(e){return"("==e?h(v(")"),X,b(")"),y):void 0}function X(e){return"var"==e?h(B,b(";"),J):";"==e?h(J):"variable"==e?h(Y):d(x,b(";"),J)}function Y(e,t){return"in"==t||"of"==t?(_t.marked="keyword",h(x)):h(S,J)}function J(e,t){return";"==e?h(Z):"in"==t||"of"==t?(_t.marked="keyword",h(x)):d(x,b(";"),Z)}function Z(e){")"!=e&&h(x)}function Q(e,t){return"*"==t?(_t.marked="keyword",h(Q)):"variable"==e?(p(t),h(Q)):"("==e?h(m,v(")"),H(et,")"),y,k,g):void 0}function et(e){return"spread"==e?h(et):d(q,F)}function tt(e,t){return"variable"==e?(p(t),h(rt)):void 0}function rt(e,t){return"extends"==t?h(x):void 0}function nt(e){return"{"==e?z(R,"}"):void 0}function it(e,t){return"string"==e?h(k):"variable"==e?(p(t),h(lt)):void 0}function ot(e,t){return"*"==t?(_t.marked="keyword",h(lt,b(";"))):"default"==t?(_t.marked="keyword",h(x,b(";"))):d(k)}function at(e){return"string"==e?h():d(st,lt)}function st(e,t){return"{"==e?z(st,"}"):("variable"==e&&p(t),h())}function lt(e,t){return"from"==t?(_t.marked="keyword",h(x)):void 0}function ct(e){return"]"==e?h():d(C,ut)}function ut(e){return"for"==e?d(ft,b("]")):","==e?h(H(C,"]")):d(H(C,"]"))}function ft(e){return"for"==e?h(G,ft):"if"==e?h(x,ft):void 0}var dt,ht,pt=e.indentUnit,mt=t.statementIndent,gt=t.jsonld,vt=t.json||gt,yt=t.typescript,bt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),yield:n,"export":e("export"),"import":e("import"),"extends":n};if(yt){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var c in l)a[c]=l[c]}return a}(),kt=/[+\-*&%=<>!?|~^]/,xt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ct="([{}])",wt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},_t={state:null,column:null,marked:null,cc:null},Mt={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){var r={tokenize:i,lastType:"sof",cc:[],lexical:new c((e||0)-pt,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0};return t.globalVars&&(r.globalVars=t.globalVars),r},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=a&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==dt?r:(t.lastType="operator"!=dt||"++"!=ht&&"--"!=ht?dt:"incdec",f(t,r,dt,ht,e))},indent:function(e,r){if(e.tokenize==a)return CodeMirror.Pass;if(e.tokenize!=i)return 0;for(var n=r&&r.charAt(0),o=e.lexical,s=e.cc.length-1;s>=0;--s){var l=e.cc[s];if(l==y)o=o.prev;else if(l!=V)break}"stat"==o.type&&"}"==n&&(o=o.prev),mt&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,u=n==c;return"vardef"==c?o.indented+("operator"==e.lastType||","==e.lastType?o.info+1:0):"form"==c&&"{"==n?o.indented:"form"==c?o.indented+pt:"stat"==c?o.indented+("operator"==e.lastType||","==e.lastType?mt||pt:0):"switch"!=o.info||u||0==t.doubleIndentSwitch?o.align?o.column+(u?0:1):o.indented+(u?0:pt):o.indented+(/^(?:case|default)\b/.test(r)?pt:2*pt)},electricChars:":{}",blockCommentStart:vt?null:"/*",blockCommentEnd:vt?null:"*/",lineComment:vt?null:"//",fold:"brace",helperType:vt?"json":"javascript",jsonldMode:gt,jsonMode:vt}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("clike",function(e,t){function r(e,t){var r=e.next();if(g[r]){var o=g[r](e,t);if(o!==!1)return o}if('"'==r||"'"==r)return t.tokenize=n(r),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(r))return l=r,null;if(/\d/.test(r))return e.eatWhile(/[\w\.]/),"number";if("/"==r){if(e.eat("*"))return t.tokenize=i,i(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(y.test(r))return e.eatWhile(y),"operator";e.eatWhile(/[\w\$_]/);var a=e.current();return d.propertyIsEnumerable(a)?(p.propertyIsEnumerable(a)&&(l="newstatement"),"keyword"):h.propertyIsEnumerable(a)?(p.propertyIsEnumerable(a)&&(l="newstatement"),"builtin"):m.propertyIsEnumerable(a)?"atom":"variable"}function n(e){return function(t,r){for(var n,i=!1,o=!1;null!=(n=t.next());){if(n==e&&!i){o=!0;break}i=!i&&"\\"==n}return(o||!i&&!v)&&(r.tokenize=null),"string"}}function i(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=null;break}n="*"==r}return"comment"}function o(e,t,r,n,i){this.indented=e,this.column=t,this.type=r,this.align=n,this.prev=i}function a(e,t,r){var n=e.indented;return e.context&&"statement"==e.context.type&&(n=e.context.indented),e.context=new o(n,t,r,null,e.context)}function s(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var l,c=e.indentUnit,u=t.statementIndentUnit||c,f=t.dontAlignCalls,d=t.keywords||{},h=t.builtin||{},p=t.blockKeywords||{},m=t.atoms||{},g=t.hooks||{},v=t.multiLineStrings,y=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new o((e||0)-c,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;l=null;var i=(t.tokenize||r)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),";"!=l&&":"!=l&&","!=l||"statement"!=n.type)if("{"==l)a(t,e.column(),"}");else if("["==l)a(t,e.column(),"]");else if("("==l)a(t,e.column(),")");else if("}"==l){for(;"statement"==n.type;)n=s(t);for("}"==n.type&&(n=s(t));"statement"==n.type;)n=s(t)}else l==n.type?s(t):(("}"==n.type||"top"==n.type)&&";"!=l||"statement"==n.type&&"newstatement"==l)&&a(t,e.column(),"statement");else s(t);return t.startOfLine=!1,i},indent:function(e,t){if(e.tokenize!=r&&null!=e.tokenize)return CodeMirror.Pass;var n=e.context,i=t&&t.charAt(0);"statement"==n.type&&"}"==i&&(n=n.prev);var o=i==n.type;return"statement"==n.type?n.indented+("{"==i?0:u):!n.align||f&&")"==n.type?")"!=n.type||o?n.indented+(o?0:c):n.indented+u:n.column+(o?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),function(){function e(e){for(var t={},r=e.split(" "),n=0;r.length>n;++n)t[r[n]]=!0;return t}function t(e,r){if(!r.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),r.tokenize=null;break}if(e.next(),e.eol()){r.tokenize=t;break}}return"meta"}function r(e,t){for(var r;null!=(r=e.next());)if('"'==r&&!e.eat('"')){t.tokenize=null;break}return"string"}function n(e,t){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&n.push(t)}var n=[];r(t.keywords),r(t.builtin),r(t.atoms),n.length&&(t.helperType=e[0],CodeMirror.registerHelper("hintWords",e[0],n));for(var i=0;e.length>i;++i)CodeMirror.defineMIME(e[i],t)}var i="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";n(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(i),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":t},modeProps:{fold:["brace","include"]}}),n(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(i+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":t},modeProps:{fold:["brace","include"]}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:e("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),builtin:e("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=r,r(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:e("catch class do else finally for forSome if match switch try while"),atoms:e("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}}),n(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:e("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:e("for while do if else struct"),builtin:e("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:e("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":t},modeProps:{fold:["brace","include"]}})}(),CodeMirror.defineMode("css",function(e,t){"use strict";function r(e,t){return d=t,e}function n(e,t){var n=e.next();if(m[n]){var a=m[n](e,t);if(a!==!1)return a}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=i(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=o,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^[^-]+-/)?r("meta","meta"):void 0}function i(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function o(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\']/,!1)?null:i(")"),r(null,"(")}function a(e,t,r){this.type=e,this.indent=t,this.prev=r}function s(e,t,r){return e.context=new a(r,t.indentation()+p,e.context),r}function l(e){return e.context=e.context.prev,e.context.type}function c(e,t,r){return w[r.context.type](e,t,r)}function u(e,t,r,n){for(var i=n||1;i>0;i--)r.context=r.context.prev;return c(e,t,r)}function f(e){var t=e.current().toLowerCase();h=k.hasOwnProperty(t)?"atom":b.hasOwnProperty(t)?"keyword":"variable"}t.propertyKeywords||(t=CodeMirror.resolveMode("text/css"));var d,h,p=e.indentUnit,m=t.tokenHooks,g=t.mediaTypes||{},v=t.mediaFeatures||{},y=t.propertyKeywords||{},b=t.colorKeywords||{},k=t.valueKeywords||{},x=t.fontProperties||{},C=t.allowNested,w={};return w.top=function(e,t,r){if("{"==e)return s(r,t,"block");if("}"==e&&r.context.prev)return l(r);if("@media"==e)return s(r,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return s(r,t,"at");if("hash"==e)h="builtin";else if("word"==e)h="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return s(r,t,"interpolation");if(":"==e)return"pseudo";if(C&&"("==e)return s(r,t,"params")}return r.context.type},w.block=function(e,t,r){return"word"==e?y.hasOwnProperty(t.current().toLowerCase())?(h="property","maybeprop"):C?(h=t.match(/^\s*:/,!1)?"property":"tag","block"):(h+=" error","maybeprop"):"meta"==e?"block":C||"hash"!=e&&"qualifier"!=e?w.top(e,t,r):(h="error","block")},w.maybeprop=function(e,t,r){return":"==e?s(r,t,"prop"):c(e,t,r)},w.prop=function(e,t,r){if(";"==e)return l(r);if("{"==e&&C)return s(r,t,"propBlock");if("}"==e||"{"==e)return u(e,t,r);if("("==e)return s(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)f(t);else if("interpolation"==e)return s(r,t,"interpolation")}else h+=" error";return"prop"},w.propBlock=function(e,t,r){return"}"==e?l(r):"word"==e?(h="property","maybeprop"):r.context.type},w.parens=function(e,t,r){return"{"==e||"}"==e?u(e,t,r):")"==e?l(r):"parens"},w.pseudo=function(e,t,r){return"word"==e?(h="variable-3",r.context.type):c(e,t,r)},w.media=function(e,t,r){if("("==e)return s(r,t,"media_parens");if("}"==e)return u(e,t,r);if("{"==e)return l(r)&&s(r,t,C?"block":"top");if("word"==e){var n=t.current().toLowerCase();h="only"==n||"not"==n||"and"==n?"keyword":g.hasOwnProperty(n)?"attribute":v.hasOwnProperty(n)?"property":"error"}return r.context.type},w.media_parens=function(e,t,r){return")"==e?l(r):"{"==e||"}"==e?u(e,t,r,2):w.media(e,t,r)},w.font_face_before=function(e,t,r){return"{"==e?s(r,t,"font_face"):c(e,t,r)},w.font_face=function(e,t,r){return"}"==e?l(r):"word"==e?(h=x.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},w.keyframes=function(e,t,r){return"word"==e?(h="variable","keyframes"):"{"==e?s(r,t,"top"):c(e,t,r)},w.at=function(e,t,r){return";"==e?l(r):"{"==e||"}"==e?u(e,t,r):("word"==e?h="tag":"hash"==e&&(h="builtin"),"at")},w.interpolation=function(e,t,r){return"}"==e?l(r):"{"==e||";"==e?u(e,t,r):("variable"!=e&&(h="error"),"interpolation")},w.params=function(e,t,r){return")"==e?l(r):"{"==e||"}"==e?u(e,t,r):("word"==e&&f(t),"params")},{startState:function(e){return{tokenize:null,state:"top",context:new a("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var r=(t.tokenize||n)(e,t);return r&&"object"==typeof r&&(d=r[1],r=r[0]),h=r,t.state=w[t.state](d,e,t),h},indent:function(e,t){var r=e.context,n=t&&t.charAt(0),i=r.indent;return"prop"==r.type&&"}"==n&&(r=r.prev),!r.prev||("}"!=n||"block"!=r.type&&"top"!=r.type&&"interpolation"!=r.type&&"font_face"!=r.type)&&(")"!=n||"parens"!=r.type&&"params"!=r.type&&"media_parens"!=r.type)&&("{"!=n||"at"!=r.type&&"media"!=r.type)||(i=r.indent-p,r=r.prev),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}}),function(){function e(e){for(var t={},r=0;e.length>r;++r)t[e[r]]=!0;return t}function t(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}function r(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}var n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=e(n),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=e(o),s=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-inside","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","zoom","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-profile","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","writing-mode"],l=e(s),c=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],u=e(c),f=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],d=e(f),h=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],p=e(h),m=n.concat(o).concat(s).concat(c).concat(f);
CodeMirror.registerHelper("hintWords","css",m),CodeMirror.defineMIME("text/css",{mediaTypes:i,mediaFeatures:a,propertyKeywords:l,colorKeywords:u,valueKeywords:d,fontProperties:p,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=r,r(e,t)):!1},"/":function(e,r){return e.eat("*")?(r.tokenize=t,t(e,r)):!1}},name:"css"}),CodeMirror.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:a,propertyKeywords:l,colorKeywords:u,valueKeywords:d,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,r){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(r.tokenize=t,t(e,r)):["operator","operator"]},":":function(e){return e.match(/\s*{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),CodeMirror.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:a,propertyKeywords:l,colorKeywords:u,valueKeywords:d,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,r){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(r.tokenize=t,t(e,r)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}(),CodeMirror.defineMode("htmlmixed",function(e,t){function r(e,t){var r=t.htmlState.tagName,n=a.token(e,t.htmlState);if("script"==r&&/\btag\b/.test(n)&&">"==e.current()){var c=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);c=c?c[1]:"",c&&/[\"\']/.test(c.charAt(0))&&(c=c.slice(1,c.length-1));for(var u=0;l.length>u;++u){var f=l[u];if("string"==typeof f.matches?c==f.matches:f.matches.test(c)){f.mode&&(t.token=i,t.localMode=f.mode,t.localState=f.mode.startState&&f.mode.startState(a.indent(t.htmlState,"")));break}}}else"style"==r&&/\btag\b/.test(n)&&">"==e.current()&&(t.token=o,t.localMode=s,t.localState=s.startState(a.indent(t.htmlState,"")));return n}function n(e,t,r){var n,i=e.current(),o=i.search(t);return o>-1?e.backUp(i.length-o):(n=i.match(/<\/?$/))&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),r}function i(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):n(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function o(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):n(e,/<\/\s*style\s*>/,s.token(e,t.localState))}var a=CodeMirror.getMode(e,{name:"xml",htmlMode:!0,multilineTagIndentFactor:t.multilineTagIndentFactor,multilineTagIndentPastTag:t.multilineTagIndentPastTag}),s=CodeMirror.getMode(e,"css"),l=[],c=t&&t.scriptTypes;if(l.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:CodeMirror.getMode(e,"javascript")}),c)for(var u=0;c.length>u;++u){var f=c[u];l.push({matches:f.matches,mode:f.mode&&CodeMirror.getMode(e,f.mode)})}return l.push({matches:/./,mode:CodeMirror.getMode(e,"text/plain")}),{startState:function(){var e=a.startState();return{token:r,localMode:null,localState:null,htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.localMode,e.localState);return{token:e.token,localMode:e.localMode,localState:t,htmlState:CodeMirror.copyState(a,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return!e.localMode||/^\s*<\//.test(t)?a.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t):CodeMirror.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),function(){function e(e){for(var t={},r=e.split(" "),n=0;r.length>n;++n)t[r[n]]=!0;return t}function t(e){return function(t,r){return t.match(e)?r.tokenize=null:t.skipToEnd(),"string"}}var r={name:"clike",keywords:e("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally"),blockKeywords:e("catch do else elseif for foreach if switch try while finally"),atoms:e("true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__"),builtin:e("func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once"),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,r){return e.match(/<</)?(e.eatWhile(/[\w\.]/),r.tokenize=t(e.current().slice(3)),r.tokenize(e,r)):!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1}}};CodeMirror.defineMode("php",function(e,t){function n(e,t){var r=t.curMode==o;if(e.sol()&&t.pending&&'"'!=t.pending&&"'"!=t.pending&&(t.pending=null),r)return r&&null==t.php.tokenize&&e.match("?>")?(t.curMode=i,t.curState=t.html,"meta"):o.token(e,t.curState);if(e.match(/^<\?\w*/))return t.curMode=o,t.curState=t.php,"meta";if('"'==t.pending||"'"==t.pending){for(;!e.eol()&&e.next()!=t.pending;);var n="string"}else if(t.pending&&e.pos<t.pending.end){e.pos=t.pending.end;var n=t.pending.style}else var n=i.token(e,t.curState);t.pending&&(t.pending=null);var a,s=e.current(),l=s.search(/<\?/);return-1!=l&&(t.pending="string"==n&&(a=s.match(/[\'\"]$/))&&!/\?>/.test(s)?a[0]:{end:e.pos,style:n},e.backUp(s.length-l)),n}var i=CodeMirror.getMode(e,"text/html"),o=CodeMirror.getMode(e,r);return{startState:function(){var e=CodeMirror.startState(i),r=CodeMirror.startState(o);return{html:e,php:r,curMode:t.startOpen?o:i,curState:t.startOpen?r:e,pending:null}},copyState:function(e){var t,r=e.html,n=CodeMirror.copyState(i,r),a=e.php,s=CodeMirror.copyState(o,a);return t=e.curMode==i?n:s,{html:n,php:s,curMode:e.curMode,curState:t,pending:e.pending}},token:n,indent:function(e,t){return e.curMode!=o&&/^\s*<\//.test(t)||e.curMode==o&&/^\?>/.test(t)?i.indent(e.html,t):e.curMode.indent(e.curState,t)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed","clike"),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",r)}(),CodeMirror.defineMode("perl",function(){function e(e,t,n,i,o){return t.chain=null,t.style=null,t.tail=null,t.tokenize=function(e,t){for(var a,s=!1,l=0;a=e.next();){if(a===n[l]&&!s)return void 0!==n[++l]?(t.chain=n[l],t.style=i,t.tail=o):o&&e.eatWhile(o),t.tokenize=r,i;s=!s&&"\\"==a}return i},t.tokenize(e,t)}function t(e,t,n){return t.tokenize=function(e,t){return e.string==n&&(t.tokenize=r),e.skipToEnd(),"string"},t.tokenize(e,t)}function r(r,a){if(r.eatSpace())return null;if(a.chain)return e(r,a,a.chain,a.style,a.tail);if(r.match(/^\-?[\d\.]/,!1)&&r.match(/^(\-?(\d*\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F]+|0b[01]+|\d+(e[+-]?\d+)?)/))return"number";if(r.match(/^<<(?=\w)/))return r.eatWhile(/\w/),t(r,a,r.current().substr(2));if(r.sol()&&r.match(/^\=item(?!\w)/))return t(r,a,"=cut");var s=r.next();if('"'==s||"'"==s){if(r.prefix(3)=="<<"+s){var l=r.pos;r.eatWhile(/\w/);var c=r.current().substr(1);if(c&&r.eat(s))return t(r,a,c);r.pos=l}return e(r,a,[s],"string")}if("q"==s){var u=r.look(-2);if(!u||!/\w/.test(u))if(u=r.look(0),"x"==u){if(u=r.look(1),"("==u)return r.eatSuffix(2),e(r,a,[")"],i,o);if("["==u)return r.eatSuffix(2),e(r,a,["]"],i,o);if("{"==u)return r.eatSuffix(2),e(r,a,["}"],i,o);if("<"==u)return r.eatSuffix(2),e(r,a,[">"],i,o);if(/[\^'"!~\/]/.test(u))return r.eatSuffix(1),e(r,a,[r.eat(u)],i,o)}else if("q"==u){if(u=r.look(1),"("==u)return r.eatSuffix(2),e(r,a,[")"],"string");if("["==u)return r.eatSuffix(2),e(r,a,["]"],"string");if("{"==u)return r.eatSuffix(2),e(r,a,["}"],"string");if("<"==u)return r.eatSuffix(2),e(r,a,[">"],"string");if(/[\^'"!~\/]/.test(u))return r.eatSuffix(1),e(r,a,[r.eat(u)],"string")}else if("w"==u){if(u=r.look(1),"("==u)return r.eatSuffix(2),e(r,a,[")"],"bracket");if("["==u)return r.eatSuffix(2),e(r,a,["]"],"bracket");if("{"==u)return r.eatSuffix(2),e(r,a,["}"],"bracket");if("<"==u)return r.eatSuffix(2),e(r,a,[">"],"bracket");if(/[\^'"!~\/]/.test(u))return r.eatSuffix(1),e(r,a,[r.eat(u)],"bracket")}else if("r"==u){if(u=r.look(1),"("==u)return r.eatSuffix(2),e(r,a,[")"],i,o);if("["==u)return r.eatSuffix(2),e(r,a,["]"],i,o);if("{"==u)return r.eatSuffix(2),e(r,a,["}"],i,o);if("<"==u)return r.eatSuffix(2),e(r,a,[">"],i,o);if(/[\^'"!~\/]/.test(u))return r.eatSuffix(1),e(r,a,[r.eat(u)],i,o)}else if(/[\^'"!~\/(\[{<]/.test(u)){if("("==u)return r.eatSuffix(1),e(r,a,[")"],"string");if("["==u)return r.eatSuffix(1),e(r,a,["]"],"string");if("{"==u)return r.eatSuffix(1),e(r,a,["}"],"string");if("<"==u)return r.eatSuffix(1),e(r,a,[">"],"string");if(/[\^'"!~\/]/.test(u))return e(r,a,[r.eat(u)],"string")}}if("m"==s){var u=r.look(-2);if((!u||!/\w/.test(u))&&(u=r.eat(/[(\[{<\^'"!~\/]/))){if(/[\^'"!~\/]/.test(u))return e(r,a,[u],i,o);if("("==u)return e(r,a,[")"],i,o);if("["==u)return e(r,a,["]"],i,o);if("{"==u)return e(r,a,["}"],i,o);if("<"==u)return e(r,a,[">"],i,o)}}if("s"==s){var u=/[\/>\]})\w]/.test(r.look(-2));if(!u&&(u=r.eat(/[(\[{<\^'"!~\/]/)))return"["==u?e(r,a,["]","]"],i,o):"{"==u?e(r,a,["}","}"],i,o):"<"==u?e(r,a,[">",">"],i,o):"("==u?e(r,a,[")",")"],i,o):e(r,a,[u,u],i,o)}if("y"==s){var u=/[\/>\]})\w]/.test(r.look(-2));if(!u&&(u=r.eat(/[(\[{<\^'"!~\/]/)))return"["==u?e(r,a,["]","]"],i,o):"{"==u?e(r,a,["}","}"],i,o):"<"==u?e(r,a,[">",">"],i,o):"("==u?e(r,a,[")",")"],i,o):e(r,a,[u,u],i,o)}if("t"==s){var u=/[\/>\]})\w]/.test(r.look(-2));if(!u&&(u=r.eat("r"),u&&(u=r.eat(/[(\[{<\^'"!~\/]/))))return"["==u?e(r,a,["]","]"],i,o):"{"==u?e(r,a,["}","}"],i,o):"<"==u?e(r,a,[">",">"],i,o):"("==u?e(r,a,[")",")"],i,o):e(r,a,[u,u],i,o)}if("`"==s)return e(r,a,[s],"variable-2");if("/"==s)return/~\s*$/.test(r.prefix())?e(r,a,[s],i,o):"operator";if("$"==s){var l=r.pos;if(r.eatWhile(/\d/)||r.eat("{")&&r.eatWhile(/\d/)&&r.eat("}"))return"variable-2";r.pos=l}if(/[$@%]/.test(s)){var l=r.pos;if(r.eat("^")&&r.eat(/[A-Z]/)||!/[@$%&]/.test(r.look(-2))&&r.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var u=r.current();if(n[u])return"variable-2"}r.pos=l}if(/[$@%&]/.test(s)&&(r.eatWhile(/[\w$\[\]]/)||r.eat("{")&&r.eatWhile(/[\w$\[\]]/)&&r.eat("}"))){var u=r.current();return n[u]?"variable-2":"variable"}if("#"==s&&"$"!=r.look(-2))return r.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(s)){var l=r.pos;if(r.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),n[r.current()])return"operator";r.pos=l}if("_"==s&&1==r.pos){if("_END__"==r.suffix(6))return e(r,a,["\0"],"comment");if("_DATA__"==r.suffix(7))return e(r,a,["\0"],"variable-2");if("_C__"==r.suffix(7))return e(r,a,["\0"],"string")}if(/\w/.test(s)){var l=r.pos;if("{"==r.look(-2)&&("}"==r.look(0)||r.eatWhile(/\w/)&&"}"==r.look(0)))return"string";r.pos=l}if(/[A-Z]/.test(s)){var f=r.look(-2),l=r.pos;if(r.eatWhile(/[A-Z_]/),!/[\da-z]/.test(r.look(0))){var u=n[r.current()];return u?(u[1]&&(u=u[0]),":"!=f?1==u?"keyword":2==u?"def":3==u?"atom":4==u?"operator":5==u?"variable-2":"meta":"meta"):"meta"}r.pos=l}if(/[a-zA-Z_]/.test(s)){var f=r.look(-2);r.eatWhile(/\w/);var u=n[r.current()];return u?(u[1]&&(u=u[0]),":"!=f?1==u?"keyword":2==u?"def":3==u?"atom":4==u?"operator":5==u?"variable-2":"meta":"meta"):"meta"}return null}var n={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,"if":[1,1],elsif:[1,1],"else":[1,1],"while":[1,1],unless:[1,1],"for":[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,"break":1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,"continue":[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,"default":1,defined:1,"delete":1,die:1,"do":1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,"goto":1,grep:1,hex:1,"import":1,index:1,"int":1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,"new":1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,"package":1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,"return":1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},i="string-2",o=/[goseximacplud]/;return{startState:function(){return{tokenize:r,chain:null,style:null,tail:null}},token:function(e,t){return(t.tokenize||r)(e,t)},electricChars:"{}"}}),CodeMirror.defineMIME("text/x-perl","perl"),CodeMirror.StringStream.prototype.look=function(e){return this.string.charAt(this.pos+(e||0))},CodeMirror.StringStream.prototype.prefix=function(e){if(e){var t=this.pos-e;return this.string.substr(t>=0?t:0,e)}return this.string.substr(0,this.pos-1)},CodeMirror.StringStream.prototype.suffix=function(e){var t=this.string.length,r=t-this.pos+1;return this.string.substr(this.pos,e&&t>e?e:r)},CodeMirror.StringStream.prototype.nsuffix=function(e){var t=this.pos,r=e||this.string.length-this.pos+1;return this.pos+=r,this.string.substr(t,r)},CodeMirror.StringStream.prototype.eatSuffix=function(e){var t,r=this.pos+e;this.pos=0>=r?0:r>=(t=this.string.length-1)?t:r},function(){"use strict";var e=[{keys:["<Left>"],type:"keyToKey",toKeys:["h"]},{keys:["<Right>"],type:"keyToKey",toKeys:["l"]},{keys:["<Up>"],type:"keyToKey",toKeys:["k"]},{keys:["<Down>"],type:"keyToKey",toKeys:["j"]},{keys:["<Space>"],type:"keyToKey",toKeys:["l"]},{keys:["<BS>"],type:"keyToKey",toKeys:["h"]},{keys:["<C-Space>"],type:"keyToKey",toKeys:["W"]},{keys:["<C-BS>"],type:"keyToKey",toKeys:["B"]},{keys:["<S-Space>"],type:"keyToKey",toKeys:["w"]},{keys:["<S-BS>"],type:"keyToKey",toKeys:["b"]},{keys:["<C-n>"],type:"keyToKey",toKeys:["j"]},{keys:["<C-p>"],type:"keyToKey",toKeys:["k"]},{keys:["<C-[>"],type:"keyToKey",toKeys:["<Esc>"]},{keys:["<C-c>"],type:"keyToKey",toKeys:["<Esc>"]},{keys:["s"],type:"keyToKey",toKeys:["c","l"],context:"normal"},{keys:["s"],type:"keyToKey",toKeys:["x","i"],context:"visual"},{keys:["S"],type:"keyToKey",toKeys:["c","c"],context:"normal"},{keys:["S"],type:"keyToKey",toKeys:["d","c","c"],context:"visual"},{keys:["<Home>"],type:"keyToKey",toKeys:["0"]},{keys:["<End>"],type:"keyToKey",toKeys:["$"]},{keys:["<PageUp>"],type:"keyToKey",toKeys:["<C-b>"]},{keys:["<PageDown>"],type:"keyToKey",toKeys:["<C-f>"]},{keys:["<CR>"],type:"keyToKey",toKeys:["j","^"],context:"normal"},{keys:["H"],type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:["M"],type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:["L"],type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:["h"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:["l"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["j"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:["k"],type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:["g","j"],type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:["g","k"],type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:["w"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:["W"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:["e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:["E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["b"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:["B"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:["g","e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:["g","E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["{"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:["}"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:["<C-f>"],type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:["<C-b>"],type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:["<C-d>"],type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:["<C-u>"],type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:["g","g"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:["G"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:["0"],type:"motion",motion:"moveToStartOfLine"},{keys:["^"],type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["+"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:["-"],type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:["_"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:["$"],type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:["%"],type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:["f","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["F","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:["t","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["T","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:[";"],type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:[","],type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:["'","character"],type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:["`","character"],type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:["]","`"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:["[","`"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:["]","'"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:["[","'"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:["]","character"],type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:["[","character"],type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:["|"],type:"motion",motion:"moveToColumn",motionArgs:{}},{keys:["d"],type:"operator",operator:"delete"},{keys:["y"],type:"operator",operator:"yank"},{keys:["c"],type:"operator",operator:"change"},{keys:[">"],type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:["<"],type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:["g","~"],type:"operator",operator:"swapcase"},{keys:["n"],type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:["N"],type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:["x"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:["X"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:["D"],type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["Y"],type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["C"],type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["~"],type:"operatorMotion",operator:"swapcase",operatorArgs:{shouldMoveCursor:!0},motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["<C-i>"],type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:["<C-o>"],type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:["<C-e>"],type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:["<C-y>"],type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:["a"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"}},{keys:["A"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"}},{keys:["i"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"}},{keys:["I"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"}},{keys:["o"],type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0}},{keys:["O"],type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1}},{keys:["v"],type:"action",action:"toggleVisualMode"},{keys:["V"],type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:["J"],type:"action",action:"joinLines",isEdit:!0},{keys:["p"],type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:["P"],type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:["r","character"],type:"action",action:"replace",isEdit:!0},{keys:["@","character"],type:"action",action:"replayMacro"},{keys:["q","character"],type:"action",action:"enterMacroRecordMode"},{keys:["R"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:["u"],type:"action",action:"undo"},{keys:["<C-r>"],type:"action",action:"redo"},{keys:["m","character"],type:"action",action:"setMark"},{keys:['"',"character"],type:"action",action:"setRegister"},{keys:["z","z"],type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:["z","."],type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","t"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:["z","<CR>"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","-"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:["z","b"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["."],type:"action",action:"repeatLastEdit"},{keys:["<C-a>"],type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:["<C-x>"],type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:["a","character"],type:"motion",motion:"textObjectManipulation"},{keys:["i","character"],type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:["/"],type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:["?"],type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:["*"],type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:["#"],type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:[":"],type:"ex"}],t=function(){function r(e,t){var r=e.state.vim;
if(!r.insertMode&&!r.exMode){var n=t.head;n.ch&&n.ch==e.doc.getLine(n.line).length&&n.ch--}}function n(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(b(e.getCursor(),0,1)),Kt.enterInsertMode(e,{},t))}),t.onPasteFn}function i(e,t){for(var r=[],n=e;e+t>n;n++)r.push(String.fromCharCode(n));return r}function o(e,t){return t>=e.firstLine()&&e.lastLine()>=t}function a(e){return/^[a-z]$/.test(e)}function s(e){return-1!="()[]{}".indexOf(e)}function l(e){return Tt.test(e)}function c(e){return/^[A-Z]$/.test(e)}function u(e){return/^\s*$/.test(e)}function f(e,t){for(var r=0;t.length>r;r++)if(t[r]==e)return!0;return!1}function d(e){return e.state.vim||(e.state.vim={inputState:new p,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1}),e.state.vim}function h(){Lt={searchQuery:null,searchIsReversed:!1,jumpList:zt(),macroModeState:Wt(),lastChararacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new g({})}}function p(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function m(e,t){this.clear(),e&&this.set(e,t)}function g(e){this.registers=e,this.unamedRegister=e['"']=new m}function v(e,t,r){var n=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),i=S(e,n)-1;i=r?i+1:i;var o=Math.min(Math.max(0,t.ch),i);return{line:n,ch:o}}function y(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function b(e,t,r){return{line:e.line+t,ch:e.ch+r}}function k(e,t){for(var r=0;e.length>r;r++)if(e[r]!=t[r]&&"character"!=t[r])return!1;return!0}function x(e,t,r){return function(){for(var n=0;r>n;n++)t(e)}}function C(e){return{line:e.line,ch:e.ch}}function w(e,t){return e.ch==t.ch&&e.line==t.line}function _(e,t){return e.line<t.line?!0:e.line==t.line&&e.ch<t.ch?!0:!1}function M(e,t,r){var n=_(e,t),i=_(t,r);return n&&i}function S(e,t){return e.getLine(t).length}function L(e){return e.split("").reverse().join("")}function T(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e){return e.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function E(e){e.off("mousedown",E);var t=e.state.vim;t.visualMode=!1,t.visualLine=!1;var r=e.getCursor("anchor"),n=e.getCursor("head");w(r,n)||e.setCursor(v(e,n)),CodeMirror.signal(e,"vim-mode-change",{mode:"normal"})}function I(e,t,r){var n=e.getRange(t,r);if(/\n\s*$/.test(n)){var i=n.split("\n");i.pop();for(var o,o=i.pop();i.length>0&&o&&u(o);o=i.pop())r.line--,r.ch=0;o?(r.line--,r.ch=S(e,r.line)):r.ch=0}}function O(e,t,r){t.ch=0,r.ch=0,r.line++}function N(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function R(e,t,r,n,i){var o,a=e.getCursor(),s=e.getLine(a.line),l=a.ch,c=s.substring(l);if(o=i?c.search(/\w/):c.search(/\S/),-1==o)return null;l+=o,c=s.substring(l);var u,f=s.substring(0,l);u=n?/^\S+/:/\w/.test(s.charAt(l))?/^\w+/:/^[^\w\s]+/;var d=u.exec(c),h=l,p=l+d[0].length,m=L(f),g=u.exec(m);if(g&&(h-=g[0].length),t){var v=s.substring(p),y=v.match(/^\s*/)[0].length;if(y>0)p+=y;else{var b=m.length-h,k=m.substring(b),x=k.match(/^\s*/)[0].length;h-=x}}return{start:{line:a.line,ch:h},end:{line:a.line,ch:p}}}function P(e,t,r){w(t,r)||Lt.jumpList.add(e,t,r)}function D(e,t){Lt.lastChararacterSearch.increment=e,Lt.lastChararacterSearch.forward=t.forward,Lt.lastChararacterSearch.selectedCharacter=t.selectedCharacter}function H(e,t,r,n){var i=e.getCursor(),o=r?1:-1,a=r?e.lineCount():-1,s=i.ch,l=i.line,c=e.getLine(l),u={lineText:c,nextCh:c.charAt(s),lastCh:null,index:s,symb:n,reverseSymb:(r?{")":"(","}":"{"}:{"(":")","{":"}"})[n],forward:r,depth:0,curMoveThrough:!1},f=jt[n];if(!f)return i;var d=Ut[f].init,h=Ut[f].isComplete;for(d&&d(u);l!==a&&t;){if(u.index+=o,u.nextCh=u.lineText.charAt(u.index),!u.nextCh){if(l+=o,u.lineText=e.getLine(l)||"",o>0)u.index=0;else{var p=u.lineText.length;u.index=p>0?p-1:0}u.nextCh=u.lineText.charAt(u.index)}h(u)&&(i.line=l,i.ch=u.index,t--)}return u.nextCh||u.curMoveThrough?{line:l,ch:u.index}:i}function z(e,t,r,n,i){var a=t.line,s=t.ch,l=e.getLine(a),c=r?1:-1,u=n?Et:At;if(i&&""==l){if(a+=c,l=e.getLine(a),!o(e,a))return null;s=r?0:l.length}for(;;){if(i&&""==l)return{from:0,to:0,line:a};for(var f=c>0?l.length:-1,d=f,h=f;s!=f;){for(var p=!1,m=0;u.length>m&&!p;++m)if(u[m].test(l.charAt(s))){for(d=s;s!=f&&u[m].test(l.charAt(s));)s+=c;if(h=s,p=d!=h,d==t.ch&&a==t.line&&h==d+c)continue;return{from:Math.min(d,h+1),to:Math.max(d,h),line:a}}p||(s+=c)}if(a+=c,!o(e,a))return null;l=e.getLine(a),s=c>0?0:l.length}throw Error("The impossible happened.")}function W(e,t,r,n,i){var o=e.getCursor(),a=C(o),s=[];(r&&!n||!r&&n)&&t++;for(var l=!(r&&n),c=0;t>c;c++){var u=z(e,o,r,i,l);if(!u){var f=S(e,e.lastLine());s.push(r?{line:e.lastLine(),from:f,to:f}:{line:0,from:0,to:0});break}s.push(u),o={line:u.line,ch:r?u.to-1:u.from}}var d=s.length!=t,h=s[0],p=s.pop();return r&&!n?(d||h.from==a.ch&&h.line==a.line||(p=s.pop()),{line:p.line,ch:p.from}):r&&n?{line:p.line,ch:p.to-1}:!r&&n?(d||h.to==a.ch&&h.line==a.line||(p=s.pop()),{line:p.line,ch:p.to}):{line:p.line,ch:p.from}}function F(e,t,r,n){for(var i,o=e.getCursor(),a=o.ch,s=0;t>s;s++){var l=e.getLine(o.line);if(i=q(a,l,n,r,!0),-1==i)return null;a=i}return{line:e.getCursor().line,ch:i}}function $(e,t){var r=e.getCursor().line;return v(e,{line:r,ch:t-1})}function B(e,t,r,n){f(r,Dt)&&(t.marks[r]&&t.marks[r].clear(),t.marks[r]=e.setBookmark(n))}function q(e,t,r,n,i){var o;return n?(o=t.indexOf(r,e+1),-1==o||i||(o-=1)):(o=t.lastIndexOf(r,e-1),-1==o||i||(o+=1)),o}function K(e){return"string"===e||"comment"===e?1:0}function j(e,t,r){var n=t.line,i=t.ch;r=r?r:e.getLine(n).charAt(i);var o=e.getTokenAt({line:n,ch:i+1}).type,a=K(o),s={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"}[r];if(!s)return t;for(var l={"(":1,"{":1,"[":1}[r]||-1,c=1===l?e.lineCount():-1,u=1,f=r,d=i,h=e.getLine(n);n!==c&&u>0;){if(d+=l,f=h.charAt(d),!f){if(n+=l,h=e.getLine(n)||"",l>0)d=0;else{var p=h.length;d=p>0?p-1:0}f=h.charAt(d)}var m=e.getTokenAt({line:n,ch:d+1}).type,g=K(m);a>=g&&(f===r?u++:f===s&&u--)}return f?{line:n,ch:d}:t}function U(e,t,r){var n=e.getCursor(),i=j(e,n,t),o=j(e,i);if(o.line==i.line&&o.ch>i.ch||o.line>i.line){var a=o;o=i,i=a}return r?i.ch+=1:o.ch+=1,{start:o,end:i}}function V(e,t,r){var n,i,o,a,s=e.getCursor(),l=e.getLine(s.line),c=l.split(""),u=c.indexOf(t);if(u>s.ch?s.ch=u:s.ch>u&&c[s.ch]==t&&(i=s.ch,--s.ch),c[s.ch]!=t||i)for(o=s.ch;o>-1&&!n;o--)c[o]==t&&(n=o+1);else n=s.ch+1;if(n&&!i)for(o=n,a=c.length;a>o&&!i;o++)c[o]==t&&(i=o);return n&&i?(r&&(--n,++i),{start:{line:s.line,ch:n},end:{line:s.line,ch:i}}):{start:s,end:s}}function G(){}function X(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new G)}function Y(e,t,r,n,i){e.openDialog?e.openDialog(t,n,{bottom:!0,value:i.value,onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp}):n(prompt(r,""))}function J(e){for(var t=!1,r=[],n=0;e.length>n;n++){var i=e.charAt(n);t||"/"!=i||r.push(n),t=!t&&"\\"==i}return r}function Z(e){for(var t=["|","(",")","{"],r=["}"],n=!1,i=[],o=-1;e.length>o;o++){var a=e.charAt(o)||"",s=e.charAt(o+1)||"",l=-1!=t.indexOf(s);n?("\\"===a&&l||i.push(a),n=!1):"\\"===a?(n=!0,-1!=r.indexOf(s)&&(l=!0),l&&"\\"!==s||i.push(a)):(i.push(a),l&&"\\"!==s&&i.push("\\"))}return i.join("")}function Q(e){for(var t=!1,r=[],n=-1;e.length>n;n++){var i=e.charAt(n)||"",o=e.charAt(n+1)||"";t?(r.push(i),t=!1):"\\"===i?(t=!0,l(o)||"$"===o?r.push("$"):"/"!==o&&"\\"!==o&&r.push("\\")):("$"===i&&r.push("$"),r.push(i),"/"===o&&r.push("\\"))}return r.join("")}function et(e,t,r){if(e instanceof RegExp)return e;var n,i,o=J(e);if(o.length){n=e.substring(0,o[0]);var a=e.substring(o[0]);i=-1!=a.indexOf("i")}else n=e;if(!n)return null;n=Z(n),r&&(t=/^[^A-Z]*$/.test(n));var s=RegExp(n,t||i?"i":void 0);return s}function tt(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}function rt(e,t){var r="";return e&&(r+='<span style="font-family: monospace">'+e+"</span>"),r+='<input type="text"/> <span style="color: #888">',t&&(r+='<span style="color: #888">',r+=t,r+="</span>"),r}function nt(e,t){var r=(t.prefix||"")+" "+(t.desc||""),n=rt(t.prefix,t.desc);Y(e,n,r,t.onClose,t)}function it(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var r=["global","multiline","ignoreCase","source"],n=0;r.length>n;n++){var i=r[n];if(e[i]!==t[i])return!1}return!0}return!1}function ot(e,t,r,n){if(t){var i=X(e),o=et(t,!!r,!!n);if(o)return st(e,o),it(o,i.getQuery())?o:(i.setQuery(o),o)}}function at(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(r){if(t&&!r.sol())return r.skipToEnd(),void 0;var n=r.match(e,!1);if(n)return 0==n[0].length?(r.next(),"searching"):r.sol()||(r.backUp(1),e.exec(r.next()+n[0]))?(r.match(e),"searching"):(r.next(),null);for(;!r.eol()&&(r.next(),!r.match(e,!1)););},query:e}}function st(e,t){var r=X(e).getOverlay();r&&t==r.query||(r&&e.removeOverlay(r),r=at(t),e.addOverlay(r),X(e).setOverlay(r))}function lt(e,t,r,n){return void 0===n&&(n=1),e.operation(function(){for(var i=e.getCursor(),o=e.getSearchCursor(r,i),a=0;n>a;a++){var s=o.find(t);if(0==a&&s&&w(o.from(),i)&&(s=o.find(t)),!s&&(o=e.getSearchCursor(r,t?{line:e.lastLine()}:{line:e.firstLine(),ch:0}),!o.find(t)))return}return o.from()})}function ct(e){e.removeOverlay(X(e).getOverlay()),X(e).setOverlay(null)}function ut(e,t,r){return"number"!=typeof e&&(e=e.line),t instanceof Array?f(e,t):r?e>=t&&r>=e:e==t}function ft(e){var t=e.getScrollInfo(),r=6,n=10,i=e.coordsChar({left:0,top:r+t.top},"local"),o=t.clientHeight-n+t.top,a=e.coordsChar({left:0,top:o},"local");return{top:i.line,bottom:a.line}}function dt(e){for(var t,r,n=[];e&&(r=/<\w+-.+?>|<\w+>|./.exec(e),null!==r);)t=r[0],e=e.substring(r.index+t.length),n.push(t);return n}function ht(e,t,r,n,i,o,a){function s(){e.operation(function(){for(;!d;)l(),c();u()})}function l(){var t=e.getRange(i.from(),i.to()),r=t.replace(o,a);i.replace(r)}function c(){var t=i.findNext();t?ut(i.from(),r,n)?(e.scrollIntoView(i.from(),30),e.setSelection(i.from(),i.to()),h=i.from(),d=!1):d=!0:d=!0}function u(t){if(t&&t(),e.focus(),h){e.setCursor(h);var r=e.state.vim;r.exMode=!1,r.lastHPos=r.lastHSPos=h.ch}}function f(t,r,n){CodeMirror.e_stop(t);var i=CodeMirror.keyName(t);switch(i){case"Y":l(),c();break;case"N":c();break;case"A":e.operation(s);break;case"L":l();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":u(n)}d&&u(n)}e.state.vim.exMode=!0;var d=!1,h=i.from();return c(),d?(tt(e,"No matches for "+o.source),void 0):t?(nt(e,{prefix:"replace with <strong>"+a+"</strong> (y/n/a/q/l)",onKeyDown:f}),void 0):(s(),void 0)}function pt(){function e(e,t){var r=e;c(r)&&"Ctrl"==t&&(r=r.toLowerCase()),t&&(r=t.charAt(0)+"-"+r);var n={Enter:"CR",Backspace:"BS",Delete:"Del"}[r];return r=n?n:r,r=r.length>1?"<"+r+">":r}function t(e){return function(t){CodeMirror.Vim.handleKey(t,e)}}function r(r,i){for(var o=0;r.length>o;o++){var a=r[o];i||1!=a.length||(a="'"+a+"'");var s=e(r[o],i),l=i?i+"-"+a:a;n[l]=t(s)}}var n={nofallthrough:!0,style:"fat-cursor"};return r(It),r(Ot),r(It,"Ctrl"),r(Rt),r(Rt,"Ctrl"),r(Nt),r(Nt,"Ctrl"),r(Pt),r(Pt,"Ctrl"),n}function mt(e){var t=e.state.vim,r=Lt.macroModeState.inReplay;r||(e.off("change",xt),e.off("cursorActivity",Ct),CodeMirror.off(e.getInputField(),"keydown",_t)),!r&&t.insertModeRepeat>1&&(Mt(e,t,t.insertModeRepeat-1,!0),t.lastEditInputState.repeatOverride=t.insertModeRepeat),delete t.insertModeRepeat,e.setCursor(e.getCursor().line,e.getCursor().ch-1,!0),t.insertMode=!1,e.setOption("keyMap","vim"),e.setOption("disableInput",!0),e.toggleOverwrite(!1),CodeMirror.signal(e,"vim-mode-change",{mode:"normal"})}function gt(e,t){var r,n,i=Lt.registerController.getRegister(t),o=""+i,a=e.macroKeyBuffer;yt(e);do{if(r=/<\w+-.+?>|<\w+>|./.exec(o),null===r)break;n=r[0],o=o.substring(r.index+n.length),a.push(n)}while(o);return a}function vt(e,t){var r=t.join("");Lt.registerController.setRegisterText(e,r)}function yt(e){if(!e.isMacroPlaying){var t=e.macroKeyBuffer;t.length=0}}function bt(e,t,r){t.isMacroPlaying=!0;for(var n=0,i=r.length;i>n;n++)CodeMirror.Vim.handleKey(e,r[n]);t.isMacroPlaying=!1}function kt(e,t){if(!e.isMacroPlaying){var r=e.macroKeyBuffer;r.push(t)}}function xt(e,t){for(var r=Lt.macroModeState,n=r.lastInsertModeChanges;t;){if(n.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var i=t.text.join("\n");n.changes.push(i)}t=t.next}}function Ct(){var e=Lt.macroModeState,t=e.lastInsertModeChanges;t.expectCursorActivityForChange?t.expectCursorActivityForChange=!1:t.changes=[]}function wt(e){this.keyName=e}function _t(e){function t(){return n.changes.push(new wt(i)),!0}var r=Lt.macroModeState,n=r.lastInsertModeChanges,i=CodeMirror.keyName(e);(-1!=i.indexOf("Delete")||-1!=i.indexOf("Backspace"))&&CodeMirror.lookupKey(i,["vim-insert"],t)}function Mt(e,t,r,n){function i(){s?$t.processAction(e,t,t.lastEditActionCommand):$t.evalInput(e,t)}function o(r){a.lastInsertModeChanges.changes.length>0&&(r=t.lastEditActionCommand?r:1,St(e,r,a))}var a=Lt.macroModeState;a.inReplay=!0;var s=!!t.lastEditActionCommand,l=t.inputState;if(t.inputState=t.lastEditInputState,s&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;r>c;c++)i(),o(1);else n||i(),o(r);t.inputState=l,t.insertMode&&!n&&mt(e),a.inReplay=!1}function St(e,t,r){function n(t){return"string"==typeof t?CodeMirror.commands[t](e):t(e),!0}for(var i=r.lastInsertModeChanges,o=0;t>o;o++)for(var a=0;i.changes.length>a;a++){var s=i.changes[a];if(s instanceof wt)CodeMirror.lookupKey(s.keyName,["vim-insert"],n);else{var l=e.getCursor();e.replaceRange(s,l,l)}}}CodeMirror.defineOption("vimMode",!1,function(e,t){t?(e.setOption("keyMap","vim"),e.setOption("disableInput",!0),CodeMirror.signal(e,"vim-mode-change",{mode:"normal"}),e.on("beforeSelectionChange",r),d(e),CodeMirror.on(e.getInputField(),"paste",n(e))):e.state.vim&&(e.setOption("keyMap","default"),e.setOption("disableInput",!1),e.off("beforeSelectionChange",r),CodeMirror.off(e.getInputField(),"paste",n(e)),e.state.vim=null)});var Lt,Tt=/[\d]/,At=[/\w/,/[^\w\s]/],Et=[/\S/],It=i(65,26),Ot=i(97,26),Nt=i(48,10),Rt="~`!@#$%^&*()_-+=[{}]\\|/?.,<>:;\"'".split(""),Pt=["Left","Right","Up","Down","Space","Backspace","Esc","Home","End","PageUp","PageDown","Enter"],Dt=[].concat(It,Ot,Nt,["<",">"]),Ht=[].concat(It,Ot,Nt,["-",'"']),zt=function(){function e(e,t,s){function l(t){var i=++n%r,o=a[i];o&&o.clear(),a[i]=e.setBookmark(t)}var c=n%r,u=a[c];if(u){var f=u.find();f&&!w(f,t)&&l(t)}else l(t);l(s),i=n,o=n-r+1,0>o&&(o=0)}function t(e,t){n+=t,n>i?n=i:o>n&&(n=o);var s=a[(r+n)%r];if(s&&!s.find()){var l,c=t>0?1:-1,u=e.getCursor();do if(n+=c,s=a[(r+n)%r],s&&(l=s.find())&&!w(u,l))break;while(i>n&&n>o)}return s}var r=100,n=-1,i=0,o=0,a=Array(r);return{cachedCursor:void 0,add:e,move:t}},Wt=function(){return{macroKeyBuffer:[],latestRegister:void 0,inReplay:!1,lastInsertModeChanges:{changes:[],expectCursorActivityForChange:!1},enteredMacroMode:void 0,isMacroPlaying:!1,toggle:function(e,t){this.enteredMacroMode?(this.enteredMacroMode(),this.enteredMacroMode=void 0):(this.latestRegister=t,this.enteredMacroMode=e.openDialog("(recording)["+t+"]",null,{bottom:!0}))}}},Ft={buildKeyMap:function(){},getRegisterController:function(){return Lt.registerController},resetVimGlobalState_:h,getVimGlobalState_:function(){return Lt},maybeInitVimState_:d,InsertModeKey:wt,map:function(e,t,r){Yt.map(e,t,r)},defineEx:function(e,t,r){if(0!==e.indexOf(t))throw Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered');Xt[e]=r,Yt.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(t,r){var n,i=d(t),o=Lt.macroModeState;if(o.enteredMacroMode&&"q"==r)return Kt.exitMacroRecordMode(),i.inputState=new p,void 0;if("<Esc>"==r)return i.inputState=new p,i.visualMode&&E(t),void 0;if(i.visualMode||w(t.getCursor("head"),t.getCursor("anchor"))||(i.visualMode=!0,i.visualLine=!1,CodeMirror.signal(t,"vim-mode-change",{mode:"visual"}),t.on("mousedown",E)),("0"!=r||"0"==r&&0===i.inputState.getRepeat())&&(n=$t.matchCommand(r,e,i)),!n)return l(r)&&i.inputState.pushRepeatDigit(r),void 0;if("keyToKey"==n.type)for(var a=0;n.toKeys.length>a;a++)this.handleKey(t,n.toKeys[a]);else o.enteredMacroMode&&kt(o,r),$t.processCommand(t,i,n)},handleEx:function(e,t){Yt.processCommand(e,t)}};p.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},p.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},m.prototype={set:function(e,t){this.text=e,this.linewise=!!t},append:function(e,t){t||this.linewise?(this.text+="\n"+e,this.linewise=!0):this.text+=e},clear:function(){this.text="",this.linewise=!1},toString:function(){return this.text}},g.prototype={pushText:function(e,t,r,n){n&&"\n"==r.charAt(0)&&(r=r.slice(1)+"\n"),n&&"\n"!==r.charAt(r.length-1)&&(r+="\n");var i=this.isValidRegister(e)?this.getRegister(e):null;if(!i){switch(t){case"yank":this.registers["0"]=new m(r,n);break;case"delete":case"change":-1==r.indexOf("\n")?this.registers["-"]=new m(r,n):(this.shiftNumericRegisters_(),this.registers["1"]=new m(r,n))}return this.unamedRegister.set(r,n),void 0}var o=c(e);o?(i.append(r,n),this.unamedRegister.append(r,n)):(i.set(r,n),this.unamedRegister.set(r,n))},setRegisterText:function(e,t,r){this.getRegister(e).set(t,r)},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new m),this.registers[e]):this.unamedRegister},isValidRegister:function(e){return e&&f(e,Ht)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}};var $t={matchCommand:function(e,t,r){function n(t){return a.length<t.keys.length?(o.keyBuffer.push(e),null):("character"==t.keys[a.length-1]&&(o.selectedCharacter=i),o.keyBuffer=[],t)}for(var i,o=r.inputState,a=o.keyBuffer.concat(e),s=[],l=0;t.length>l;l++){var c=t[l];if(k(a,c.keys)){if(o.operator&&"action"==c.type)continue;if("character"==c.keys[a.length-1]&&(i=a[a.length-1],i.length>1))switch(i){case"<CR>":i="\n";break;case"<Space>":i=" ";break;default:continue}s.push(c)}}if(s.length){if(1==s.length)return n(s[0]);for(var u,f=r.visualMode?"visual":"normal",l=0;s.length>l;l++){var d=s[l];if(d.context==f){u=d;break}u||d.context||(u=d)}return n(u)}return o.keyBuffer=[],null},processCommand:function(e,t,r){switch(t.inputState.repeatOverride=r.repeatOverride,r.type){case"motion":this.processMotion(e,t,r);break;case"operator":this.processOperator(e,t,r);break;case"operatorMotion":this.processOperatorMotion(e,t,r);break;case"action":this.processAction(e,t,r);break;case"search":this.processSearch(e,t,r);break;case"ex":case"keyToEx":this.processEx(e,t,r);break;default:}},processMotion:function(e,t,r){t.inputState.motion=r.motion,t.inputState.motionArgs=y(r.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,r){var n=t.inputState;if(n.operator){if(n.operator==r.operator)return n.motion="expandToLine",n.motionArgs={linewise:!0},this.evalInput(e,t),void 0;t.inputState=new p}n.operator=r.operator,n.operatorArgs=y(r.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,r){var n=t.visualMode,i=y(r.operatorMotionArgs);i&&n&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,r),n||this.processMotion(e,t,r)},processAction:function(e,t,r){var n=t.inputState,i=n.getRepeat(),o=!!i,a=y(r.actionArgs)||{};n.selectedCharacter&&(a.selectedCharacter=n.selectedCharacter),r.operator&&this.processOperator(e,t,r),r.motion&&this.processMotion(e,t,r),(r.motion||r.operator)&&this.evalInput(e,t),a.repeat=i||1,a.repeatIsExplicit=o,a.registerName=n.registerName,t.inputState=new p,t.lastMotion=null,r.isEdit&&this.recordLastEdit(t,n,r),Kt[r.action](e,a,t)},processSearch:function(e,t,r){function n(n,i,o){try{ot(e,n,i,o)}catch(a){return tt(e,"Invalid regex: "+n),void 0}$t.processMotion(e,t,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:r.searchArgs.toJumplist}})}function i(t){e.scrollTo(u.left,u.top),n(t,!0,!0)}function o(t,r){var n;try{n=ot(e,r,!0,!0)}catch(i){}n?e.scrollIntoView(lt(e,!s,n),30):(ct(e),e.scrollTo(u.left,u.top))}function a(t,r,n){var i=CodeMirror.keyName(t);("Esc"==i||"Ctrl-C"==i||"Ctrl-["==i)&&(ot(e,c),ct(e),e.scrollTo(u.left,u.top),CodeMirror.e_stop(t),n(),e.focus())}if(e.getSearchCursor){var s=r.searchArgs.forward;X(e).setReversed(!s);var l=s?"/":"?",c=X(e).getQuery(),u=e.getScrollInfo();switch(r.searchArgs.querySrc){case"prompt":nt(e,{onClose:i,prefix:l,desc:Vt,onKeyUp:o,onKeyDown:a});break;case"wordUnderCursor":var f=R(e,!1,!0,!1,!0),d=!0;if(f||(f=R(e,!1,!0,!1,!1),d=!1),!f)return;var h=e.getLine(f.start.line).substring(f.start.ch,f.end.ch);h=d?"\\b"+h+"\\b":A(h),Lt.jumpList.cachedCursor=e.getCursor(),e.setCursor(f.start),n(h,!0,!1)}}},processEx:function(e,t,r){function n(t){Yt.processCommand(e,t)}function i(t,r,n){var i=CodeMirror.keyName(t);("Esc"==i||"Ctrl-C"==i||"Ctrl-["==i)&&(CodeMirror.e_stop(t),n(),e.focus())}"keyToEx"==r.type?Yt.processCommand(e,r.exArgs.input):t.visualMode?nt(e,{onClose:n,prefix:":",value:"'<,'>",onKeyDown:i}):nt(e,{onClose:n,prefix:":",onKeyDown:i})},evalInput:function(e,t){var r,n,i=t.inputState,o=i.motion,a=i.motionArgs||{},s=i.operator,l=i.operatorArgs||{},c=i.registerName,u=e.getCursor("head"),f=e.getCursor("anchor"),d=C(u),h=C(d);if(s&&this.recordLastEdit(t,i),n=void 0!==i.repeatOverride?i.repeatOverride:i.getRepeat(),n>0&&a.explicitRepeat?a.repeatIsExplicit=!0:(a.noRepeat||!a.explicitRepeat&&0===n)&&(n=1,a.repeatIsExplicit=!1),i.selectedCharacter&&(a.selectedCharacter=l.selectedCharacter=i.selectedCharacter),a.repeat=n,t.inputState=new p,o){var m=Bt[o](e,a,t);if(t.lastMotion=Bt[o],!m)return;if(a.toJumplist){var g=Lt.jumpList,y=g.cachedCursor;y?(P(e,y,m),delete g.cachedCursor):P(e,h,m)}if(m instanceof Array?(d=m[0],r=m[1]):r=m,r||(r={ch:d.ch,line:d.line}),t.visualMode){if(_(f,u)&&(w(f,r)||_(r,f))?f.ch+=1:_(u,f)&&(w(f,r)||_(f,r))&&(f.ch-=1),u=r,t.visualLine)if(_(f,u)){f.ch=0;var b=e.lastLine();u.line>b&&(u.line=b),u.ch=S(e,u.line)}else u.ch=0,f.ch=S(e,f.line);e.setSelection(f,u),B(e,t,"<",_(f,u)?f:u),B(e,t,">",_(f,u)?u:f)}else s||(r=v(e,r),e.setCursor(r.line,r.ch))}if(s){var k=!1;if(t.lastMotion=null,l.repeat=n,t.visualMode&&(d=f,r=u,a.inclusive=!0),_(r,d)){var x=d;d=r,r=x,k=!0}!a.inclusive||t.visualMode&&k||r.ch++;var M=a.linewise||t.visualMode&&t.visualLine;M?O(e,d,r):a.forward&&I(e,d,r),l.registerName=c,l.linewise=M,qt[s](e,l,t,d,r,h),t.visualMode&&E(e)}},recordLastEdit:function(e,t,r){var n=Lt.macroModeState;n.inReplay||(e.lastEditInputState=t,e.lastEditActionCommand=r,n.lastInsertModeChanges.changes=[],n.lastInsertModeChanges.expectCursorActivityForChange=!1)}},Bt={moveToTopLine:function(e,t){var r=ft(e).top+t.repeat-1;return{line:r,ch:N(e.getLine(r))}},moveToMiddleLine:function(e){var t=ft(e),r=Math.floor(.5*(t.top+t.bottom));return{line:r,ch:N(e.getLine(r))}},moveToBottomLine:function(e,t){var r=ft(e).bottom-t.repeat+1;return{line:r,ch:N(e.getLine(r))}},expandToLine:function(e,t){var r=e.getCursor();return{line:r.line+t.repeat-1,ch:1/0}},findNext:function(e,t){var r=X(e),n=r.getQuery();if(n){var i=!t.forward;return i=r.isReversed()?!i:i,st(e,n),lt(e,i,n,t.repeat)}},goToMark:function(e,t,r){var n=r.marks[t.selectedCharacter];return n?n.find():null},jumpToMark:function(e,t,r){for(var n=e.getCursor(),i=0;t.repeat>i;i++){var o=n;for(var s in r.marks)if(a(s)){var l=r.marks[s].find(),c=t.forward?_(l,o):_(o,l);if(!(c||t.linewise&&l.line==o.line)){var u=w(o,n),f=t.forward?M(o,l,n):M(n,l,o);(u||f)&&(n=l)}}}return t.linewise&&(n.ch=N(e.getLine(n.line))),n},moveByCharacters:function(e,t){var r=e.getCursor(),n=t.repeat,i=t.forward?r.ch+n:r.ch-n;return{line:r.line,ch:i}},moveByLines:function(e,t,r){var n=e.getCursor(),i=n.ch;switch(r.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:i=r.lastHPos;break;default:r.lastHPos=i}var o=t.repeat+(t.repeatOffset||0),a=t.forward?n.line+o:n.line-o,s=e.firstLine(),l=e.lastLine();return s>a&&n.line==s||a>l&&n.line==l?void 0:(t.toFirstChar&&(i=N(e.getLine(a)),r.lastHPos=i),r.lastHSPos=e.charCoords({line:a,ch:i},"div").left,{line:a,ch:i})},moveByDisplayLines:function(e,t,r){var n=e.getCursor();switch(r.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:r.lastHSPos=e.charCoords(n,"div").left}var i=t.repeat,o=e.findPosV(n,t.forward?i:-i,"line",r.lastHSPos);if(o.hitSide)if(t.forward)var a=e.charCoords(o,"div"),s={top:a.top+8,left:r.lastHSPos},o=e.coordsChar(s,"div");else{var l=e.charCoords({line:e.firstLine(),ch:0},"div");l.left=r.lastHSPos,o=e.coordsChar(l,"div")}return r.lastHPos=o.ch,o},moveByPage:function(e,t){var r=e.getCursor(),n=t.repeat;e.moveV(t.forward?n:-n,"page");var i=e.getCursor();return e.setCursor(r),i},moveByParagraph:function(e,t){for(var r=e.getCursor().line,n=t.repeat,i=t.forward?1:-1,o=0;n>o&&!(!t.forward&&r===e.firstLine()||t.forward&&r==e.lastLine());o++)for(r+=i;r!==e.firstLine()&&r!=e.lastLine()&&e.getLine(r);)r+=i;return{line:r,ch:0}},moveByScroll:function(e,t,r){var n=e.getScrollInfo(),i=null,o=t.repeat;o||(o=n.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(e.getCursor(),"local");t.repeat=o;var i=Bt.moveByDisplayLines(e,t,r);if(!i)return null;var s=e.charCoords(i,"local");return e.scrollTo(null,n.top+s.top-a.top),i},moveByWords:function(e,t){return W(e,t.repeat,!!t.forward,!!t.wordEnd,!!t.bigWord)},moveTillCharacter:function(e,t){var r=t.repeat,n=F(e,r,t.forward,t.selectedCharacter),i=t.forward?-1:1;return D(i,t),n?(n.ch+=i,n):null},moveToCharacter:function(e,t){var r=t.repeat;return D(0,t),F(e,r,t.forward,t.selectedCharacter)||e.getCursor()},moveToSymbol:function(e,t){var r=t.repeat;return H(e,r,t.forward,t.selectedCharacter)||e.getCursor()},moveToColumn:function(e,t,r){var n=t.repeat;return r.lastHPos=n-1,r.lastHSPos=e.charCoords(e.getCursor(),"div").left,$(e,n)},moveToEol:function(e,t,r){var n=e.getCursor();r.lastHPos=1/0;var i={line:n.line+t.repeat-1,ch:1/0},o=e.clipPos(i);return o.ch--,r.lastHSPos=e.charCoords(o,"div").left,i},moveToFirstNonWhiteSpaceCharacter:function(e){var t=e.getCursor();return{line:t.line,ch:N(e.getLine(t.line))}},moveToMatchedSymbol:function(e){var t,r=e.getCursor(),n=r.line,i=r.ch,o=e.getLine(n),a=e.getTokenAt(r).type,l=K(a);do if(t=o.charAt(i++),t&&s(t)){var c=e.getTokenAt({line:n,ch:i}).type,u=K(c);if(l>=u)break}while(t);return t?j(e,{line:n,ch:i-1},t):r},moveToStartOfLine:function(e){var t=e.getCursor();return{line:t.line,ch:0}},moveToLineOrEdgeOfDocument:function(e,t){var r=t.forward?e.lastLine():e.firstLine();return t.repeatIsExplicit&&(r=t.repeat-e.getOption("firstLineNumber")),{line:r,ch:N(e.getLine(r))}},textObjectManipulation:function(e,t){var r,n={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["},i={"'":!0,'"':!0},o=t.selectedCharacter,a=!t.textObjectInner;if(n[o])r=U(e,n[o],a);else if(i[o])r=V(e,o,a);else if("W"===o)r=R(e,a,!0,!0);else{if("w"!==o)return null;r=R(e,a,!0,!1)}return[r.start,r.end]},repeatLastCharacterSearch:function(e,t){var r=Lt.lastChararacterSearch,n=t.repeat,i=t.forward===r.forward,o=(r.increment?1:0)*(i?-1:1);e.moveH(-o,"char"),t.inclusive=i?!0:!1;var a=F(e,n,i,r.selectedCharacter);return a?(a.ch+=o,a):(e.moveH(o,"char"),e.getCursor())}},qt={change:function(e,t,r,n,i){if(Lt.registerController.pushText(t.registerName,"change",e.getRange(n,i),t.linewise),t.linewise){var o=i.line>e.lastLine()?"":"\n";e.replaceRange(o,n,i),e.indentLine(n.line,"smart"),n.ch=null}else{var a=e.getRange(n,i);if(!u(a)){var s=/\s+$/.exec(a);s&&(i=b(i,0,-s[0].length))}e.replaceRange("",n,i)}Kt.enterInsertMode(e,{},e.state.vim),e.setCursor(n)},"delete":function(e,t,r,n,i){t.linewise&&i.line>e.lastLine()&&n.line>e.firstLine()&&(n.line--,n.ch=S(e,n.line)),Lt.registerController.pushText(t.registerName,"delete",e.getRange(n,i),t.linewise),e.replaceRange("",n,i),t.linewise?e.setCursor(Bt.moveToFirstNonWhiteSpaceCharacter(e)):e.setCursor(n)},indent:function(e,t,r,n,i){var o=n.line,a=i.line,s=r.visualMode?t.repeat:1;t.linewise&&a--;for(var l=o;a>=l;l++)for(var c=0;s>c;c++)e.indentLine(l,t.indentRight);e.setCursor(n),e.setCursor(Bt.moveToFirstNonWhiteSpaceCharacter(e))},swapcase:function(e,t,r,n,i,o){for(var a=e.getRange(n,i),s="",l=0;a.length>l;l++){var u=a.charAt(l);s+=c(u)?u.toLowerCase():u.toUpperCase()}e.replaceRange(s,n,i),t.shouldMoveCursor||e.setCursor(o)},yank:function(e,t,r,n,i,o){Lt.registerController.pushText(t.registerName,"yank",e.getRange(n,i),t.linewise),e.setCursor(o)}},Kt={jumpListWalk:function(e,t,r){if(!r.visualMode){var n=t.repeat,i=t.forward,o=Lt.jumpList,a=o.move(e,i?n:-n),s=a?a.find():void 0;s=s?s:e.getCursor(),e.setCursor(s)}},scroll:function(e,t,r){if(!r.visualMode){var n=t.repeat||1,i=e.defaultTextHeight(),o=e.getScrollInfo().top,a=i*n,s=t.forward?o+a:o-a,l=e.getCursor(),c=e.charCoords(l,"local");if(t.forward)s>c.top?(l.line+=(s-c.top)/i,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,s);else{var u=s+e.getScrollInfo().clientHeight;c.bottom>u?(l.line-=(c.bottom-u)/i,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,s)}}},scrollToCursor:function(e,t){var r=e.getCursor().line,n=e.charCoords({line:r,ch:0},"local"),i=e.getScrollInfo().clientHeight,o=n.top,a=n.bottom-o;switch(t.position){case"center":o=o-i/2+a;break;case"bottom":o=o-i+1.4*a;break;case"top":o+=.4*a}e.scrollTo(null,o)},replayMacro:function(e,t){var r=t.selectedCharacter,n=t.repeat,i=Lt.macroModeState;"@"==r&&(r=i.latestRegister);for(var o=gt(i,r);n--;)bt(e,i,o)},exitMacroRecordMode:function(){var e=Lt.macroModeState;e.toggle(),vt(e.latestRegister,e.macroKeyBuffer)},enterMacroRecordMode:function(e,t){var r=Lt.macroModeState,n=t.selectedCharacter;r.toggle(e,n),yt(r)},enterInsertMode:function(e,t,r){if(!e.getOption("readOnly")){r.insertMode=!0,r.insertModeRepeat=t&&t.repeat||1;var n=t?t.insertAt:null;if("eol"==n){var i=e.getCursor();i={line:i.line,ch:S(e,i.line)},e.setCursor(i)}else"charAfter"==n?e.setCursor(b(e.getCursor(),0,1)):"firstNonBlank"==n&&e.setCursor(Bt.moveToFirstNonWhiteSpaceCharacter(e));e.setOption("keyMap","vim-insert"),e.setOption("disableInput",!1),t&&t.replace?(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),CodeMirror.signal(e,"vim-mode-change",{mode:"replace"})):(e.setOption("keyMap","vim-insert"),CodeMirror.signal(e,"vim-mode-change",{mode:"insert"})),Lt.macroModeState.inReplay||(e.on("change",xt),e.on("cursorActivity",Ct),CodeMirror.on(e.getInputField(),"keydown",_t))}},toggleVisualMode:function(e,t,r){var n,i=t.repeat,o=e.getCursor();r.visualMode?(o=e.getCursor("anchor"),n=e.getCursor("head"),!r.visualLine&&t.linewise?(r.visualLine=!0,o.ch=_(o,n)?0:S(e,o.line),n.ch=_(o,n)?S(e,n.line):0,e.setSelection(o,n),CodeMirror.signal(e,"vim-mode-change",{mode:"visual",subMode:"linewise"})):r.visualLine&&!t.linewise?(r.visualLine=!1,CodeMirror.signal(e,"vim-mode-change",{mode:"visual"})):E(e)):(e.on("mousedown",E),r.visualMode=!0,r.visualLine=!!t.linewise,r.visualLine?(o.ch=0,n=v(e,{line:o.line+i-1,ch:S(e,o.line)},!0)):n=v(e,{line:o.line,ch:o.ch+i},!0),t.repeatIsExplicit||r.visualLine?e.setSelection(o,n):(e.setCursor(n),e.setSelection(n,o)),CodeMirror.signal(e,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":""})),B(e,r,"<",_(o,n)?o:n),B(e,r,">",_(o,n)?n:o)},joinLines:function(e,t,r){var n,i;if(r.visualMode)n=e.getCursor("anchor"),i=e.getCursor("head"),i.ch=S(e,i.line)-1;else{var o=Math.max(t.repeat,2);n=e.getCursor(),i=v(e,{line:n.line+o-1,ch:1/0})}var a=0;e.operation(function(){for(var t=n.line;i.line>t;t++){a=S(e,n.line);var r={line:n.line+1,ch:S(e,n.line+1)},o=e.getRange(n,r);
o=o.replace(/\n\s*/g," "),e.replaceRange(o,n,r)}var s={line:n.line,ch:a};e.setCursor(s)})},newLineAndEnterInsertMode:function(e,t,r){r.insertMode=!0;var n=e.getCursor();if(n.line!==e.firstLine()||t.after){n.line=t.after?n.line:n.line-1,n.ch=S(e,n.line),e.setCursor(n);var i=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;i(e)}else e.replaceRange("\n",{line:e.firstLine(),ch:0}),e.setCursor(e.firstLine(),0);this.enterInsertMode(e,{repeat:t.repeat},r)},paste:function(e,t){var r=e.getCursor(),n=Lt.registerController.getRegister(t.registerName);if(n.text){for(var i="",o=0;t.repeat>o;o++)i+=n.text;var a=n.linewise;a?t.after?(i="\n"+i.slice(0,i.length-1),r.ch=S(e,r.line)):r.ch=0:r.ch+=t.after?1:0,e.replaceRange(i,r);var s,l;a&&t.after?s={line:r.line+1,ch:N(e.getLine(r.line+1))}:a&&!t.after?s={line:r.line,ch:N(e.getLine(r.line))}:!a&&t.after?(l=e.indexFromPos(r),s=e.posFromIndex(l+i.length-1)):(l=e.indexFromPos(r),s=e.posFromIndex(l+i.length)),e.setCursor(s)}},undo:function(e,t){e.operation(function(){x(e,CodeMirror.commands.undo,t.repeat)(),e.setCursor(e.getCursor("anchor"))})},redo:function(e,t){x(e,CodeMirror.commands.redo,t.repeat)()},setRegister:function(e,t,r){r.inputState.registerName=t.selectedCharacter},setMark:function(e,t,r){var n=t.selectedCharacter;B(e,r,n,e.getCursor())},replace:function(e,t,r){var n,i,o=t.selectedCharacter,a=e.getCursor();if(r.visualMode)a=e.getCursor("start"),i=e.getCursor("end"),i=e.clipPos({line:i.line,ch:i.ch+1});else{var s=e.getLine(a.line);n=a.ch+t.repeat,n>s.length&&(n=s.length),i={line:a.line,ch:n}}if("\n"==o)r.visualMode||e.replaceRange("",a,i),(CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent)(e);else{var l=e.getRange(a,i);l=l.replace(/[^\n]/g,o),e.replaceRange(l,a,i),r.visualMode?(e.setCursor(a),E(e)):e.setCursor(b(i,0,-1))}},incrementNumberToken:function(e,t){for(var r,n,i,o,a,s=e.getCursor(),l=e.getLine(s.line),c=/-?\d+/g;null!==(r=c.exec(l))&&(a=r[0],n=r.index,i=n+a.length,!(i>s.ch)););if((t.backtrack||!(s.ch>=i))&&a){var u=t.increase?1:-1,f=parseInt(a)+u*t.repeat,d={ch:n,line:s.line},h={ch:i,line:s.line};o=""+f,e.replaceRange(o,d,h),e.setCursor({line:s.line,ch:n+o.length-1})}},repeatLastEdit:function(e,t,r){var n=r.lastEditInputState;if(n){var i=t.repeat;i&&t.repeatIsExplicit?r.lastEditInputState.repeatOverride=i:i=r.lastEditInputState.repeatOverride||i,Mt(e,r,i,!1)}}},jt={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Ut={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb?!0:!1}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};G.prototype={getQuery:function(){return Lt.query},setQuery:function(e){Lt.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return Lt.isReversed},setReversed:function(e){Lt.isReversed=e}};var Vt="(Javascript regexp)",Gt=[{name:"map"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s"},{name:"nohlsearch",shortName:"noh"},{name:"delmarks",shortName:"delm"}];t.ExCommandDispatcher=function(){this.buildCommandMap_()},t.ExCommandDispatcher.prototype={processCommand:function(e,t){var r=e.state.vim;r.visualMode&&E(e);var n=new CodeMirror.StringStream(t),i={};i.input=t;try{this.parseInput_(e,n,i)}catch(o){return tt(e,o),void 0}var a;if(i.commandName){var s=this.matchCommand_(i.commandName);if(s){if(a=s.name,this.parseCommandArgs_(n,i,s),"exToKey"==s.type){for(var l=0;s.toKeys.length>l;l++)CodeMirror.Vim.handleKey(e,s.toKeys[l]);return}if("exToEx"==s.type)return this.processCommand(e,s.toInput),void 0}}else void 0!==i.line&&(a="move");if(!a)return tt(e,'Not an editor command ":'+t+'"'),void 0;try{Xt[a](e,i)}catch(o){throw tt(e,o),o}},parseInput_:function(e,t,r){t.eatWhile(":"),t.eat("%")?(r.line=e.firstLine(),r.lineEnd=e.lastLine()):(r.line=this.parseLineSpec_(e,t),void 0!==r.line&&t.eat(",")&&(r.lineEnd=this.parseLineSpec_(e,t)));var n=t.match(/^(\w+)/);return r.commandName=n?n[1]:t.match(/.*/)[0],r},parseLineSpec_:function(e,t){var r=t.match(/^(\d+)/);if(r)return parseInt(r[1],10)-1;switch(t.next()){case".":return e.getCursor().line;case"$":return e.lastLine();case"'":var n=e.state.vim.marks[t.next()];if(n&&n.find())return n.find().line;throw Error("Mark not set");default:return t.backUp(1),void 0}},parseCommandArgs_:function(e,t,r){if(!e.eol()){t.argString=e.match(/.*/)[0];var n=r.argDelimiter||/\s+/,i=T(t.argString).split(n);i.length&&i[0]&&(t.args=i)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var r=e.substring(0,t);if(this.commandMap_[r]){var n=this.commandMap_[r];if(0===n.name.indexOf(e))return n}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;Gt.length>e;e++){var t=Gt[e],r=t.shortName||t.name;this.commandMap_[r]=t}},map:function(t,r,n){if(":"!=t&&":"==t.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var i=t.substring(1);this.commandMap_[i]=":"!=r&&":"==r.charAt(0)?{name:i,type:"exToEx",toInput:r.substring(1)}:{name:i,type:"exToKey",toKeys:dt(r)}}else if(":"!=r&&":"==r.charAt(0)){var o={keys:dt(t),type:"keyToEx",exArgs:{input:r.substring(1)}};n&&(o.context=n),e.unshift(o)}else{var o={keys:dt(t),type:"keyToKey",toKeys:dt(r)};n&&(o.context=n),e.unshift(o)}}};var Xt={map:function(e,t,r){var n=t.args;return!n||2>n.length?(e&&tt(e,"Invalid mapping: "+t.input),void 0):(Yt.map(n[0],n[1],r),void 0)},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},move:function(e,t){$t.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},sort:function(e,t){function r(){if(t.argString){var e=new CodeMirror.StringStream(t.argString);if(e.eat("!")&&(i=!0),e.eol())return;if(!e.eatSpace())return"Invalid arguments";var r=e.match(/[a-z]+/);if(r){r=r[0],o=-1!=r.indexOf("i"),a=-1!=r.indexOf("u");var n=-1!=r.indexOf("d")&&1,l=-1!=r.indexOf("x")&&1,c=-1!=r.indexOf("o")&&1;if(n+l+c>1)return"Invalid arguments";s=n&&"decimal"||l&&"hex"||c&&"octal"}e.eatSpace()&&e.match(/\/.*\//)}}function n(e,t){if(i){var r;r=e,e=t,t=r}o&&(e=e.toLowerCase(),t=t.toLowerCase());var n=s&&p.exec(e),a=s&&p.exec(t);return n?(n=parseInt((n[1]+n[2]).toLowerCase(),m),a=parseInt((a[1]+a[2]).toLowerCase(),m),n-a):t>e?-1:1}var i,o,a,s,l=r();if(l)return tt(e,l+": "+t.argString),void 0;var c=t.line||e.firstLine(),u=t.lineEnd||t.line||e.lastLine();if(c!=u){var f={line:c,ch:0},d={line:u,ch:S(e,u)},h=e.getRange(f,d).split("\n"),p="decimal"==s?/(-?)([\d]+)/:"hex"==s?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==s?/([0-7]+)/:null,m="decimal"==s?10:"hex"==s?16:"octal"==s?8:null,g=[],v=[];if(s)for(var y=0;h.length>y;y++)p.exec(h[y])?g.push(h[y]):v.push(h[y]);else v=h;if(g.sort(n),v.sort(n),h=i?g.concat(v):v.concat(g),a){var b,k=h;h=[];for(var y=0;k.length>y;y++)k[y]!=b&&h.push(k[y]),b=k[y]}e.replaceRange(h.join("\n"),f,d)}},substitute:function(e,t){if(!e.getSearchCursor)throw Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var r=t.argString,n=J(r);if(0!==n[0])return tt(e,"Substitutions should be of the form :s/pattern/replace/"),void 0;var i,o,a=r.substring(n[0]+1,n[1]),s="",l=!1;if(n[1]&&(s=r.substring(n[1]+1,n[2]),s=Q(s)),n[2]){var c=r.substring(n[2]+1).split(" ");i=c[0],o=parseInt(c[1])}if(i&&(-1!=i.indexOf("c")&&(l=!0,i.replace("c","")),a=a+"/"+i),a)try{ot(e,a,!0,!0)}catch(u){return tt(e,"Invalid regex: "+a),void 0}var f=X(e),d=f.getQuery(),h=void 0!==t.line?t.line:e.getCursor().line,p=t.lineEnd||h;o&&(h=p,p=h+o-1);var m=v(e,{line:h,ch:0}),g=e.getSearchCursor(d,m);ht(e,l,h,p,g,d,s)},redo:CodeMirror.commands.redo,undo:CodeMirror.commands.undo,write:function(e){CodeMirror.commands.save?CodeMirror.commands.save(e):e.save()},nohlsearch:function(e){ct(e)},delmarks:function(e,t){if(!t.argString||!T(t.argString))return tt(e,"Argument required"),void 0;for(var r=e.state.vim,n=new CodeMirror.StringStream(T(t.argString));!n.eol();){n.eatSpace();var i=n.pos;if(!n.match(/[a-zA-Z]/,!1))return tt(e,"Invalid argument: "+t.argString.substring(i)),void 0;var o=n.next();if(n.match("-",!0)){if(!n.match(/[a-zA-Z]/,!1))return tt(e,"Invalid argument: "+t.argString.substring(i)),void 0;var s=o,l=n.next();if(!(a(s)&&a(l)||c(s)&&c(l)))return tt(e,"Invalid argument: "+s+"-"),void 0;var u=s.charCodeAt(0),f=l.charCodeAt(0);if(u>=f)return tt(e,"Invalid argument: "+t.argString.substring(i)),void 0;for(var d=0;f-u>=d;d++){var h=String.fromCharCode(u+d);delete r.marks[h]}}else delete r.marks[o]}}},Yt=new t.ExCommandDispatcher;return CodeMirror.keyMap.vim=pt(),CodeMirror.keyMap["vim-insert"]={Esc:mt,"Ctrl-[":mt,"Ctrl-C":mt,"Ctrl-N":"autocomplete","Ctrl-P":"autocomplete",Enter:function(e){var t=CodeMirror.commands.newlineAndIndentContinueComment||CodeMirror.commands.newlineAndIndent;t(e)},fallthrough:["default"]},CodeMirror.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"]},h(),Ft};CodeMirror.Vim=t()}();